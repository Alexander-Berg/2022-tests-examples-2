{
  "invalid": {
    "no_attributes": [
      {
        "request": {
          "params": {}
        },
        "response": {
          "body": {
            "code": "no_attributes",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Either phone or driver_license must exist in request"
          },
          "status": 400
        }
      }
    ],
    "no_valid_attributes": [
      {
        "request": {
          "params": {
            "license": "INVALID",
            "phone": "+79999999999"
          }
        },
        "response": {
          "body": {
            "code": "no_valid_attributes",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Not able to convert attributes to personal"
          },
          "status": 400
        }
      }
    ]
  },
  "valid": {
    "blacklisted": [
      {
        "request": {
          "comment": "in mongo",
          "params": {
            "phone": "+79998887783"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [+79998887783] and/or license [] are in blacklist"
          },
          "status": 404
        }
      },
      {
        "request": {
          "comment": "in `leads` table",
          "params": {
            "phone": "+79998887786"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [+79998887786] and/or license [] are in blacklist"
          },
          "status": 404
        }
      },
      {
        "request": {
          "comment": "in mongo",
          "params": {
            "driver_license": "12AA444333",
            "phone": "+79998887783"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [+79998887783] and/or license [12AA444333] are in blacklist"
          },
          "status": 404
        }
      },
      {
        "request": {
          "comment": "in `leads` table",
          "params": {
            "driver_license": "14KK222888",
            "phone": "+79998887786"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [+79998887786] and/or license [14KK222888] are in blacklist"
          },
          "status": 404
        }
      }
    ],
    "from_candidates": [
      {
        "request": {
          "params": {
            "phone": "+79998887785"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-14T16:00:00+03:00",
            "driver_license": "14KK222999",
            "is_rent": false,
            "name": "Kirk",
            "phone": "+79998887785"
          },
          "status": 200
        }
      },
      {
        "request": {
          "params": {
            "driver_license": "14KK222999",
            "phone": "+79998887785"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-14T16:00:00+03:00",
            "driver_license": "14KK222999",
            "is_rent": false,
            "name": "Kirk",
            "phone": "+79998887785"
          },
          "status": 200
        }
      }
    ],
    "from_communications": [
      {
        "request": {
          "params": {
            "phone": "+79998887789"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-08-01T00:00:00+03:00",
            "driver_license": "0123",
            "is_rent": false,
            "name": "Vasya",
            "phone": "+79998887789"
          },
          "status": 200
        }
      },
      {
        "request": {
          "params": {
            "driver_license": "0123",
            "phone": "+79998887789"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-08-01T00:00:00+03:00",
            "driver_license": "0123",
            "is_rent": false,
            "name": "Vasya",
            "phone": "+79998887789"
          },
          "status": 200
        }
      }
    ],
    "from_mongo": [
      {
        "request": {
          "params": {
            "phone": "+79998887782"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-11T15:00:00+03:00",
            "driver_license": "456789",
            "is_rent": true,
            "name": "Ivan",
            "phone": "+79998887782"
          },
          "status": 200
        }
      },
      {
        "request": {
          "params": {
            "driver_license": "456789",
            "phone": "+79998887782"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-11T15:00:00+03:00",
            "driver_license": "456789",
            "is_rent": true,
            "name": "Ivan",
            "phone": "+79998887782"
          },
          "status": 200
        }
      }
    ],
    "license_blacklisted": [
      {
        "request": {
          "comment": "in mongo",
          "params": {
            "driver_license": "12AA444333"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [] and/or license [12AA444333] are in blacklist"
          },
          "status": 404
        }
      },
      {
        "request": {
          "comment": "in `leads` table",
          "params": {
            "driver_license": "14KK222888"
          }
        },
        "response": {
          "body": {
            "code": "attribute_is_blacklisted",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Phone [] and/or license [14KK222888] are in blacklist"
          },
          "status": 404
        }
      }
    ],
    "license_from_candidates": [
      {
        "request": {
          "params": {
            "driver_license": "14KK222999"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-14T16:00:00+03:00",
            "driver_license": "14KK222999",
            "is_rent": false,
            "name": "Kirk",
            "phone": "+79998887785"
          },
          "status": 200
        }
      }
    ],
    "license_from_communications": [
      {
        "request": {
          "params": {
            "driver_license": "0123"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-08-01T00:00:00+03:00",
            "driver_license": "0123",
            "is_rent": false,
            "name": "Vasya",
            "phone": "+79998887789"
          },
          "status": 200
        }
      }
    ],
    "license_from_mongo": [
      {
        "request": {
          "params": {
            "driver_license": "456789"
          }
        },
        "response": {
          "body": {
            "created_dttm": "2020-09-11T15:00:00+03:00",
            "driver_license": "456789",
            "is_rent": true,
            "name": "Ivan",
            "phone": "+79998887782"
          },
          "status": 200
        }
      }
    ],
    "license_non_existent": [
      {
        "request": {
          "params": {
            "driver_license": "123"
          }
        },
        "response": {
          "body": {
            "code": "attributes_not_found",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Neither license [123], nor phone [] exist in active period"
          },
          "status": 404
        }
      }
    ],
    "phone_non_existent": [
      {
        "request": {
          "params": {
            "phone": "+79998887761"
          }
        },
        "response": {
          "body": {
            "code": "attributes_not_found",
            "details": {
              "occurred_at": "2020-08-05T00:00:00+03:00"
            },
            "message": "Neither license [], nor phone [+79998887761] exist in active period"
          },
          "status": 404
        }
      }
    ]
  }
}
