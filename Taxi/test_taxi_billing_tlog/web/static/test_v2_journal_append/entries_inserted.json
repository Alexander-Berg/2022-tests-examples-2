{
  "expected_response": {
    "data": {
      "entries": [
        {
          "id": 1,
          "partition": "2019-07-17",
          "payload": {
            "amount": "100",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi"
          },
          "service_transaction_id": "12345",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 2,
          "partition": "2019-07-17",
          "payload": {
            "amount": "200",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi"
          },
          "service_transaction_id": "12346",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 3,
          "partition": "2019-07-17",
          "payload": {
            "amount": "300",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "payload": {
              "alias_id": "taxi_order_alias_id",
              "oebs_mvp_id": "MSKc",
              "order_id": "taxi_order_id",
              "tariff_class": "econom"
            },
            "service": "taxi"
          },
          "service_transaction_id": "12347",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 4,
          "partition": "2019-07-17",
          "payload": {
            "amount": "400",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "wallet_id": "w/01234567-abcd-efgh-0123-456789abcdef"
          },
          "service_transaction_id": "12348",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 5,
          "partition": "2019-07-17",
          "payload": {
            "amount": "500",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "payload": {
              "some_other_field_that_we_dont_know_about": "baz"
            },
            "service": "taxi"
          },
          "service_transaction_id": "12349",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 6,
          "partition": "2019-07-17",
          "payload": {
            "amount": "600",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "transaction_type": "payment"
          },
          "service_transaction_id": "12350",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        },
        {
          "id": 7,
          "partition": "2019-07-17",
          "payload": {
            "amount": "700",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "transaction_type": "refund"
          },
          "service_transaction_id": "12351",
          "topic": "cashback",
          "transaction_time": "2019-07-17T12:00:00+03:00"
        }
      ]
    },
    "status": 200
  },
  "expected_rows": [
    {
      "$tuple": [
        1,
        "12345",
        {
          "columns": {
            "amount": "100",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        2,
        "12346",
        {
          "columns": {
            "amount": "200",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        3,
        "12347",
        {
          "columns": {
            "amount": "300",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "payload": {
              "alias_id": "taxi_order_alias_id",
              "oebs_mvp_id": "MSKc",
              "order_id": "taxi_order_id",
              "tariff_class": "econom"
            },
            "service": "taxi"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        4,
        "12348",
        {
          "columns": {
            "amount": "400",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "wallet_id": "w/01234567-abcd-efgh-0123-456789abcdef"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        5,
        "12349",
        {
          "columns": {
            "amount": "500",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "payload": {
              "some_other_field_that_we_dont_know_about": "baz"
            },
            "service": "taxi"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        6,
        "12350",
        {
          "columns": {
            "amount": "600",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "transaction_type": "payment"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    },
    {
      "$tuple": [
        7,
        "12351",
        {
          "columns": {
            "amount": "700",
            "currency": "RUB",
            "event_time": "2020-02-02T13:00:00+03:00",
            "invoice_date": "2020-02-01T18:00:00+03:00",
            "order_id": "42",
            "service": "taxi",
            "transaction_type": "refund"
          },
          "created": "2019-07-17T09:00:00.000000+00:00"
        }
      ]
    }
  ],
  "expected_table": "topic_cashback",
  "request": {
    "entries": [
      {
        "amount": "100",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "service": "taxi",
        "service_transaction_id": "12345",
        "topic": "cashback"
      },
      {
        "amount": "200",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "service": "taxi",
        "service_transaction_id": "12346",
        "topic": "cashback"
      },
      {
        "amount": "300",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "payload": {
          "alias_id": "taxi_order_alias_id",
          "oebs_mvp_id": "MSKc",
          "order_id": "taxi_order_id",
          "tariff_class": "econom"
        },
        "service": "taxi",
        "service_transaction_id": "12347",
        "topic": "cashback"
      },
      {
        "amount": "400",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "service": "taxi",
        "service_transaction_id": "12348",
        "topic": "cashback",
        "wallet_id": "w/01234567-abcd-efgh-0123-456789abcdef"
      },
      {
        "amount": "500",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "payload": {
          "some_other_field_that_we_dont_know_about": "baz"
        },
        "service": "taxi",
        "service_transaction_id": "12349",
        "some_field_that_we_dont_know_about": "foobar",
        "topic": "cashback"
      },
      {
        "amount": "600",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "service": "taxi",
        "service_transaction_id": "12350",
        "topic": "cashback",
        "transaction_type": "payment"
      },
      {
        "amount": "700",
        "currency": "RUB",
        "event_time": "2020-02-02T10:00:00+00:00",
        "invoice_date": "2020-02-01T15:00:00+00:00",
        "order_id": "42",
        "service": "taxi",
        "service_transaction_id": "12351",
        "topic": "cashback",
        "transaction_type": "refund"
      }
    ]
  }
}
