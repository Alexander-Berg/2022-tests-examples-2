IF(U(?,SL(1,4,1,15,B(fix,.,F(coupon)))),IF(SL(2,6,2,18,B(U(*,B(fix,.,F(coupon))),.,F(valid))),SV(price,SL(3,16,3,27,U(*,B(ride,.,F(price)))));SV(meta,SL(4,15,4,76,MAP("price_before_coupon"=B(VA(price),round_to,B(fix,.,F(rounding_factor))))));IF(SL(6,8,6,23,B(VA(price),>=,0.000100)),IF(U(?,SL(7,10,7,25,B(U(*,B(fix,.,F(coupon))),.,F(percent)))),SV(percent_value,SL(8,28,8,49,B(B(VA(price),*,U(*,B(U(*,B(fix,.,F(coupon))),.,F(percent)))),/,100.000000)));IF(U(?,SL(9,12,9,25,B(U(*,B(fix,.,F(coupon))),.,F(limit)))),SV(coupon_value,SL(10,29,10,76,T(SL(10,30,10,51,B(U(*,B(U(*,B(fix,.,F(coupon))),.,F(limit))),<,VA(percent_value))),SL(10,55,10,61,U(*,B(U(*,B(fix,.,F(coupon))),.,F(limit)))),SL(10,63,10,76,VA(percent_value)))));SV(result,SL(11,23,11,43,B(VA(price),-,VA(coupon_value))));CR(boarding=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(boarding)),destination_waiting=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(destination_waiting)),distance=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(distance)),metadata=SL(12,88,12,93,VA(meta)),requirements=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(requirements)),time=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(time)),transit_waiting=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(transit_waiting)),waiting=B(SL(12,24,12,74,B(B(ride,.,F(price)),*,SL(12,38,12,73,B(SL(12,39,12,64,T(SL(12,40,12,50,B(VA(result),>,0.000000)),SL(12,54,12,61,VA(result)),SL(12,63,12,64,0.000000))),/,VA(price))))),.,F(waiting))));SV(result,SL(14,21,14,42,B(VA(price),-,VA(percent_value))));CR(boarding=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(boarding)),destination_waiting=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(destination_waiting)),distance=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(distance)),metadata=SL(15,86,15,91,VA(meta)),requirements=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(requirements)),time=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(time)),transit_waiting=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(transit_waiting)),waiting=B(SL(15,22,15,72,B(B(ride,.,F(price)),*,SL(15,36,15,71,B(SL(15,37,15,62,T(SL(15,38,15,48,B(VA(result),>,0.000000)),SL(15,52,15,59,VA(result)),SL(15,61,15,62,0.000000))),/,VA(price))))),.,F(waiting))));SV(result,SL(17,19,17,39,B(VA(price),-,B(U(*,B(fix,.,F(coupon))),.,F(value)))));CR(boarding=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(boarding)),destination_waiting=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(destination_waiting)),distance=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(distance)),metadata=SL(18,84,18,89,VA(meta)),requirements=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(requirements)),time=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(time)),transit_waiting=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(transit_waiting)),waiting=B(SL(18,20,18,70,B(B(ride,.,F(price)),*,SL(18,34,18,69,B(SL(18,35,18,60,T(SL(18,36,18,46,B(VA(result),>,0.000000)),SL(18,50,18,57,VA(result)),SL(18,59,18,60,0.000000))),/,VA(price))))),.,F(waiting))));CR(metadata=SL(21,23,21,28,VA(meta)))));CR(boarding=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(requirements)),time=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(25,7,25,17,B(ride,.,F(price))),.,F(waiting)))