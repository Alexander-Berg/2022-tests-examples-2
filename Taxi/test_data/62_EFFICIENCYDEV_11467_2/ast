FUNC(abs,ARGS((val,double)),B(CR(res=SL(2,18,2,40,T(SL(2,19,2,26,B(FA(val,double),<,0.000000)),SL(2,30,2,35,U(-,FA(val,double))),SL(2,37,2,40,FA(val,double)))))));FUNC(processTableElement,ARGS((elem,clients::discounts::TableDataA),(first_iteration,bool),(has_result,bool),(prev_elem_coeff,double),(prev_elem_price,double),(price,double),(result,double)),B(IF(SL(13,8,13,18,FA(has_result,bool)),CR(first_iteration=SL(19,30,19,35,false),has_result=SL(15,25,15,29,true),prev_elem_coeff=SL(21,30,22,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(20,30,20,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(18,20,18,25,FA(price,double)),result=SL(16,21,16,27,FA(result,double))));IF(SL(26,8,26,45,B(FA(first_iteration,bool),&&,B(FA(price,double),<,B(FA(elem,clients::discounts::TableDataA),.,F(price))))),CR(first_iteration=SL(31,30,31,35,false),has_result=SL(28,25,28,29,true),prev_elem_coeff=SL(33,30,34,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(32,30,32,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(30,20,30,25,FA(price,double)),result=SL(29,21,29,31,B(FA(elem,clients::discounts::TableDataA),.,F(coeff)))));IF(SL(38,8,38,74,B(B(U(!,FA(first_iteration,bool)),&&,B(FA(prev_elem_price,double),<=,FA(price,double))),&&,B(FA(price,double),<,B(FA(elem,clients::discounts::TableDataA),.,F(price))))),IF(SL(40,12,40,62,B(B(FC(abs,NT(val=SL(40,20,40,48,B(B(FA(elem,clients::discounts::TableDataA),.,F(price)),-,FA(prev_elem_price,double)))),R(res=double)),.,F(res)),<,0.000100)),CR(first_iteration=SL(45,34,45,39,false),has_result=SL(42,29,42,33,true),prev_elem_coeff=SL(47,34,48,12,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(46,34,46,44,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(44,24,44,29,FA(price,double)),result=SL(43,25,43,26,0.000000)));CR(first_iteration=SL(57,30,57,35,false),has_result=SL(52,25,52,29,true),prev_elem_coeff=SL(59,30,60,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(58,30,58,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(56,20,56,25,FA(price,double)),result=SL(53,21,55,52,B(FA(prev_elem_coeff,double),+,B(B(SL(54,19,54,47,B(B(FA(elem,clients::discounts::TableDataA),.,F(coeff)),-,FA(prev_elem_coeff,double))),*,SL(54,52,54,75,B(FA(price,double),-,FA(prev_elem_price,double)))),/,SL(55,23,55,51,B(B(FA(elem,clients::discounts::TableDataA),.,F(price)),-,FA(prev_elem_price,double))))))));CR(first_iteration=SL(68,26,68,31,false),has_result=SL(65,21,65,26,false),prev_elem_coeff=SL(70,26,71,4,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(69,26,69,36,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(67,16,67,21,FA(price,double)),result=SL(66,17,66,23,FA(result,double)))));FUNC(calculateTableDiscountPercent,ARGS((price,double),(table,std::vector<clients::discounts::TableDataA>)),B(SV(process_table_result,SL(76,31,83,6,FL(SL(76,36,76,42,FA(table,std::vector<clients::discounts::TableDataA>)),elem,NT(first_iteration=SL(80,26,80,30,true),has_result=SL(77,21,77,26,false),prev_elem_coeff=SL(82,26,83,4,0.000000),prev_elem_price=SL(81,26,81,27,0.000000),price=SL(79,16,79,21,FA(price,double)),result=SL(78,17,78,18,0.000000)),FC(processTableElement,NT(elem=VA(elem),first_iteration=VA(first_iteration),has_result=VA(has_result),prev_elem_coeff=VA(prev_elem_coeff),prev_elem_price=VA(prev_elem_price),price=VA(price),result=VA(result)),R(first_iteration=bool,has_result=bool,prev_elem_coeff=double,prev_elem_price=double,price=double,result=double)))));IF(SL(86,8,86,39,B(VA(process_table_result),.,F(has_result))),CR(res=SL(87,22,87,49,B(VA(process_table_result),.,F(result)))));CR(res=SL(91,18,91,54,B(VA(process_table_result),.,F(prev_elem_coeff))))));IF(U(?,SL(94,4,94,17,B(fix,.,F(discount)))),SV(affected_price,SL(95,25,97,69,B(B(B(U(*,B(ride,.,F(price))),-,B(B(ride,.,F(price)),.,F(waiting))),-,B(B(ride,.,F(price)),.,F(transit_waiting))),-,B(B(ride,.,F(price)),.,F(destination_waiting)))));SV(percent,SL(99,18,101,11,T(U(?,SL(99,19,99,49,B(U(*,B(fix,.,F(discount))),.,F(calc_data_table_data)))),SL(100,10,101,8,B(FC(calculateTableDiscountPercent,NT(price=SL(100,61,100,75,VA(affected_price)),table=SL(100,48,100,51,U(*,B(U(*,B(fix,.,F(discount))),.,F(calc_data_table_data))))),R(res=double)),.,F(res))),SL(101,10,101,11,0.000000))));CR(metadata=SL(103,21,103,41,MAP("percent"=VA(percent)))));CR(boarding=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(requirements)),time=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(106,7,106,17,B(ride,.,F(price))),.,F(waiting)))