FUNC(abs,ARGS((val,double)),B(CR(res=SL(2,18,2,40,T(SL(2,19,2,26,B(FA(val,double),<,0.000000)),SL(2,30,2,35,U(-,FA(val,double))),SL(2,37,2,40,FA(val,double)))))));IF(U(?,SL(5,4,5,19,B(fix,.,F(plus_promo)))),IF(U(?,SL(7,6,7,43,B(fix,.,F(previously_calculated_categories)))),IF(SL(8,8,8,66,B(B(U(*,B(fix,.,F(plus_promo))),.,F(tariff_from)),in,U(*,B(fix,.,F(previously_calculated_categories))))),SV(tariff_from_final_prices,SL(10,37,10,111,B(B(B(U(*,B(fix,.,F(previously_calculated_categories))),.,SL(10,70,10,92,B(U(*,B(fix,.,F(plus_promo))),.,F(tariff_from)))),.,F(user)),.,F(final_prices))));SV(tariff_from_price,SL(12,30,14,48,T(SL(12,31,12,90,B("user_total_price",in,B(B(VA(tariff_from_final_prices),.,SL(12,78,12,84,"main")),.,F(meta)))),SL(13,10,14,8,B(B(B(VA(tariff_from_final_prices),.,SL(13,35,13,41,"main")),.,F(meta)),.,SL(13,48,13,66,"user_total_price"))),SL(14,10,14,48,B(B(VA(tariff_from_final_prices),.,SL(14,35,14,41,"main")),.,F(total))))));IF(SL(17,10,17,42,B(U(*,B(ride,.,F(price))),<=,VA(tariff_from_price))),CR(boarding=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(requirements)),time=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(18,15,18,25,B(ride,.,F(price))),.,F(waiting))));SV(base_diff,SL(21,22,21,53,B(U(*,B(ride,.,F(price))),-,VA(tariff_from_price))));SV(need_modify_diff,SL(24,29,24,80,B(B(FC(abs,NT(val=SL(24,37,24,67,B(U(*,B(fix,.,F(plus_promo))),.,F(change_diff_percent)))),R(res=double)),.,F(res)),>,0.001000)));SV(diff,SL(25,17,27,19,T(SL(25,18,25,34,VA(need_modify_diff)),SL(26,10,27,8,B(B(VA(base_diff),*,SL(26,23,26,59,B(100.000000,+,B(U(*,B(fix,.,F(plus_promo))),.,F(change_diff_percent))))),/,100.000000)),SL(27,10,27,19,VA(base_diff)))));SV(result_diff,SL(29,24,29,65,T(SL(29,25,29,43,B(VA(diff),<,U(*,B(ride,.,F(price))))),SL(29,47,29,52,VA(diff)),SL(29,54,29,65,U(*,B(ride,.,F(price)))))));SV(withdraw_amount,SL(31,28,31,70,B(VA(result_diff),round_to,B(fix,.,F(rounding_factor)))));IF(SL(32,10,32,47,B(VA(withdraw_amount),<,B(fix,.,F(rounding_factor)))),CR(boarding=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(requirements)),time=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(33,15,33,25,B(ride,.,F(price))),.,F(waiting))));SV(display_price,SL(36,26,36,55,B(U(*,B(ride,.,F(price))),-,VA(withdraw_amount))));SV(display_min_price,SL(37,30,39,11,T(SL(37,31,37,73,B(B(B(fix,.,F(tariff)),.,F(minimum_price)),>,VA(withdraw_amount))),SL(38,10,39,8,B(B(B(fix,.,F(tariff)),.,F(minimum_price)),-,VA(withdraw_amount))),SL(39,10,39,11,0.000000))));CR(metadata=SL(41,24,54,7,MAP("personal_wallet_withdraw_amount"=VA(withdraw_amount),"display_price"=B(VA(display_price),round_to,B(fix,.,F(rounding_factor))),"display_min_price"=B(VA(display_min_price),round_to,B(fix,.,F(rounding_factor))),"cashback_rate"=0.000000,"cashback_max_value"=0.000000,B("tariff_from_",+,B(U(*,B(fix,.,F(plus_promo))),.,F(tariff_from)))=1.000000,B("tariff_to_",+,B(fix,.,F(category)))=1.000000))))));CR(boarding=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(requirements)),time=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(58,7,58,17,B(ride,.,F(price))),.,F(waiting)))