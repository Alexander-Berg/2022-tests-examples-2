FUNC(min,ARGS((a,double),(b,double)),B(CR(res=SL(2,17,2,33,T(SL(2,18,2,23,B(FA(a,double),<,FA(b,double))),SL(2,27,2,29,FA(a,double)),SL(2,31,2,33,FA(b,double)))))));FUNC(subtractValueFromCompositePrice,ARGS((price,price_calc::models::Price),(value,double)),B(SV(distance_dec,SL(9,21,9,55,B(FC(min,NT(a=SL(9,27,9,41,B(FA(price,price_calc::models::Price),.,F(distance))),b=SL(9,45,9,50,FA(value,double))),R(res=double)),.,F(res))));SV(value1,SL(10,15,10,35,B(FA(value,double),-,VA(distance_dec))));SV(time_dec,SL(11,17,11,48,B(FC(min,NT(a=SL(11,23,11,33,B(FA(price,price_calc::models::Price),.,F(time))),b=SL(11,37,11,43,VA(value1))),R(res=double)),.,F(res))));SV(value2,SL(12,15,12,32,B(VA(value1),-,VA(time_dec))));SV(requirements_dec,SL(13,25,13,64,B(FC(min,NT(a=SL(13,31,13,49,B(FA(price,price_calc::models::Price),.,F(requirements))),b=SL(13,53,13,59,VA(value2))),R(res=double)),.,F(res))));SV(value3,SL(14,15,14,40,B(VA(value2),-,VA(requirements_dec))));SV(boarding_dec,SL(15,21,15,56,B(FC(min,NT(a=SL(15,27,15,41,B(FA(price,price_calc::models::Price),.,F(boarding))),b=SL(15,45,15,51,VA(value3))),R(res=double)),.,F(res))));SV(value4,SL(16,15,16,36,B(VA(value3),-,VA(boarding_dec))));SV(destination_waiting_dec,SL(17,32,17,78,B(FC(min,NT(a=SL(17,38,17,63,B(FA(price,price_calc::models::Price),.,F(destination_waiting))),b=SL(17,67,17,73,VA(value4))),R(res=double)),.,F(res))));SV(value5,SL(18,15,18,47,B(VA(value4),-,VA(destination_waiting_dec))));SV(transit_waiting_dec,SL(19,28,19,70,B(FC(min,NT(a=SL(19,34,19,55,B(FA(price,price_calc::models::Price),.,F(transit_waiting))),b=SL(19,59,19,65,VA(value5))),R(res=double)),.,F(res))));SV(value6,SL(20,15,20,43,B(VA(value5),-,VA(transit_waiting_dec))));SV(waiting_dec,SL(21,20,21,54,B(FC(min,NT(a=SL(21,26,21,39,B(FA(price,price_calc::models::Price),.,F(waiting))),b=SL(21,43,21,49,VA(value6))),R(res=double)),.,F(res))));CR(boarding=SL(24,17,24,46,B(B(FA(price,price_calc::models::Price),.,F(boarding)),-,VA(boarding_dec))),destination_waiting=SL(30,28,31,2,B(B(FA(price,price_calc::models::Price),.,F(destination_waiting)),-,VA(destination_waiting_dec))),distance=SL(25,17,25,46,B(B(FA(price,price_calc::models::Price),.,F(distance)),-,VA(distance_dec))),requirements=SL(27,21,27,58,B(B(FA(price,price_calc::models::Price),.,F(requirements)),-,VA(requirements_dec))),time=SL(26,13,26,34,B(B(FA(price,price_calc::models::Price),.,F(time)),-,VA(time_dec))),transit_waiting=SL(29,24,29,67,B(B(FA(price,price_calc::models::Price),.,F(transit_waiting)),-,VA(transit_waiting_dec))),waiting=SL(28,16,28,43,B(B(FA(price,price_calc::models::Price),.,F(waiting)),-,VA(waiting_dec))))));IF(U(?,SL(34,4,34,15,B(fix,.,F(coupon)))),IF(SL(35,6,35,18,B(U(*,B(fix,.,F(coupon))),.,F(valid))),SV(price,SL(36,16,36,27,U(*,B(ride,.,F(price)))));SV(meta1,SL(37,16,37,77,MAP("price_before_coupon"=B(VA(price),round_to,B(fix,.,F(rounding_factor))))));IF(SL(39,8,39,23,B(VA(price),>=,0.000100)),SV(percent_value,SL(40,26,40,81,T(U(?,SL(40,27,40,42,B(U(*,B(fix,.,F(coupon))),.,F(percent)))),SL(40,56,40,78,B(B(VA(price),*,U(*,B(U(*,B(fix,.,F(coupon))),.,F(percent)))),/,100.000000)),SL(40,80,40,81,0.000000))));SV(coupon_value,SL(41,25,45,41,T(U(?,SL(41,26,41,41,B(U(*,B(fix,.,F(coupon))),.,F(percent)))),SL(42,29,45,27,T(U(?,SL(42,30,42,43,B(U(*,B(fix,.,F(coupon))),.,F(limit)))),SL(43,33,44,31,B(FC(min,NT(a=SL(43,39,43,44,U(*,B(U(*,B(fix,.,F(coupon))),.,F(limit)))),b=SL(43,48,43,61,VA(percent_value))),R(res=double)),.,F(res))),SL(44,33,45,27,VA(percent_value)))),SL(45,29,45,41,B(U(*,B(fix,.,F(coupon))),.,F(value))))));SV(meta2,SL(46,18,46,48,MAP("coupon_value"=VA(coupon_value))));SV(new_price,SL(48,22,48,91,FC(subtractValueFromCompositePrice,NT(price=SL(48,60,48,70,B(ride,.,F(price))),value=SL(48,78,48,90,VA(coupon_value))),R(boarding=double,destination_waiting=double,distance=double,requirements=double,time=double,transit_waiting=double,waiting=double))));CR(boarding=SL(50,19,50,37,B(VA(new_price),.,F(boarding))),destination_waiting=SL(56,30,56,59,B(VA(new_price),.,F(destination_waiting))),distance=SL(51,19,51,37,B(VA(new_price),.,F(distance))),metadata=SL(57,19,58,6,B(VA(meta1),+,VA(meta2))),requirements=SL(53,23,53,45,B(VA(new_price),.,F(requirements))),time=SL(52,15,52,29,B(VA(new_price),.,F(time))),transit_waiting=SL(55,26,55,51,B(VA(new_price),.,F(transit_waiting))),waiting=SL(54,18,54,35,B(VA(new_price),.,F(waiting)))));CR(metadata=SL(60,23,60,29,VA(meta1)))));CR(boarding=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(requirements)),time=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(64,7,64,17,B(ride,.,F(price))),.,F(waiting)))