{
  "driver_mode_context": {
    "$driver_mode_context": {
      "subscription": null
    }
  },
  "event": {
    "$blueprint:driver_geoarea_activity": {
      "available_tariff_classes": {
        "$frozenset": [
          "comfort"
        ]
      },
      "geoarea_activities": [
        {
          "$geoarea_activity": {
            "geoareas": [
              "msk-small"
            ],
            "interval": {
              "$factory:datetime_interval": [
                "2019-11-18T11:00:00+03:00",
                "2019-11-18T13:00:00+03:00"
              ]
            }
          }
        }
      ],
      "time_interval": {
        "$factory:datetime_interval": [
          "2019-11-18T00:00:00+03:00",
          "2019-11-19T15:00:00+03:00"
        ]
      }
    }
  },
  "expected_event_handled": {
    "$blueprint:rule_event_handled": {
      "journal_entries": [
        {
          "$journal_entry": {
            "agreement_id": "subvention_agreement/1/default/_id/driver_fix_rule_id",
            "all_reasons": [
              {
                "$factory:unfit_reason": {
                  "code": "profile_tariff_classes",
                  "details": {
                    "required_values": [
                      "econom",
                      "comfort"
                    ],
                    "values": {
                      "$frozenset": [
                        "comfort"
                      ]
                    }
                  },
                  "sub_kind": "all_in"
                }
              }
            ],
            "delta": {
              "$money": "120 XXX"
            },
            "details": null,
            "entity": {
              "$entity": {
                "external_id": "taximeter_driver_id/db_id/uuid",
                "kind": "driver"
              }
            },
            "event_at": {
              "$datetime": "2019-11-18T00:00:00+03:00"
            },
            "sub_account": "unfit/time/free_minutes"
          }
        }
      ],
      "shift_ended_events": []
    }
  },
  "rule": {
    "$blueprint:driver_fix_rule": {
      "data": {
        "$blueprint:driver_fix_rule_data": {
          "profile_tariff_classes": [
            "econom",
            "comfort"
          ],
          "rate_intervals": {
            "$factory:driver_fix_rate_intervals": [
              "Mon 12:00, 1"
            ]
          }
        }
      },
      "matcher": {
        "$moscow_rule_matcher": {
          "end": {
            "$datetime": "2019-11-19T11:00:00+03:00"
          },
          "start": {
            "$datetime": "2019-11-18T00:00:00+03:00"
          }
        }
      }
    }
  }
}
