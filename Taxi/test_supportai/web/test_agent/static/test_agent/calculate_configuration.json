{
  "dst": {
    "features": [
      {
        "can_be_found_without_question": true,
        "is_array": false,
        "is_calculated": true,
        "key": "calculated_first",
        "predicate": "calculated is not undefined",
        "type": "bool"
      },
      {
        "can_be_found_without_question": true,
        "is_array": false,
        "is_calculated": true,
        "key": "calculated_after_predicate",
        "predicate": "calculated",
        "type": "bool"
      }
    ]
  },
  "flags": {
    "clear_slots_after_topic_change": true
  },
  "nlu": {
    "model": {
      "model_slug": "test_model",
      "model_title": "Модель",
      "model_topics": [],
      "model_version": "1"
    },
    "slots": [],
    "topics": []
  },
  "policy": {
    "fallback_group": {
      "policy_blocks": []
    },
    "main_group": {
      "policy_blocks": [
        {
          "policy_items": [
            {
              "actions": [
                {
                  "parameters": {
                    "features": [
                      {
                        "is_calculated": true,
                        "key": "calculated",
                        "value": "iteration_number = 1"
                      }
                    ]
                  },
                  "type": "change_state"
                }
              ],
              "max_retries": 1,
              "predicate": "calculated is undefined",
              "slug": "calc1",
              "topic_slug": null
            }
          ],
          "slug": "calc"
        },
        {
          "policy_items": [
            {
              "actions": [
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "any",
                        "type": "str",
                        "value": "any"
                      }
                    ]
                  },
                  "type": "change_state"
                }
              ],
              "max_retries": 1,
              "predicate": "calculated is not undefined",
              "slug": "middleware",
              "topic_slug": null
            }
          ],
          "slug": "middleware"
        },
        {
          "policy_items": [
            {
              "max_retries": 1,
              "predicate": "calculated_after_predicate is not undefined",
              "response_action": {
                "parameters": {
                  "text": "END"
                },
                "type": "response"
              },
              "slug": "end",
              "topic_slug": null
            }
          ],
          "slug": "end"
        }
      ]
    },
    "pre_group": {
      "policy_blocks": []
    }
  }
}
