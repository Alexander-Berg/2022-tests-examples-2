{
  "dst": {
    "features": [
      {
        "can_be_found_without_question": true,
        "entity": "numbers",
        "entity_extract_order": 0,
        "is_array": false,
        "key": "first_4",
        "type": "str"
      },
      {
        "can_be_found_without_question": true,
        "entity": "numbers",
        "entity_extract_order": 0,
        "is_array": false,
        "key": "last_4",
        "type": "str"
      },
      {
        "can_be_found_without_question": true,
        "entity": "numbers",
        "entity_extract_order": 0,
        "is_array": false,
        "key": "last_4_duplicate",
        "type": "str"
      },
      {
        "can_be_found_without_question": true,
        "is_array": false,
        "key": "state",
        "type": "str"
      }
    ]
  },
  "flags": {},
  "nlu": {
    "entities": [
      {
        "extractor": {
          "name": "regular_expression",
          "params": {
            "regular_expression": "\\d{4}"
          }
        },
        "name": "numbers",
        "type": "str"
      }
    ],
    "topics": []
  },
  "policy": {
    "fallback_group": {
      "policy_blocks": []
    },
    "main_group": {
      "policy_blocks": [
        {
          "policy_items": [
            {
              "actions": [
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "state",
                        "status": "defined",
                        "value": "1"
                      }
                    ]
                  },
                  "type": "change_state"
                },
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "first_4",
                        "status": "in_progress",
                        "value": null
                      }
                    ]
                  },
                  "type": "change_state"
                }
              ],
              "max_retries": 1,
              "predicate": "state is undefined or state is null",
              "response_action": {
                "parameters": {
                  "close": false,
                  "texts": [
                    "назови первые 4 цифры"
                  ]
                },
                "type": "response"
              },
              "slug": "test",
              "topic_slug": null
            }
          ],
          "slug": "test"
        },
        {
          "policy_items": [
            {
              "actions": [
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "state",
                        "status": "defined",
                        "value": "2"
                      }
                    ]
                  },
                  "type": "change_state"
                }
              ],
              "max_retries": 1,
              "predicate": "state is '1'",
              "response_action": {
                "parameters": {
                  "close": false,
                  "texts": [
                    "просто напиши хорошо"
                  ]
                },
                "type": "response"
              },
              "slug": "test2",
              "topic_slug": null
            }
          ],
          "slug": "test2"
        },
        {
          "policy_items": [
            {
              "actions": [
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "state",
                        "status": "defined",
                        "value": "3"
                      }
                    ]
                  },
                  "type": "change_state"
                },
                {
                  "parameters": {
                    "features": [
                      {
                        "key": "last_4",
                        "status": "in_progress",
                        "value": null
                      },
                      {
                        "key": "last_4_duplicate",
                        "status": "in_progress",
                        "value": null
                      }
                    ]
                  },
                  "type": "change_state"
                }
              ],
              "max_retries": 1,
              "predicate": "state is '2'",
              "response_action": {
                "parameters": {
                  "close": false,
                  "texts": [
                    "назови последние 4 цифры"
                  ]
                },
                "type": "response"
              },
              "slug": "test3",
              "topic_slug": null
            }
          ],
          "slug": "test3"
        },
        {
          "policy_items": [
            {
              "actions": [],
              "max_retries": 1,
              "predicate": "state is '3'",
              "response_action": {
                "parameters": {
                  "close": false,
                  "texts": [
                    "первые {first_4}; последние {last_4}, верно?"
                  ]
                },
                "type": "response"
              },
              "slug": "test4"
            }
          ],
          "slug": "test4",
          "topic_slug": null
        }
      ]
    },
    "pre_group": {
      "policy_blocks": []
    }
  }
}
