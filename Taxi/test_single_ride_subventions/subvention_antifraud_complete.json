{
  "data": {
    "ancestor_doc_kind": "order_ready_for_billing",
    "antifraud_response": {
      "action": "pay",
      "antifraud_id": "some_antifraud_id",
      "billing_id": "doc_id/1212",
      "reason": null,
      "till": null
    },
    "eye": {
      "forward": {
        "tags": []
      }
    },
    "future_documents": [
      {
        "data": {
          "rule_spec": {
            "kind": "single_order"
          }
        },
        "event_at": "2020-09-01T20:18:35.000000+00:00",
        "external_event_ref": "subvention_antifraud_check/1212/subvention_rules_restored",
        "external_obj_id": "alias_id/some_alias_id",
        "journal_entries": [],
        "kind": "subvention_rules_restored",
        "process_at": "2020-09-01T20:18:35.000000+00:00",
        "schedule_processing": true,
        "status": "new",
        "tags": []
      },
      {
        "data": {
          "accepted_by_driver_at": "2020-09-01T19:31:35.000000+00:00",
          "activity_points": 90.0,
          "available_tariff_classes": [
            "econom"
          ],
          "closed_without_accept": false,
          "completed_by_dispatcher": false,
          "db_id": "some_db_id",
          "due": "2020-09-01T19:40:00.000000+00:00",
          "has_lightbox": false,
          "has_sticker": false,
          "order_alias_id": "some_alias_id",
          "order_id": "some_order_id",
          "park_id": "<park>",
          "profile_payment_type_restrictions": "none",
          "rule_details": [
            {
              "extra": {},
              "is_once": false,
              "payment_type": "discount_payback",
              "rule_id": {
                "group_id": "discount",
                "id": "000000000000000000000000"
              },
              "rule_type": "discount_payback",
              "subvention_geoareas": [],
              "value": "0.0000 RUB"
            },
            {
              "extra": {},
              "is_once": false,
              "limit_ref": "single_ride_budget_id",
              "payment_type": "guarantee",
              "rule_id": {
                "group_id": null,
                "id": "2abf062a-b607-11ea-998e-07e60204cbcf"
              },
              "rule_type": "mfg",
              "subvention_geoareas": [],
              "value": "138.7324 RUB"
            }
          ],
          "rule_group": "single_order",
          "sub_commission": "16.6478 RUB",
          "subvention_geoareas": [
            "test_zone_1"
          ],
          "tags": [],
          "tariff_class": "econom",
          "unique_driver_id": "5afee214453b0a524e56d237",
          "uuid": "<uuid>",
          "value": "138.7324 RUB",
          "zone_name": "moscow"
        },
        "event_at": "2020-09-01T20:18:35.000000+00:00",
        "external_event_ref": "subvention_antifraud_check/1212/subventions_update_needed",
        "external_obj_id": "alias_id/some_alias_id",
        "journal_entries": [],
        "kind": "subventions_update_needed",
        "process_at": "2020-09-01T20:18:35.000000+00:00",
        "schedule_processing": true,
        "status": "new",
        "tags": []
      }
    ],
    "future_journal_entries": [
      {
        "account_id": 4,
        "amount": "-122.0846",
        "event_at": "2020-09-01T19:40:00.000000+00:00"
      },
      {
        "account_id": 6,
        "amount": "122.0846",
        "event_at": "2020-09-01T19:40:00.000000+00:00"
      }
    ],
    "future_journal_external_obj_id": "alias_id/some_alias_id",
    "future_journal_tags": [
      "journal_ancestor_doc_id/12345678"
    ],
    "support_info": {
      "data": {
        "commission": {
          "for_base_revenue": {
            "commission": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "21.12676056338028169014084507",
                      "currency": "RUB"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_mul_cost_by_rate",
                  "value": {
                    "amount": "21.12676056338028169014084507",
                    "currency": "RUB"
                  }
                }
              ],
              "value": {
                "amount": "21.12676056338028169014084507",
                "currency": "RUB"
              }
            },
            "contract_id": "some_commission_contract_id_id",
            "cost": {
              "calculations": [],
              "value": {
                "amount": "211.2676056338028169014084507",
                "currency": "RUB"
              }
            },
            "rate": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "0.1",
                      "currency": "XXX"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_normal_rate",
                  "value": {
                    "amount": "0.1",
                    "currency": "XXX"
                  }
                }
              ],
              "value": {
                "amount": "0.1",
                "currency": "XXX"
              }
            },
            "vat": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "4.22535211267605633802816901",
                      "currency": "RUB"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_mul_by_vat_rate",
                  "value": {
                    "amount": "4.22535211267605633802816901",
                    "currency": "RUB"
                  }
                }
              ],
              "value": {
                "amount": "4.22535211267605633802816901",
                "currency": "RUB"
              }
            },
            "vat_rate": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "1.2",
                      "currency": "XXX"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_contract_rate",
                  "value": {
                    "amount": "1.2",
                    "currency": "XXX"
                  }
                }
              ],
              "value": {
                "amount": "1.2",
                "currency": "XXX"
              }
            }
          },
          "for_full_revenue": {
            "commission": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "35.00000056338028169014084507",
                      "currency": "RUB"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_mul_cost_by_rate",
                  "value": {
                    "amount": "35.00000056338028169014084507",
                    "currency": "RUB"
                  }
                }
              ],
              "value": {
                "amount": "35.00000056338028169014084507",
                "currency": "RUB"
              }
            },
            "contract_id": "some_commission_contract_id_id",
            "cost": {
              "calculations": [],
              "value": {
                "amount": "350.0000056338028169014084507",
                "currency": "RUB"
              }
            },
            "rate": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "0.1",
                      "currency": "XXX"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_normal_rate",
                  "value": {
                    "amount": "0.1",
                    "currency": "XXX"
                  }
                }
              ],
              "value": {
                "amount": "0.1",
                "currency": "XXX"
              }
            },
            "vat": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "7.00000011267605633802816901",
                      "currency": "RUB"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_mul_by_vat_rate",
                  "value": {
                    "amount": "7.00000011267605633802816901",
                    "currency": "RUB"
                  }
                }
              ],
              "value": {
                "amount": "7.00000011267605633802816901",
                "currency": "RUB"
              }
            },
            "vat_rate": {
              "calculations": [
                {
                  "args": [
                    {
                      "amount": "1.2",
                      "currency": "XXX"
                    }
                  ],
                  "details": {},
                  "op": "set",
                  "reason": "set_from_contract_rate",
                  "value": {
                    "amount": "1.2",
                    "currency": "XXX"
                  }
                }
              ],
              "value": {
                "amount": "1.2",
                "currency": "XXX"
              }
            }
          },
          "value": {
            "calculations": [
              {
                "args": [
                  {
                    "amount": "13.8732",
                    "currency": "RUB"
                  }
                ],
                "details": {},
                "op": "set",
                "reason": "set_from_full_base_diff",
                "value": {
                  "amount": "13.8732",
                  "currency": "RUB"
                }
              }
            ],
            "value": {
              "amount": "13.8732",
              "currency": "RUB"
            }
          },
          "vat": {
            "calculations": [
              {
                "args": [
                  {
                    "amount": "2.7746",
                    "currency": "RUB"
                  }
                ],
                "details": {},
                "op": "set",
                "reason": "set_from_full_base_diff",
                "value": {
                  "amount": "2.7746",
                  "currency": "RUB"
                }
              }
            ],
            "value": {
              "amount": "2.7746",
              "currency": "RUB"
            }
          }
        },
        "cost": {
          "calculations": [
            {
              "args": [
                {
                  "amount": "211.2676056338028169014084507",
                  "currency": "RUB"
                }
              ],
              "details": {},
              "op": "set",
              "reason": "set_from_cost_for_client",
              "value": {
                "amount": "211.2676056338028169014084507",
                "currency": "RUB"
              }
            }
          ],
          "value": {
            "amount": "211.2676056338028169014084507",
            "currency": "RUB"
          }
        },
        "fit_rules": [
          {
            "id": "2abf062a-b607-11ea-998e-07e60204cbcf",
            "value": {
              "amount": "138.7324",
              "currency": "RUB"
            }
          }
        ],
        "fit_zero_pay_rules": [
          {
            "id": "000000000000000000000000"
          }
        ],
        "payout": {
          "expenses": {
            "calculations": [
              {
                "args": [
                  {
                    "amount": "16.6478",
                    "currency": "RUB"
                  }
                ],
                "details": {},
                "op": "set",
                "reason": "set_from_commission",
                "value": {
                  "amount": "16.6478",
                  "currency": "RUB"
                }
              }
            ],
            "value": {
              "amount": "16.6478",
              "currency": "RUB"
            }
          },
          "gross": {
            "calculations": [
              {
                "args": [
                  {
                    "amount": "138.7324",
                    "currency": "RUB"
                  }
                ],
                "details": {},
                "op": "set",
                "reason": "set_from_bonus",
                "value": {
                  "amount": "138.7324",
                  "currency": "RUB"
                }
              }
            ],
            "value": {
              "amount": "138.7324",
              "currency": "RUB"
            }
          },
          "net": {
            "calculations": [
              {
                "args": [
                  {
                    "amount": "122.0846",
                    "currency": "RUB"
                  }
                ],
                "details": {},
                "op": "set",
                "reason": "set_from_bonus_commission_diff",
                "value": {
                  "amount": "122.0846",
                  "currency": "RUB"
                }
              }
            ],
            "value": {
              "amount": "122.0846",
              "currency": "RUB"
            }
          }
        },
        "unfit_rules": []
      },
      "kind": "taxi/v2/order/subvention"
    }
  },
  "doc_id": 1313,
  "event_at": "2020-09-01T20:18:35.000000+00:00",
  "external_event_ref": "antifraud_request/1212/antifraud_complete",
  "external_obj_id": "alias_id/some_alias_id",
  "journal_entries": [],
  "kind": "subvention_antifraud_complete",
  "service": "billing-subventions",
  "status": "new",
  "tags": [
    "ancestor_doc_id/1212"
  ]
}
