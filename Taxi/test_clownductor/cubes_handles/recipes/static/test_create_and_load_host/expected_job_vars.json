[
  {
    "id": 1,
    "name": "CreateEnvAndLoadHost",
    "vars": {
      "ammo_description": "test_ammo_description",
      "ammo_file": "147GET /ping HTTP/1.1\nHost: qqbyrftajycoh7q2.vla.yp-c.yandex.net\nUser-Agent: tank\nAccept: */*\nContent-length: 7\nConnection: keep-alive\n\n{\"a\":1}",
      "ammo_link": "https://proxy.sandbox.yandex-team.ru/2693572988",
      "copy_branch_name": "testing",
      "create_env_job_id": 1,
      "fire_description": "auto-fire empty description",
      "fire_title": "auto-fire",
      "load_job_id": 2,
      "lunapark_id": 123321,
      "lunapark_message": "Load start successfully.\nTo check the result visit: https://lunapark.yandex-team.ru/123321",
      "monitoring_config": "",
      "new_branch_cpu": 512,
      "new_branch_name": "tank",
      "new_branch_ram": 1024,
      "new_branch_regions": [
        "sas",
        "vla"
      ],
      "operator_name": "dyusudakov",
      "project_id": 1,
      "sandbox_fire_task_id": 1129082489,
      "sandbox_upload_ammo_task_id": 1181322916,
      "schedule": "line(1,2,3)",
      "service_id": 1,
      "st_task": "TAXICOMMON-123",
      "tank_config": "metaconf:\n    package: yandextank.plugins.MetaConf\n    firestarter:\n        tank: 'nanny:production_yandex_tank'\n    enabled: true\nphantom:\n    address: 'qqbyrftajycoh7q2.vla.yp-c.yandex.net'\n    ammofile: 'https://proxy.sandbox.yandex-team.ru/2693572988'\n    load_profile:\n        load_type: rps\n        schedule: 'line(1,2,3)'\n    uris: []\nuploader:\n    enabled: true\n    job_dsc: 'auto-fire empty description'\n    job_name: 'auto-fire'\n    operator: dyusudakov\n    package: yandextank.plugins.DataUploader\n    task: TAXICOMMON-123\n",
      "target_address": "tank.yandex.net"
    }
  },
  {
    "id": 1,
    "name": "CreateFullNannyBranch",
    "vars": {
      "branch_id": 3,
      "branch_name": "tank",
      "branch_params": {
        "cpu": 512,
        "instances": [
          1,
          1
        ],
        "network": "_TAXITESTNETS_",
        "network_bandwidth_guarantee_mb_per_sec": 0,
        "ram": 4096,
        "regions": [
          "sas",
          "vla"
        ],
        "root_bandwidth_guarantee_mb_per_sec": 2,
        "root_bandwidth_limit_mb_per_sec": 4,
        "root_size": 10240,
        "root_storage_class": "hdd",
        "volumes": [
          {
            "path": "/logs",
            "size": 10240,
            "type": "hdd"
          }
        ],
        "work_dir": 512
      },
      "create_unstable_entrypoint": false,
      "description": "Auto-created tank env",
      "env": "testing",
      "fqdn_suffix": null,
      "is_uservices": false,
      "job_ids": [],
      "needs_balancers": false,
      "nested": false,
      "pre_deploy_job_id": null,
      "project_id": 1,
      "protocol": "http",
      "regions": [
        "sas",
        "vla"
      ],
      "service_id": 1,
      "st_ticket": "TAXICOMMON-123",
      "user": "automation"
    }
  },
  {
    "id": 2,
    "name": "CreateNannyBranch",
    "vars": {
      "allocation_abc": "taxiquotaypdefault",
      "branch": "tank",
      "branch_id": 3,
      "comment": "Initial release",
      "cpu": 512,
      "description": "Auto-created tank env",
      "endpointsets": [
        {
          "id": "awacs-rtc_balancer_khomikki-test_man",
          "regions": [
            "VLA",
            "MAN",
            "SAS",
            "IVA",
            "MYT"
          ]
        },
        {
          "id": "rtc_balancer_khomikki-test_man",
          "regions": [
            "VLA",
            "MAN",
            "SAS",
            "IVA",
            "MYT"
          ]
        }
      ],
      "env": "testing",
      "fqdn_suffix": null,
      "instances": [
        1,
        1
      ],
      "is_uservices": false,
      "mem": 4096,
      "merge_diff_job_id": null,
      "nanny_name": "test-service_tank",
      "network": "_TAXITESTNETS_",
      "network_bandwidth_guarantee_mb_per_sec": 0,
      "new_service_ticket": "TAXICOMMON-123",
      "owner_groups": [
        "elrusso_group",
        "svc_vopstaxi"
      ],
      "owner_logins": [
        "elrusso"
      ],
      "project": "test_project",
      "regions": [
        "sas",
        "vla"
      ],
      "root_bandwidth_guarantee_mb_per_sec": 2,
      "root_bandwidth_limit_mb_per_sec": 4,
      "root_size": 10240,
      "root_storage_class": "hdd",
      "service": "test_service",
      "service_abc": "taxiquotaypdefault",
      "snapshot_id": "5c26609053b7c34a9ad5a283f48ae03c79853d58",
      "strongbox_delegation_token": "delegation_token_123",
      "strongbox_token_id": "sec-XXX",
      "strongbox_token_version": "ver-YYY",
      "volumes": [
        {
          "path": "/logs",
          "size": 10240,
          "type": "hdd"
        }
      ],
      "work_dir": 512
    }
  },
  {
    "id": 3,
    "name": "DeployNannyServiceNoApprove",
    "vars": {
      "aliases": null,
      "comment": "default placeholder",
      "current_diff_aliases_jobs": [],
      "current_diff_comment": null,
      "current_diff_job_id": null,
      "current_diff_skip": true,
      "environment": "testing",
      "image": "taxi/rtc-stub/testing:latest",
      "job_branch_id": 2,
      "job_ids": [
        4
      ],
      "job_project_id": 1,
      "job_project_name": "taxi",
      "job_service_id": 1,
      "job_service_name": "some_service",
      "lock_name": "",
      "lock_names": [],
      "logbroker_configuration": null,
      "logbroker_operations": null,
      "name": "test-service_tank",
      "release_ticket_st": null,
      "sandbox_resources": null,
      "started_deploy_msg": ""
    }
  },
  {
    "id": 4,
    "name": "DeployOneNannyService",
    "vars": {
      "changelog": null,
      "comment": "default placeholder",
      "environment": "testing",
      "image": "taxi/rtc-stub/testing:latest",
      "job_branch_id": 2,
      "job_project_id": 1,
      "job_project_name": "taxi",
      "job_service_id": 1,
      "job_service_name": "some_service",
      "link_to_changelog": "-",
      "nanny_name": "test-service_tank",
      "sandbox_resources": null,
      "snapshot_id": "5c26609053b7c34a9ad5a283f48ae03c79853d58"
    }
  },
  {
    "id": 5,
    "name": "LoadHost",
    "vars": {
      "ammo_description": "test_ammo_description",
      "ammo_file": "147GET /ping HTTP/1.1\nHost: qqbyrftajycoh7q2.vla.yp-c.yandex.net\nUser-Agent: tank\nAccept: */*\nContent-length: 7\nConnection: keep-alive\n\n{\"a\":1}",
      "ammo_link": "https://proxy.sandbox.yandex-team.ru/2693572988",
      "fire_description": "auto-fire empty description",
      "fire_title": "auto-fire",
      "lunapark_id": 123321,
      "lunapark_message": "Load start successfully.\nTo check the result visit: https://lunapark.yandex-team.ru/123321",
      "monitoring_config": "",
      "operator_name": "dyusudakov",
      "sandbox_fire_task_id": 1129082489,
      "sandbox_upload_ammo_task_id": 1181322916,
      "schedule": "line(1,2,3)",
      "st_task": "TAXICOMMON-123",
      "tank_config": "metaconf:\n    package: yandextank.plugins.MetaConf\n    firestarter:\n        tank: 'nanny:production_yandex_tank'\n    enabled: true\nphantom:\n    address: 'qqbyrftajycoh7q2.vla.yp-c.yandex.net'\n    ammofile: 'https://proxy.sandbox.yandex-team.ru/2693572988'\n    load_profile:\n        load_type: rps\n        schedule: 'line(1,2,3)'\n    uris: []\nuploader:\n    enabled: true\n    job_dsc: 'auto-fire empty description'\n    job_name: 'auto-fire'\n    operator: dyusudakov\n    package: yandextank.plugins.DataUploader\n    task: TAXICOMMON-123\n",
      "target_address": "qqbyrftajycoh7q2.vla.yp-c.yandex.net"
    }
  }
]
