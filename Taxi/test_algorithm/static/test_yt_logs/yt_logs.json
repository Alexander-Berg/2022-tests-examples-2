[
  {
    "calculation": {
      "$logs": [],
      "$meta": [
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "initialize"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "initialize"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "set_default_smooth"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "set_default_smooth"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "bound_coeffs_1"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "bound_coeffs_1"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "bound_coeffs_2"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "bound_coeffs_2"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "linear_dependency"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "linear_dependency_with_base_table_bound_coeffs"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "antisurge_bound_coeffs"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "antisurge_bound_coeffs"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "fill_surcharge"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "fill_surcharge"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "round_coeffs"
        },
        {
          "$iteration": 1,
          "$logs": [],
          "$stage": "round_coeffs"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "fill_base_class_surcharge"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "round_base_class_coeffs"
        }
      ],
      "$pipeline_name": "default",
      "classes": {
        "econom": {
          "calculation_meta": {
            "reason": {
              "$history": [
                {
                  "$meta_idx": 0,
                  "$value": "rain"
                }
              ]
            },
            "smooth": {
              "point_a": {
                "is_default": {
                  "$history": [
                    {
                      "$meta_idx": 2,
                      "$value": true
                    }
                  ]
                },
                "value": {
                  "$history": [
                    {
                      "$meta_idx": 2,
                      "$value": 1
                    }
                  ]
                }
              },
              "point_b": {
                "$history": [
                  {
                    "$meta_idx": 2,
                    "$value": null
                  }
                ]
              }
            }
          },
          "name": {
            "$history": [
              {
                "$meta_idx": 0,
                "$value": "econom"
              }
            ]
          },
          "surge": {
            "surcharge": {
              "alpha": {
                "$history": [
                  {
                    "$meta_idx": 12,
                    "$value": 1
                  },
                  {
                    "$meta_idx": 16,
                    "$value": 1
                  }
                ]
              },
              "beta": {
                "$history": [
                  {
                    "$meta_idx": 12,
                    "$value": 0
                  },
                  {
                    "$meta_idx": 16,
                    "$value": 0
                  }
                ]
              },
              "value": {
                "$history": [
                  {
                    "$meta_idx": 12,
                    "$value": 0
                  },
                  {
                    "$meta_idx": 16,
                    "$value": 0
                  }
                ]
              }
            },
            "value": {
              "$history": [
                {
                  "$meta_idx": null,
                  "$value": 1
                },
                {
                  "$meta_idx": 2,
                  "$value": 23
                },
                {
                  "$meta_idx": 4,
                  "$value": 4
                },
                {
                  "$meta_idx": 6,
                  "$value": 4
                },
                {
                  "$meta_idx": 10,
                  "$value": 4
                },
                {
                  "$meta_idx": 12,
                  "$value": 2
                },
                {
                  "$meta_idx": 14,
                  "$value": 2
                },
                {
                  "$meta_idx": 16,
                  "$value": 2
                },
                {
                  "$meta_idx": 17,
                  "$value": 2
                }
              ]
            }
          },
          "value_raw": {
            "$history": [
              {
                "$meta_idx": 0,
                "$value": 23
              }
            ]
          }
        },
        "uberx": {
          "calculation_meta": {
            "reason": {
              "$history": [
                {
                  "$meta_idx": 1,
                  "$value": "linear_dependency"
                }
              ]
            },
            "smooth": {
              "point_a": {
                "is_default": {
                  "$history": [
                    {
                      "$meta_idx": 3,
                      "$value": true
                    },
                    {
                      "$meta_idx": 8,
                      "$value": true
                    }
                  ]
                },
                "value": {
                  "$history": [
                    {
                      "$meta_idx": 3,
                      "$value": 1
                    },
                    {
                      "$meta_idx": 8,
                      "$value": 1
                    }
                  ]
                }
              },
              "point_b": {
                "$history": [
                  {
                    "$meta_idx": 3,
                    "$value": null
                  },
                  {
                    "$meta_idx": 8,
                    "$value": null
                  }
                ]
              }
            }
          },
          "name": {
            "$history": [
              {
                "$meta_idx": 1,
                "$value": "uberx"
              }
            ]
          },
          "surge": {
            "surcharge": {
              "alpha": {
                "$history": [
                  {
                    "$meta_idx": 13,
                    "$value": 1
                  }
                ]
              },
              "beta": {
                "$history": [
                  {
                    "$meta_idx": 13,
                    "$value": 0
                  }
                ]
              },
              "value": {
                "$history": [
                  {
                    "$meta_idx": 13,
                    "$value": 0
                  }
                ]
              }
            },
            "value": {
              "$history": [
                {
                  "$meta_idx": null,
                  "$value": 1
                },
                {
                  "$meta_idx": 3,
                  "$value": 1
                },
                {
                  "$meta_idx": 5,
                  "$value": 1
                },
                {
                  "$meta_idx": 7,
                  "$value": 1
                },
                {
                  "$meta_idx": 8,
                  "$value": 16
                },
                {
                  "$meta_idx": 9,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 11,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 13,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 15,
                  "$value": 1.5
                }
              ]
            }
          },
          "value_raw": {
            "$history": [
              {
                "$meta_idx": null,
                "$value": 1
              },
              {
                "$meta_idx": 8,
                "$value": 23
              }
            ]
          }
        }
      }
    },
    "calculation_id": "91f21e0c721a4e4abbabce91d0bc9816",
    "experiment_id": "b66bf587447b401a9e365c1cdffa4ba5",
    "experiment_name": "default",
    "lat": 55.77425398624534,
    "lon": 37.58829620633788,
    "surge_id": "MSK-Beloruss",
    "tariff_zone": "moscow"
  },
  {
    "calculation": {
      "logs": [
        {
          "message": "At initialize: econom set reason to rain; value_raw to 23"
        },
        {
          "message": "At initialize: uberx set reason to no; value_raw to 21"
        },
        {
          "message": "Smoothing disabled: no params"
        },
        {
          "message": "At smooth_surge: econom surge value [1 -> 23]"
        },
        {
          "message": "At smooth_surge: uberx surge value [1 -> 21]"
        },
        {
          "message": "Bounding surge (23) for econom in [1, 4]"
        },
        {
          "message": "At bound_coeffs: econom surge value [23 -> 4]"
        },
        {
          "message": "Bounding surge (21) for uberx in [0.1, 1.5]"
        },
        {
          "message": "At bound_coeffs: uberx surge value [21 -> 1.5]"
        },
        {
          "message": "Bounding surge (4) for econom in [1, 4]"
        },
        {
          "message": "At bound_coeffs: econom surge value [4 -> 4]"
        },
        {
          "message": "Bounding surge (1.5) for uberx in [0.1, 1.5]"
        },
        {
          "message": "At bound_coeffs: uberx surge value [1.5 -> 1.5]"
        },
        {
          "message": "At antisurge_bound_coeffs: econom surge value [4 -> 4]"
        },
        {
          "message": "At antisurge_bound_coeffs: uberx surge value [1.5 -> 1.5]"
        },
        {
          "message": "Bounding surge (4) for econom in [1, 4]"
        },
        {
          "message": "At bound_coeffs: econom surge value [4 -> 4]"
        },
        {
          "message": "Bounding surge (1.5) for uberx in [0.1, 1.5]"
        },
        {
          "message": "At bound_coeffs: uberx surge value [1.5 -> 1.5]"
        },
        {
          "message": "At fill_surcharge: econom surge [{\"value\":4.0} -> {\"value\":2.0,\"surcharge\":{\"alpha\":1.0,\"beta\":0.0,\"value\":0.0}}]"
        },
        {
          "message": "At fill_surcharge: uberx surge [{\"value\":1.5} -> {\"value\":1.8,\"surcharge\":{\"alpha\":0.9,\"beta\":0.1,\"value\":159.0}}]"
        },
        {
          "message": "At round_coeffs: econom surge value [2 -> 2]"
        },
        {
          "message": "At round_coeffs: uberx surge value [1.8 -> 1.8]"
        }
      ],
      "response": {
        "calculation_id": "8c620a627e124af0a7f405ac9ab39230",
        "calculation_type": "default",
        "classes": [
          {
            "calculation_meta": {
              "reason": "rain",
              "smooth": {
                "point_a": {
                  "is_default": true,
                  "value": 23.0
                }
              }
            },
            "name": "econom",
            "surge": {
              "surcharge": {
                "alpha": 1.0,
                "beta": 0.0,
                "value": 0.0
              },
              "value": 2.0
            },
            "value_raw": 23.0
          },
          {
            "calculation_meta": {
              "reason": "no",
              "smooth": {
                "point_a": {
                  "is_default": true,
                  "value": 21.0
                }
              }
            },
            "name": "uberx",
            "surge": {
              "surcharge": {
                "alpha": 0.9,
                "beta": 0.1,
                "value": 159.0
              },
              "value": 1.8
            },
            "value_raw": 21.0
          }
        ],
        "experiment_errors": [],
        "experiment_id": "b66bf587447b401a9e365c1cdffa4ba5",
        "experiment_layer": "default",
        "experiment_name": "default",
        "experiments": [],
        "fallback_type": "native_algorithm",
        "is_cached": false,
        "user_layer": "default",
        "zone_id": "MSK-Beloruss"
      }
    },
    "calculation_id": "8c620a627e124af0a7f405ac9ab39230",
    "experiment_id": "b66bf587447b401a9e365c1cdffa4ba5",
    "experiment_name": "default",
    "lat": 55.77425398624534,
    "lon": 37.58829620633788,
    "surge_id": "MSK-Beloruss",
    "tariff_zone": "moscow"
  }
]
