[
  {
    "calculation": {
      "$logs": [],
      "$meta": [
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "initialize"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "balance_equation"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "set_default_smooth"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "bound_coeffs_1"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "bound_coeffs_2"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "antisurge_bound_coeffs"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "round_coeffs"
        },
        {
          "$iteration": 0,
          "$logs": [],
          "$stage": "round_base_class_coeffs"
        }
      ],
      "$pipeline_name": "default",
      "$resources": {
        "config": {
          "$instance": {
            "all_categories": [
              "econom"
            ],
            "surge_apply_bounds_to_linear_dependency_with_base_table": true,
            "surge_coefficient_precision": 1,
            "surge_enable_antisurge": true,
            "surge_enable_explicit_antisurge": true,
            "surge_enable_surcharge": true,
            "surge_enable_umlaas_statistics": false,
            "surge_latest_pins_delta_time": 600,
            "surge_use_default_surge_if_no_smoothing": {
              "__default__": false
            }
          },
          "$resource_id": "config"
        },
        "drivers_info": {
          "$instance": {
            "generic": {
              "econom": {
                "free": 12,
                "free_chain": 3,
                "free_chain_groups": {
                  "long": 3,
                  "medium": 3,
                  "short": 3
                },
                "on_order": 18,
                "total": 30
              }
            },
            "radius": 2785,
            "reposition": {}
          },
          "$resource_id": "count_by_categories"
        },
        "dynamic_config": {
          "$instance": "<not JSON serializable>",
          "$resource_id": "dynamic_config"
        },
        "experiments3": {
          "$instance": "<not JSON serializable>",
          "$resource_id": "experiments3"
        },
        "pins_info": {
          "$instance": {
            "global_pins": 3,
            "global_pins_with_driver": 0,
            "global_pins_with_order": 0,
            "pins": 3,
            "pins_with_b": 0,
            "pins_with_driver": 0,
            "pins_with_order": 0,
            "prev_pins": 2.8800000000000003,
            "values_by_category": {
              "business": {
                "cost": 1.1,
                "estimated_waiting": 0.0,
                "pins_driver_in_tariff": 0,
                "pins_order_in_tariff": 0,
                "pins_surge_b_percentiles": [
                  {
                    "percentile": 50,
                    "value": 0
                  },
                  {
                    "percentile": 70,
                    "value": 1
                  },
                  {
                    "percentile": 95,
                    "value": 2
                  },
                  {
                    "percentile": 98,
                    "value": 3
                  }
                ],
                "surge": 0.0,
                "surge_b": 0.1,
                "trip": {
                  "distance": 11.0,
                  "time": 1.0
                }
              }
            }
          },
          "$resource_id": "pin_stats"
        },
        "zone": {
          "$instance": {
            "base_class": "econom",
            "experiment": {
              "balance": {
                "add_free": 0,
                "add_total": 0,
                "f_delta_left": 0.3,
                "f_delta_right": 0.15,
                "f_equal": 0.12,
                "f_init": 0.8,
                "fs_coef_chain": 1.05,
                "fs_coef_total": 0.16,
                "fs_intercept": 1.46,
                "min_pins": 1,
                "table_coef_ps": [
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.2,
                    "ps": 10.847,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.3,
                    "ps": 10.548,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.4,
                    "ps": 9.538,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.5,
                    "ps": 8.836,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.6,
                    "ps": 8.336,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.7,
                    "ps": 8.06,
                    "surcharge": 0.0
                  },
                  {
                    "alpha": 1.0,
                    "beta": 0.0,
                    "coeff": 1.8,
                    "ps": 7.692,
                    "surcharge": 0.0
                  }
                ],
                "utilization_for_non_econom": true
              },
              "experiment_id": "e5d8a86361064b17833c3a42d7fd6b38",
              "experiment_name": "default",
              "is_active": true,
              "ml": {
                "action": "calculate",
                "model": "karaganda"
              },
              "rules": {
                "econom": {
                  "method_convert_ratio": "rules",
                  "surge_rules": [],
                  "time_rules": [
                    {
                      "time_from": {
                        "hour": 0,
                        "minute": 0
                      },
                      "time_to": {
                        "hour": 23,
                        "minute": 59
                      }
                    }
                  ]
                }
              },
              "surcharge_enabled": false,
              "version": 16
            },
            "id": "Funtown",
            "local_time_shift": null,
            "name": "Funtown",
            "type": null
          },
          "$resource_id": "zone"
        }
      },
      "classes": {
        "econom": {
          "calculation_meta": {
            "counts": {
              "free": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 12
                  }
                ]
              },
              "free_chain": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 3
                  }
                ]
              },
              "pins": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 3
                  }
                ]
              },
              "radius": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 2785
                  }
                ]
              },
              "total": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 30
                  }
                ]
              }
            },
            "deviation_from_target_abs": {
              "$history": [
                {
                  "$meta_idx": 1,
                  "$value": 2.22
                }
              ]
            },
            "f_derivative": {
              "$history": [
                {
                  "$meta_idx": 1,
                  "$value": -0.056999999999999995
                }
              ]
            },
            "pins_meta": {
              "eta_in_tariff": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "pins_b": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "pins_driver": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "pins_driver_in_tariff": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "pins_order": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "pins_order_in_tariff": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              },
              "prev_pins": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 2.8800000000000003
                  }
                ]
              },
              "surge_in_tariff": {
                "$history": [
                  {
                    "$meta_idx": 1,
                    "$value": 0
                  }
                ]
              }
            },
            "ps": {
              "$history": [
                {
                  "$meta_idx": 1,
                  "$value": 8.836666666666668
                }
              ]
            },
            "ps_shift_past_raw": {
              "$history": [
                {
                  "$meta_idx": 1,
                  "$value": 3.33
                }
              ]
            },
            "reason": {
              "$history": [
                {
                  "$meta_idx": null,
                  "$value": "pins_free"
                },
                {
                  "$meta_idx": 1,
                  "$value": "pins_free"
                }
              ]
            },
            "smooth": {
              "point_a": {
                "is_default": {
                  "$history": [
                    {
                      "$meta_idx": 2,
                      "$value": true
                    }
                  ]
                },
                "value": {
                  "$history": [
                    {
                      "$meta_idx": 2,
                      "$value": 1
                    }
                  ]
                }
              },
              "point_b": {
                "$history": [
                  {
                    "$meta_idx": 2,
                    "$value": null
                  }
                ]
              }
            }
          },
          "name": {
            "$history": [
              {
                "$meta_idx": 0,
                "$value": "econom"
              }
            ]
          },
          "surge": {
            "value": {
              "$history": [
                {
                  "$meta_idx": null,
                  "$value": 1
                },
                {
                  "$meta_idx": 2,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 3,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 4,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 5,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 6,
                  "$value": 1.5
                },
                {
                  "$meta_idx": 7,
                  "$value": 1.5
                }
              ]
            }
          },
          "value_raw": {
            "$history": [
              {
                "$meta_idx": null,
                "$value": 1
              },
              {
                "$meta_idx": 1,
                "$value": 1.5
              }
            ]
          }
        }
      }
    },
    "calculation_id": "33401ebec97d4c19b09ff514ad859077",
    "experiment_id": "e5d8a86361064b17833c3a42d7fd6b38",
    "experiment_name": "default",
    "lat": 13.0,
    "lon": 13.0,
    "surge_id": "Funtown",
    "tariff_zone": "moscow"
  }
]
