{
  "name": "test_pipeline_name",
  "stages": [
    {
      "conditions": [],
      "in_bindings": [
        {
          "children": [
            {
              "query": "point_a{point}"
            },
            {
              "query": "user_id"
            }
          ],
          "domain": "input",
          "query": "request"
        }
      ],
      "name": "resource_fetch",
      "resources": [
        {
          "field": "pin_storage",
          "name": "pin_stats"
        }
      ],
      "source_code": "return {pin_storage: {request: {point: point, radius: 1000, graph_points: 10, graph_distance: 1500}}};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "children": [
            {
              "query": "pins"
            },
            {
              "query": "graph_fixed_points"
            }
          ],
          "domain": "resource",
          "query": "pin_storage"
        }
      ],
      "name": "use_resource",
      "out_bindings": [
        {
          "alias": "data",
          "query": "classes.econom"
        }
      ],
      "source_code": "return {data: {name: 'econom', surge: {value: 15}, value_raw: 36, calculation_meta: {counts: {pins: pins, free: 0, free_chain: 0, total: 0, radius: 0}, reason: JSON.stringify(graph_fixed_points)}}};"
    }
  ],
  "state": "active"
}
