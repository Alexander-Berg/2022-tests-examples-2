[
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/eats/"
        }
      ],
      "upstream_url": {
        "url": "/eats/"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/eats/",
        "priority": 100,
        "rule_name": "/eats/"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/eats/",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test401"
        }
      ],
      "upstream_url": {
        "url": "/test401"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test401",
        "priority": 100,
        "rule_name": "/test401"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test401",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test"
        }
      ],
      "upstream_url": {
        "url": "/test"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test",
        "priority": 100,
        "rule_name": "/test"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/launch"
        }
      ],
      "upstream_url": {
        "url": "/launch"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/launch",
        "priority": 100,
        "rule_name": "/launch"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/launch",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session-eater-id-generator",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/scopes_test"
        }
      ],
      "upstream_url": {
        "url": "/scopes_test"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/scopes_test",
        "priority": 100,
        "rule_name": "/scopes_test"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/scopes_test",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [
          "has_rule"
        ],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/scopes_test2"
        }
      ],
      "upstream_url": {
        "url": "/scopes_test2"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/scopes_test2",
        "priority": 100,
        "rule_name": "/scopes_test2"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/scopes_test2",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [
          "one_of_two",
          "two_of_two"
        ],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/non_auth_launch"
        }
      ],
      "upstream_url": {
        "url": "/non_auth_launch"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/non_auth_launch",
        "priority": 100,
        "rule_name": "/non_auth_launch"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/non_auth_launch",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session-eater-id-generator",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/nonewsession"
        }
      ],
      "upstream_url": {
        "url": "/nonewsession"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/nonewsession",
        "priority": 100,
        "rule_name": "/nonewsession"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/nonewsession",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/401"
        }
      ],
      "upstream_url": {
        "url": "/401"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/401",
        "priority": 100,
        "rule_name": "/401"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/401",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/proxy401"
        }
      ],
      "upstream_url": {
        "url": "/proxy401"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/proxy401",
        "priority": 100,
        "rule_name": "/proxy401"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/proxy401",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test/route"
        }
      ],
      "upstream_url": {
        "url": "/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test/route",
        "priority": 10,
        "probability": 30,
        "rule_name": "/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test/route"
        }
      ],
      "upstream_url": {
        "url": "/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test/route",
        "priority": 20,
        "probability": 70,
        "rule_name": "/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test/route"
        }
      ],
      "upstream_url": {
        "url": "/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test/route",
        "priority": 30,
        "rule_name": "/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/additional/test/route"
        }
      ],
      "upstream_url": {
        "url": "/additional/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/additional/test/route",
        "priority": 10,
        "probability": 0,
        "rule_name": "/additional/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/additional/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/additional/test/route"
        }
      ],
      "upstream_url": {
        "url": "/additional/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/additional/test/route",
        "priority": 20,
        "probability": 100,
        "rule_name": "/additional/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/additional/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/additional/test/route"
        }
      ],
      "upstream_url": {
        "url": "/additional/test/route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/additional/test/route",
        "priority": 30,
        "rule_name": "/additional/test/route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/additional/test/route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test_route"
        }
      ],
      "upstream_url": {
        "url": "/test_route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test_route",
        "priority": 100,
        "rule_name": "/test_route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/test_route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/another_test_route"
        }
      ],
      "upstream_url": {
        "url": "/another_test_route"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/another_test_route",
        "priority": 100,
        "rule_name": "/another_test_route"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/another_test_route",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/4.0/cookie"
        }
      ],
      "upstream_url": {
        "url": "/4.0/cookie"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Webview",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "webviewtoken",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос от webview с OAuth-токеном в куке (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Webview",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "webviewtoken",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос от webview с OAuth-токеном в куке (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/4.0/cookie",
        "priority": 100,
        "rule_name": "/4.0/cookie"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/4.0/cookie",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": true,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/4.0/cookie-suffix"
        }
      ],
      "upstream_url": {
        "url": "/4.0/cookie-suffix"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Webview",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "webviewtoken",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос от webview с OAuth-токеном в куке (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Webview",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "webviewtoken",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос от webview с OAuth-токеном в куке (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/4.0/cookie-suffix",
        "priority": 100,
        "rule_name": "/4.0/cookie-suffix"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/4.0/cookie-suffix",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": true,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/only_eater_id"
        }
      ],
      "upstream_url": {
        "url": "/only_eater_id"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/only_eater_id",
        "priority": 100,
        "rule_name": "/only_eater_id"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/only_eater_id",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": false,
          "email_id": false,
          "phone_id": false
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/only_phone_id"
        }
      ],
      "upstream_url": {
        "url": "/only_phone_id"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/only_phone_id",
        "priority": 100,
        "rule_name": "/only_phone_id"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/only_phone_id",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": false,
          "eater_uuid": false,
          "email_id": false,
          "phone_id": true
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/only_email_id"
        }
      ],
      "upstream_url": {
        "url": "/only_email_id"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/only_email_id",
        "priority": 100,
        "rule_name": "/only_email_id"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/only_email_id",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": false,
          "eater_uuid": false,
          "email_id": true,
          "phone_id": false
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/only_uuid"
        }
      ],
      "upstream_url": {
        "url": "/only_uuid"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/only_uuid",
        "priority": 100,
        "rule_name": "/only_uuid"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/only_uuid",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": false,
          "eater_uuid": true,
          "email_id": false,
          "phone_id": false
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/no_personal"
        }
      ],
      "upstream_url": {
        "url": "/no_personal"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос без сессии или с неавторизованной сессией.",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос от неавторизованного пользователя",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/no_personal",
        "priority": 100,
        "rule_name": "/no_personal"
      },
      "output": {
        "attempts": 1,
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": false,
          "eater_uuid": false,
          "email_id": false,
          "phone_id": false
        },
        "proxy_401": true,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/test_ignore_auth_params"
        }
      ],
      "upstream_url": {
        "url": "/test_ignore_auth_params"
      },
      "variants": [
        {
          "description": "Сбор статистики, когда авторизацией можно пренебречь",
          "input_data": {
            "parameters": []
          },
          "name": "Запрос без авторизации",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/test_ignore_auth_params",
        "priority": 100,
        "rule_name": "/test_ignore_auth_params"
      },
      "output": {
        "attempts": 1,
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "no-auth",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/proxy_no_cookie"
        }
      ],
      "upstream_url": {
        "url": "/proxy_no_cookie"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/proxy_no_cookie",
        "priority": 100,
        "rule_name": "/proxy_no_cookie"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/proxy_no_cookie",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": []
      },
      "rule_type": "eats-authproxy"
    }
  },
  {
    "meta": {
      "input_urls": [
        {
          "url": "http://eats-authproxy.eda.yandex.net/proxy_some_cookie"
        }
      ],
      "upstream_url": {
        "url": "/proxy_some_cookie"
      },
      "variants": [
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Мобильные клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "OAuth-токен приложения.\nПаспортный токен должен иметь scope, который определяется на основании конфига\n(подробнее можно почитать [тут](https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/eap-route-configs/))\nТребуемый scope может быть переопределен в правиле полем passport scopes.\n",
                "example-value": "Bearer 1.4044179413.2177.1652961264.1621425264357.73300.INVALIDINVALID6N.sUv_B7I4e_M0VyuR6839434-iLAy8MsdfaergSfdVv0-114Gp01xXJsdfsdfsSDFFSDFfsfd87869234V3mGXJYJtqFauEQv_De87w.s0oh1cU9qz_WKB725Ircag",
                "name": "Authorization",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Авторизованный запрос с OAuth-токеном (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос браузера (сессия в куке)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Запрос со стороны браузера (обычно JS)",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия браузера.\n",
                "example-value": "3:1622106996.5.0.1622106996604:GiiVVxWBABINVALIDAYCKg:9.1|4053884789.0.2|348276.52732.yl_vdokwSOMESOMESOMEe9efbJE",
                "name": "Session_id",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Источник запроса.",
                "example-value": "eda.yandex.ru",
                "name": "Origin",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос браузера (сессия в хедере)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Логин пользователя из Yandex Passport",
                "example-value": "root",
                "name": "X-Yandex-Login",
                "required": true,
                "type": "header"
              },
              {
                "description": "[TVM user ticket](https://wiki.yandex-team.ru/taxi/backend/userver/tvm/user/).\nВыписан на имя uid пользователя (default uid в тикете),\nкоторый авторизован проксей.\n",
                "example-value": "3:user:CA0Q__________9_Gg4KAggBEAEg0oXYzAQoAQ:QnebQMbHdRoF04l985knaMHBnhh5SaFE2klzWiZW4f88V2MSzZ7KhIjIewFDe6jSKB1UXY2j0tGkDPZc6_jEdDl8WBOWjKYfie8jvYi_kj5SsJQAoUcNqMzm2b-2O8h__fm79_8s_EIsWjgDssEutAFpuC0IbJFcjtsomhTMl-w",
                "name": "X-Ya-User-Ticket",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "login_id из Yandex Passport, [подробнее](https://nda.ya.ru/t/xtE0VeNd3wEedb)",
                "example-value": "t:25550854",
                "name": "X-Login-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Идентификатор пользователя как в X-Eats-User.",
                "example-value": "12345",
                "name": "X-Eats-Passport-Eater-Id",
                "required": false,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": false,
                "type": "header"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из куки)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        },
        {
          "description": "Старые клиенты",
          "input_data": {
            "parameters": [
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": false,
                "type": "cookie"
              }
            ]
          },
          "name": "Запрос авторизованный по легаси схеме (только по сессии из хедера)",
          "upstream_data": {
            "parameters": [
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Remote-IP.\n",
                "example-value": "56.32.44.17",
                "name": "X-Forwarded-For-Y",
                "required": true,
                "type": "header"
              },
              {
                "description": "Первоначальное значение 'Host' HTTP header.\n",
                "example-value": "example.com",
                "name": "X-Forwarded-Host",
                "required": true,
                "type": "header"
              },
              {
                "description": "IP-адрес пользовательского приложения/браузера\n(не прокси, а именно приложения).\nТо же самое, что и X-Forwarded-For-Y.\n",
                "example-value": "56.32.44.17",
                "name": "X-Remote-IP",
                "required": true,
                "type": "header"
              },
              {
                "description": "Локаль пользователя, полученная из HTTP header \"Accept-Langauge\",\nнапример \"ru\" или \"en\".\nРезультат работы функции `http::language::ParseLocale()`.\n",
                "example-value": "ru",
                "name": "X-Request-Language",
                "required": true,
                "type": "header"
              },
              {
                "description": "Регион пользователя, полученный из HTTP header \"Accept-Langauge\",\nнапример \"RU\" или \"US\".\nРезультат работы функции `http::language::ParseRegion()`.\n",
                "example-value": "RU",
                "name": "X-Request-Language-Region",
                "required": true,
                "type": "header"
              },
              {
                "description": "Информация о пользовательском приложении.\nПредставляет из себя список пар ключ=значение,\nразделенных запятыми.\nРезультат работы `ua_parser::DetectApplication()`.\n",
                "example-value": "app_brand=yauber,app_name=mobileweb_uber_kz_android,app_build=release,platform_ver1=9,app_ver1=3,app_ver2=85,app_ver3=1",
                "name": "X-Request-Application",
                "required": true,
                "type": "header"
              },
              {
                "description": "uid пользователя из Yandex Passport.",
                "example-value": "1045",
                "name": "X-Yandex-UID",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список значений, разделённых запятой, описывающие либо непосредственно запрос,\nлибо пользовательский аккаунт отправителя. Возможные значения:\n    phonish — Паспортный аккаут имеет тип phonish (создан по номеру телефона без логина/пароля),\n    portal — Паспортный аккаут имеет тип portal (прошел стандартную регистрацию в Паспорте, имеет логин и пароль),\n    ya-plus — есть подписка Яндекс Плюс,\n    cashback-plus — пользователь согласился с кэшбечным оффером Плюса (в сервисах проверять строго под экспериментом cashback_for_plus,\n      [подробнее](https://wiki.yandex-team.ru/users/erakli00/plus-v2/soft-launch/)),\n    pdd — почта для домена,\n    no-login - пользователь является [z-user](https://wiki.yandex-team.ru/taxi/backend/authorization/#z-user),\n    credentials=token-bearer - запрос был осуществлен с токеном (не обязательно валидным),\n    credentials=session - запрос был осуществлен с кукой Session_id (не обязательно валидной),\n    phone_confirmation_required - в правиле выставлено `phone_validation=proxy`, и телефон пользователя не подтвержден.\n",
                "example-value": "portal,credentials=session",
                "name": "X-YaTaxi-Pass-Flags",
                "required": false,
                "type": "header"
              },
              {
                "description": "Список пар ключ=значение, разделенных запятой.\nПроставляется только в случае явного подключения в правиле роутинга. Возможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    eats_user_id - id пользователя в Еде (eater id).\n    eats_partner_user_id - Eats user id (eater id)(partner's user).\n\nПодробнее про [разные идентификаторы](https://wiki.yandex-team.ru/taxi/dwh/data/core/customer/#vidyidentifikatorovkotoryeestvdannyx).\n",
                "example-value": "personal_phone_id=12345,personal_email_id=456633,eats_user_id=12,eats_partner_user_id=332",
                "name": "X-YaTaxi-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Данные пользователя Еды, представляют из себя список пар\nключ=значение, разделенных запятыми.\nПроставляется только в случае явного подключения в правиле роутинга.\nВозможные ключи:\n    personal_phone_id - id телефона из сервиса personal; не связан с данными Паспорта,\n    personal_email_id - id емейла из сервиса personal; не связан с данными Паспорта,\n    user_id - id пользователя в Еде (eater id).\n    partner_user_id - id пользователя в Еде (eater id)(партнерский).\n    eater_uuid - неинкрементальный идентификатор пользователя в сервисе eats-eaters.\n",
                "example-value": "user_id=123,personal_email_id=34,personal_phone_id=44,partner_user_id=22",
                "name": "X-Eats-User",
                "required": false,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "X-Eats-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Сессия eater-authorizer.",
                "example-value": "ed4ec8a713a34a33b228891ee32fa392",
                "name": "PHPSESSID",
                "required": true,
                "type": "cookie"
              },
              {
                "description": "Сессия eater-authorizer с префиксом \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Session",
                "required": true,
                "type": "header"
              },
              {
                "description": "Список устаревших сессий eater-authorizer, ранее принадлежащих текущему пользователю. Включает префикс \"eats:\". Добавляется в этот хедер для общности в PA.",
                "example-value": "eats:bcfba856a81d4a23944dc0ca087bca27",
                "name": "X-YaTaxi-Bound-Sessions",
                "required": false,
                "type": "header"
              },
              {
                "description": "Тип сессии пользователя в eater-authorizer. Может принимать следующие значения:\n    native - пользователь приложений Еды.\n    partner - пользователь партнерских приложений.\n",
                "example-value": "native",
                "name": "X-Eats-Session-Type",
                "required": true,
                "type": "header"
              },
              {
                "description": "Всегда принимает значение \"eats-authproxy\".",
                "example-value": "eats-authproxy",
                "name": "X-Yataxi-Proxy",
                "required": true,
                "type": "header"
              },
              {
                "description": "Хедер с куками.",
                "example-value": "PHPSESSID=o2e2ojsj81aos2zkos2",
                "name": "Cookie",
                "required": true,
                "type": "header"
              }
            ]
          }
        }
      ]
    },
    "rule": {
      "input": {
        "description": "(imported from taxi config)",
        "maintained_by": "eats_common_components",
        "prefix": "/proxy_some_cookie",
        "priority": 100,
        "rule_name": "/proxy_some_cookie"
      },
      "output": {
        "attempts": 1,
        "rewrite_path_prefix": "/proxy_some_cookie",
        "timeout_ms": 100,
        "tvm_service": "mock",
        "upstream": ""
      },
      "proxy": {
        "auth_type": "session",
        "cookie_webview_enabled": false,
        "passport_scopes": [],
        "personal": {
          "eater_id": true,
          "eater_uuid": true,
          "email_id": true,
          "phone_id": true
        },
        "proxy_401": false,
        "proxy_cookie": [
          "some_cookie_1",
          "some_cookie_2"
        ]
      },
      "rule_type": "eats-authproxy"
    }
  }
]
