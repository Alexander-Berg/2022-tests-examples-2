[
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.threads.count, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM threads count",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.mem.heap_used_percent, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes heap used (%)",
    "yaxes": [
      {
        "format": "percent",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.mem.heap_used_in_bytes, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes heap used (bytes)",
    "yaxes": [
      {
        "format": "bytes",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.mem.pools.old.used_in_bytes, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM old pool used",
    "yaxes": [
      {
        "format": "bytes",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.mem.pools.young.used_in_bytes, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM young pool used",
    "yaxes": [
      {
        "format": "bytes",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.mem.pools.survivor.used_in_bytes, '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM survivor pool used",
    "yaxes": [
      {
        "format": "bytes",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(scale(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.old.collection_count), 60), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM GC old collection count (per minute)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.old.collection_time_in_millis), geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.old.collection_count), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM GC old collection time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(scale(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.young.collection_count), 60), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM GC young collection count (per minute)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.young.collection_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.jvm.gc.collectors.young.collection_count)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes JVM GC young collection time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  }
]
