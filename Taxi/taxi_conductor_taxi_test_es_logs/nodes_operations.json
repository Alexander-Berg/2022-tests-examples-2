[
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.translog.operations), '{host_short}')",
        "textEditor": false
      }
    },
    "title": "ES Nodes Translog operations (per second)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.indexing.index_total), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Index operations count (per second)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.indexing.index_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.indexing.index_total)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Index operations time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.merges.total), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Merge operations count (per second)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.merges.total_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.merges.total)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Merge operations time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.search.query_total), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Search query operations count (per second)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.search.query_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.search.query_total)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Search query operations time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(scale(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.refresh.total), 60), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Refresh operations count (per minute)",
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.refresh.total_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.refresh.total)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Refresh operations time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "steppedLine": true,
    "targets": {
      "$targetTemplate": {
        "target": "alias(scale(perSecond(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.flush.total), 60), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Flush operations count (per minute)",
    "tooltip": {
      "shared": false,
      "sort": 0,
      "value_type": "individual"
    },
    "xaxis": {
      "buckets": null,
      "mode": "time",
      "name": null,
      "show": true,
      "values": [
        "total"
      ]
    },
    "yaxes": [
      {
        "format": "none",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  },
  {
    "nullPointMode": "null as zero",
    "targets": {
      "$targetTemplate": {
        "target": "alias(divideSeries(derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.flush.total_time_in_millis), derivative(geo.taxi.{group_name}.{host_alias}.elasticsearch.node.indices.flush.total)), '{host_short}')",
        "textEditor": true
      }
    },
    "title": "ES Nodes Flush operations time",
    "yaxes": [
      {
        "format": "ms",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ]
  }
]
