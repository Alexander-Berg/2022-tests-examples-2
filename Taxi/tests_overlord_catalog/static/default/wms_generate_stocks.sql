-- Stocks
-- We create a temporary table, put some stocks with script there,
-- then insert/select from the temp table and depots table into stocks
CREATE TEMP TABLE stocks (
    product_id TEXT,
    in_stock NUMERIC(19, 4),
    depleted TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP - INTERVAL '1 hour'
);

INSERT INTO stocks(product_id, in_stock)
VALUES
('941a2f7f-77ff-11e9-b7ff-ac1f6b8566c7', 11.0000),
('a6357a08-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('fd11caee-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11caf2-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('6ed08cd0-68f4-11e9-b7fd-ac1f6b8566c7', 31.0000),
('836d5983-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('941a2f80-77ff-11e9-b7ff-ac1f6b8566c7', 12.0000),
('941a2f88-77ff-11e9-b7ff-ac1f6b8566c7', 14.0000),
('bfcc9a48-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('7efcb4aa-7828-11e9-b7ff-ac1f6b8566c7', 20.0000),
('7efcb4ad-7828-11e9-b7ff-ac1f6b8566c7', 4.0000),
('a6357a1c-77ff-11e9-b7ff-ac1f6b8566c7', 4.0000),
('b9b79020-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('fd11cae8-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae9-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11caea-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11caed-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d816-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d819-877f-11e9-b7ff-ac1f6b8569b3', 2020.0000),
('0326d81a-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('d7de9c8e-689f-11e9-b7fd-ac1f6b8566c7', 23.0000),
('ddec7f78-689f-11e9-b7fd-ac1f6b8566c7', 13.0000),
('ddec7f85-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('e8bdb396-937e-11e9-b7ff-ac1f6b8569b3', 12.0000),
('eeff8d41-937e-11e9-b7ff-ac1f6b8569b3', 24.0000),
('6bf6a370-77ff-11e9-b7ff-ac1f6b8566c7', 11.0000),
('eeff8d46-937e-11e9-b7ff-ac1f6b8569b3', 24.0000),
('fd11cae6-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae7-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('2bca17a4-a9f5-11e9-b7ff-ac1f6b8569b3', 0.0000),
('2ea2030c-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('2ea2031c-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('34b274e6-a7b2-11e9-b7ff-ac1f6b8569b3', 10.0000),
('3aac0e3d-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('3aac0e47-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('3aac0e4c-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b627-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b636-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('eeff8d50-937e-11e9-b7ff-ac1f6b8569b3', 8.0000),
('198310f1-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f2-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f3-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('37a4c61b-8225-11e9-bba6-005056012f65', 0.0000),
('71a9096e-7b26-11e9-bba6-005056012f65', 1.0000),
('bfcc9a42-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('1fbb9e5a-bdcf-11e9-b7ff-ac1f6b8569b3', 0.0000),
('23c1dc62-8236-11e9-bba6-005056012f65', 12.0000),
('8dbd542b-7b26-11e9-bba6-005056012f65', 7.0000),
('8faac5c4-d622-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11caec-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('37a4c61a-8225-11e9-bba6-005056012f65', 0.0000),
('71a90976-7b26-11e9-bba6-005056012f65', 2.0000),
('e3e7857f-689f-11e9-b7fd-ac1f6b8566c7', 22.0000),
('37a4c60f-8225-11e9-bba6-005056012f65', 0.0000),
('8faac5c3-d622-11e9-b7ff-ac1f6b8569b3', 0.0000),
('95710d42-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('95710d4f-689f-11e9-b7fd-ac1f6b8566c7', 2.0000),
('bed45a2b-7b26-11e9-bba6-005056012f65', 0.0000),
('d36ff36d-cb3c-11e9-b7ff-ac1f6b8569b3', 0.0000),
('d7de9c8c-689f-11e9-b7fd-ac1f6b8566c7', 17.0000),
('0326d817-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d818-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('bed45a29-7b26-11e9-bba6-005056012f65', 10.0000),
('f2c351b5-9ef7-11e9-b7ff-ac1f6b8569b3', 10.0000),
('0326d832-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310ef-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f0-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f4-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f5-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f6-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('198310f7-b1f1-11e9-b7ff-ac1f6b8569b3', 0.0000),
('2bca17b7-a9f5-11e9-b7ff-ac1f6b8569b3', 0.0000),
('34b274db-a7b2-11e9-b7ff-ac1f6b8569b3', 10.0000),
('34b274ed-a7b2-11e9-b7ff-ac1f6b8569b3', 10.0000),
('34b274ee-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('46e90cbe-68f4-11e9-b7fd-ac1f6b8566c7', 10.0000),
('4ece2f9c-94bf-11e9-b7ff-ac1f6b8569b3', 0.0000),
('4ece2faa-94bf-11e9-b7ff-ac1f6b8569b3', 3.0000),
('7efcb4a7-7828-11e9-b7ff-ac1f6b8566c7', 24.0000),
('7efcb4a8-7828-11e9-b7ff-ac1f6b8566c7', 81.0000),
('62a03ba5-c417-11e9-b7ff-ac1f6b8569b3', 1.0000),
('62a03ba7-c417-11e9-b7ff-ac1f6b8569b3', 0.0000),
('836d5980-689f-11e9-b7fd-ac1f6b8566c7', 20.0000),
('88b4b63b-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b63c-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b645-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b64a-aa33-11e9-b7ff-ac1f6b8569b3', 23.0000),
('88b4b652-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b661-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('8faac5c5-d622-11e9-b7ff-ac1f6b8569b3', 0.0000),
('a259828a-7b26-11e9-bba6-005056012f65', 0.0000),
('88b4b622-aa33-11e9-b7ff-ac1f6b8569b3', 6.0000),
('34b274e2-a7b2-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b662-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b663-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('88b4b66e-aa33-11e9-b7ff-ac1f6b8569b3', 0.0000),
('89790b6c-689f-11e9-b7fd-ac1f6b8566c7', 7.0000),
('89cc6837-cb1e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('89cc683a-cb1e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('f2c351cf-9ef7-11e9-b7ff-ac1f6b8569b3', 10.0000),
('60cad25d-b1f0-11e9-b7ff-ac1f6b8569b3', 0.0000),
('62a03ba6-c417-11e9-b7ff-ac1f6b8569b3', 0.0000),
('941a2f7c-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('941a2f7d-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('941a2f7e-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('0326d81b-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d81c-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d81d-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d81f-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0326d831-877f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('95710d51-689f-11e9-b7fd-ac1f6b8566c7', 10.0000),
('96068a07-68f0-11e9-b7fd-ac1f6b8566c7', 16.0000),
('9a269bfd-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('9a862526-c432-11e9-b7ff-ac1f6b8569b3', 0.0000),
('9b730440-689f-11e9-b7fd-ac1f6b8566c7', 10.0000),
('0793ce16-c8cb-11e9-b7ff-ac1f6b8569b3', 0.0000),
('0793ce17-c8cb-11e9-b7ff-ac1f6b8569b3', 0.0000),
('13bb8523-c8cb-11e9-b7ff-ac1f6b8569b3', 0.0000),
('9b730452-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('a0251fa3-77ff-11e9-b7ff-ac1f6b8566c7', 0.0000),
('a17a11d9-689f-11e9-b7fd-ac1f6b8566c7', 14.0000),
('a17a11db-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('a17a11ef-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('a259828c-7b26-11e9-bba6-005056012f65', 3.0000),
('ad948a61-689f-11e9-b7fd-ac1f6b8566c7', 12.0000),
('b3a00ad9-689f-11e9-b7fd-ac1f6b8566c7', 12.0000),
('b3a00adb-689f-11e9-b7fd-ac1fj6b8566c7', 12.0000),
('b3a00af4-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('b9b79000-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('b9b7901d-689f-11e9-b7fd-ac1f6b8566c7', 8.0000),
('c34deae1-c42f-11e9-b7ff-ac1f6b8569b3', 0.0000),
('c5c9cc7c-689f-11e9-b7fd-ac1f6b8566c7', 7.0000),
('cbbfd76d-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('d1cb9b81-689f-11e9-b7fd-ac1f6b8566c7', 12.0000),
('d25f1b11-b792-11e9-b7ff-ac1f6b8569b3', 0.0000),
('d36ff352-cb3c-11e9-b7ff-ac1f6b8569b3', 0.0000),
('d36ff357-cb3c-11e9-b7ff-ac1f6b8569b3', 0.0000),
('d36ff36a-cb3c-11e9-b7ff-ac1f6b8569b3', 0.0000),
('ddec7f72-689f-11e9-b7fd-ac1f6b8566c7', 31.0000),
('ddec7f73-689f-11e9-b7fd-ac1f6b8566c7', 0.0000),
('fd11cadb-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cade-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cadf-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae0-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae1-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae2-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11cae3-877e-11e9-b7ff-ac1f6b8569b3', 1.0000),
('fd11cae5-877e-11e9-b7ff-ac1f6b8569b3', 0.0000),
('fd11caf3-877e-11e9-b7ff-ac1f6b8569b3', 1.0000),
('2ede2faf-f4ba-2109-57ef-5c1f6b8569b1', 3.0000),
('2ede2faf-f4ba-2109-57ef-5c1f6b8569b2', 3.0000),
('1d702d85-909c-4d41-b242-62180fb68ff7', 3.0000),
('b3a00adb-689f-11e9-b7fd-ac1f6b8566c7', 12.0000);


-- Now populate stocks for depots
INSERT INTO catalog_wms.stocks(depot_id, product_id, in_stock, depleted)
SELECT d.id,
       s.product_id,
       s.in_stock,
       s.depleted
FROM (VALUES ('ddb8a6fbcee34b38b5281d8ea6ef749a000100010000'),
             ('aab8a6fbcee34b38b5281d8ea6ef749a000100010000')) AS d(id),
     stocks s;

DROP TABLE stocks;

