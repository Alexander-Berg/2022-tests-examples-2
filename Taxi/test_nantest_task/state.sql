insert into db.script_tasks(script_body, var_constraints)
values ('R(0)',
        '[]'),
       ('IF(B(B(U(*,B(U(*,B(fix,.,F(discount))),.,F(restrictions))),.,F(recalc_type)),==,clients::discounts::RecalcType::kSurgePrice),R(B(2,/,0)))',
        '[]'),
       ('FUNC(getMainStrFromExperiment,ARGS((exp,std::unordered_map<std::string,lang::variables::ExperimentSubValue>)),B(CR(str=SL(2,16,2,76,T(SL(2,17,2,30,B("main",in,FA(exp,std::unordered_map<std::string,lang::variables::ExperimentSubValue>))),SL(2,34,2,71,T(U(?,SL(2,35,2,51,B(B(FA(exp,std::unordered_map<std::string,lang::variables::ExperimentSubValue>),.,SL(2,39,2,45,"main")),.,F(str)))),SL(2,61,2,65,U(*,B(B(FA(exp,std::unordered_map<std::string,lang::variables::ExperimentSubValue>),.,SL(2,39,2,45,"main")),.,F(str)))),SL(2,67,2,71," "))),SL(2,73,2,76," "))))));FUNC(abs,ARGS((val,double)),B(CR(res=SL(6,18,6,40,T(SL(6,19,6,26,B(FA(val,double),<,0.000000)),SL(6,30,6,35,U(-,FA(val,double))),SL(6,37,6,40,FA(val,double)))))));FUNC(min,ARGS((a,double),(b,double)),B(CR(res=SL(10,16,10,31,T(SL(10,17,10,22,B(FA(a,double),<,FA(b,double))),SL(10,26,10,28,FA(a,double)),SL(10,30,10,31,FA(b,double)))))));FUNC(max,ARGS((a,double),(b,double)),B(CR(res=SL(14,16,14,31,T(SL(14,17,14,22,B(FA(a,double),>,FA(b,double))),SL(14,26,14,28,FA(a,double)),SL(14,30,14,31,FA(b,double)))))));FUNC(minBetweenOptionals,ARGS((a,std::optional<double>),(b_is_set,bool),(b_value,double)),B(IF(U(?,SL(18,6,18,8,FA(a,std::optional<double>))),IF(SL(19,8,19,16,FA(b_is_set,bool)),CR(is_set=SL(20,58,20,62,true),value=SL(20,20,20,49,B(FC(min,NT(a=SL(20,26,20,33,U(*,SL(18,6,18,8,FA(a,std::optional<double>)))),b=SL(20,37,20,44,FA(b_value,double))),R(res=double)),.,F(res)))));CR(is_set=SL(22,34,22,38,true),value=SL(22,18,22,25,U(*,SL(18,6,18,8,FA(a,std::optional<double>))))));CR(is_set=SL(24,32,24,40,FA(b_is_set,bool)),value=SL(24,16,24,23,FA(b_value,double)))));FUNC(calculateHyperbolaDiscountPercent,ARGS((hyperbolas,clients::discounts::HyperbolasData),(price,double)),B(SV(hyperbola,SL(29,20,31,36,T(SL(29,21,29,49,B(FA(price,double),<,B(FA(hyperbolas,clients::discounts::HyperbolasData),.,F(threshold)))),SL(30,10,31,8,B(FA(hyperbolas,clients::discounts::HyperbolasData),.,F(hyperbola_lower))),SL(31,10,31,36,B(FA(hyperbolas,clients::discounts::HyperbolasData),.,F(hyperbola_upper))))));IF(SL(34,8,34,49,B(B(FC(abs,NT(val=SL(34,16,34,35,B(FA(price,double),+,B(VA(hyperbola),.,F(c))))),R(res=double)),.,F(res)),<,0.000100)),CR(res=SL(35,22,35,23,0.000000)));CR(res=SL(39,18,39,69,B(B(VA(hyperbola),.,F(p)),+,B(B(VA(hyperbola),.,F(a)),/,SL(39,48,39,67,B(FA(price,double),+,B(VA(hyperbola),.,F(c))))))))));FUNC(processTableElement,ARGS((elem,clients::discounts::TableDataA),(first_iteration,bool),(has_result,bool),(prev_elem_coeff,double),(prev_elem_price,double),(price,double),(result,double)),B(IF(SL(50,8,50,18,FA(has_result,bool)),CR(first_iteration=SL(56,30,56,35,false),has_result=SL(52,25,52,29,true),prev_elem_coeff=SL(58,30,59,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(57,30,57,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(55,20,55,25,FA(price,double)),result=SL(53,21,53,27,FA(result,double))));IF(SL(63,8,63,45,B(FA(first_iteration,bool),&&,B(FA(price,double),<,B(FA(elem,clients::discounts::TableDataA),.,F(price))))),CR(first_iteration=SL(68,30,68,35,false),has_result=SL(65,25,65,29,true),prev_elem_coeff=SL(70,30,71,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(69,30,69,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(67,20,67,25,FA(price,double)),result=SL(66,21,66,31,B(FA(elem,clients::discounts::TableDataA),.,F(coeff)))));IF(SL(75,8,75,74,B(B(U(!,FA(first_iteration,bool)),&&,B(FA(prev_elem_price,double),<=,FA(price,double))),&&,B(FA(price,double),<,B(FA(elem,clients::discounts::TableDataA),.,F(price))))),IF(SL(77,12,77,62,B(B(FC(abs,NT(val=SL(77,20,77,48,B(B(FA(elem,clients::discounts::TableDataA),.,F(price)),-,FA(prev_elem_price,double)))),R(res=double)),.,F(res)),<,0.000100)),CR(first_iteration=SL(82,34,82,39,false),has_result=SL(79,29,79,33,true),prev_elem_coeff=SL(84,34,85,12,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(83,34,83,44,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(81,24,81,29,FA(price,double)),result=SL(80,25,80,26,0.000000)));CR(first_iteration=SL(94,30,94,35,false),has_result=SL(89,25,89,29,true),prev_elem_coeff=SL(96,30,97,8,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(95,30,95,40,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(93,20,93,25,FA(price,double)),result=SL(90,21,92,52,B(FA(prev_elem_coeff,double),+,B(B(SL(91,19,91,47,B(B(FA(elem,clients::discounts::TableDataA),.,F(coeff)),-,FA(prev_elem_coeff,double))),*,SL(91,52,91,75,B(FA(price,double),-,FA(prev_elem_price,double)))),/,SL(92,23,92,51,B(B(FA(elem,clients::discounts::TableDataA),.,F(price)),-,FA(prev_elem_price,double))))))));CR(first_iteration=SL(105,26,105,31,false),has_result=SL(102,21,102,26,false),prev_elem_coeff=SL(107,26,108,4,B(FA(elem,clients::discounts::TableDataA),.,F(coeff))),prev_elem_price=SL(106,26,106,36,B(FA(elem,clients::discounts::TableDataA),.,F(price))),price=SL(104,16,104,21,FA(price,double)),result=SL(103,17,103,23,FA(result,double)))));FUNC(calculateTableDiscountPercent,ARGS((price,double),(table,std::vector<clients::discounts::TableDataA>)),B(SV(process_table_result,SL(113,31,120,6,FL(SL(113,36,113,42,FA(table,std::vector<clients::discounts::TableDataA>)),elem,NT(first_iteration=SL(117,26,117,30,true),has_result=SL(114,21,114,26,false),prev_elem_coeff=SL(119,26,120,4,0.000000),prev_elem_price=SL(118,26,118,27,0.000000),price=SL(116,16,116,21,FA(price,double)),result=SL(115,17,115,18,0.000000)),FC(processTableElement,NT(elem=VA(elem),first_iteration=VA(first_iteration),has_result=VA(has_result),prev_elem_coeff=VA(prev_elem_coeff),prev_elem_price=VA(prev_elem_price),price=VA(price),result=VA(result)),R(first_iteration=bool,has_result=bool,prev_elem_coeff=double,prev_elem_price=double,price=double,result=double)))));IF(SL(123,8,123,39,B(VA(process_table_result),.,F(has_result))),CR(res=SL(124,22,124,49,B(VA(process_table_result),.,F(result)))));CR(res=SL(128,18,128,54,B(VA(process_table_result),.,F(prev_elem_coeff))))));FUNC(applyNewbieCoefficients,ARGS((coeff,double),(restrictions,clients::discounts::DiscountRestrictions)),B(SV(newbie_max_coeff,SL(132,27,132,87,T(U(?,SL(132,28,132,58,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(newbie_max_coeff)))),SL(132,74,132,84,U(*,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(newbie_max_coeff)))),SL(132,86,132,87,1.000000))));SV(newbie_num_coeff,SL(133,27,133,87,T(U(?,SL(133,28,133,58,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(newbie_num_coeff)))),SL(133,74,133,84,U(*,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(newbie_num_coeff)))),SL(133,86,133,87,0.000000))));SV(completed_count,SL(134,26,134,99,T(U(?,SL(134,27,134,78,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(completed_on_special_conditions_count)))),SL(134,90,134,96,U(*,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(completed_on_special_conditions_count)))),SL(134,98,134,99,0.000000))));CR(res=SL(136,14,137,4,B(FA(coeff,double),*,SL(136,23,136,76,B(VA(newbie_max_coeff),-,B(VA(newbie_num_coeff),*,VA(completed_count)))))))));FUNC(normalizeToMinMax,ARGS((coeff,double),(ml_discount_restriction,double),(restrictions,clients::discounts::DiscountRestrictions)),B(SV(coeff_limited_to_max,SL(143,31,144,67,B(FC(min,NT(a=SL(143,39,143,94,B(FC(min,NT(a=SL(143,47,143,52,FA(coeff,double)),b=SL(143,58,143,89,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(max_discount_coeff)))),R(res=double)),.,F(res))),b=SL(144,39,144,62,FA(ml_discount_restriction,double))),R(res=double)),.,F(res))));CR(res=SL(147,14,148,4,T(SL(147,15,147,69,B(VA(coeff_limited_to_max),<,B(FA(restrictions,clients::discounts::DiscountRestrictions),.,F(min_discount_coeff)))),SL(147,73,147,75,0.000000),SL(147,77,148,4,VA(coeff_limited_to_max)))))));FUNC(normalizeByMaxAbsoluteValue,ARGS((coeff,double),(max_absolute_value,double),(price,double)),B(IF(SL(153,8,153,60,B(B(B(FA(price,double),*,FA(coeff,double)),>,FA(max_absolute_value,double)),&&,B(FA(price,double),>,0.000100))),CR(res=SL(155,18,157,8,B(FC(min,NT(a=SL(155,26,155,72,B(FC(max,NT(a=SL(155,34,155,60,B(FA(max_absolute_value,double),/,FA(price,double))),b=SL(155,66,155,67,0.000000)),R(res=double)),.,F(res))),b=SL(156,26,156,27,1.000000)),R(res=double)),.,F(res)))));CR(res=SL(159,18,159,23,FA(coeff,double)))));FUNC(getPreviousCategory,ARGS(),B(IF(SL(163,6,163,32,B(B(fix,.,F(category)),==,"business")),CR(res=SL(164,16,164,24,"econom")),IF(SL(165,13,165,41,B(B(fix,.,F(category)),==,"uberselect")),CR(res=SL(166,16,166,23,"uberx"))));CR(res=SL(168,14,168,17," "))));FUNC(fetchDiscountRestrictionFromPrevCategory,ARGS((discount_class,std::string)),B(IF(SL(175,6,175,90,B(B("restrict_absolute_discount",in,B(fix,.,F(exps))),&&,B(FA(discount_class,std::string),==,"discounts-calculator"))),SV(previous_category,SL(176,28,176,53,B(FC(getPreviousCategory,NT(),R(res=std::string)),.,F(res))));IF(SL(177,8,177,32,B(VA(previous_category),!=," ")),SV(discount_type,SL(178,26,178,98,B(FC(getMainStrFromExperiment,NT(exp=SL(178,55,178,93,B(B(fix,.,F(exps)),.,SL(178,64,178,92,"restrict_absolute_discount")))),R(str=std::string)),.,F(str))));IF(SL(179,10,179,40,B(VA(discount_type),==,"no_discount")),CR(is_set=SL(180,32,180,36,true),value=SL(180,22,180,23,0.000000)));IF(SL(182,10,182,51,B(VA(discount_type),==,"from_previous_category")),IF(U(?,SL(183,12,183,49,B(fix,.,F(previously_calculated_categories)))),IF(SL(184,14,184,67,B(VA(previous_category),in,U(*,B(fix,.,F(previously_calculated_categories))))),SV(econom_meta,SL(185,30,185,112,B(B(B(B(B(U(*,B(fix,.,F(previously_calculated_categories))),.,SL(185,63,185,80,VA(previous_category))),.,F(user)),.,F(final_prices)),.,SL(185,100,185,106,"main")),.,F(meta))));IF(SL(186,16,186,51,B("discount_delta_raw",in,VA(econom_meta))),SV(discount_delta_raw,SL(187,39,187,72,B(VA(econom_meta),.,SL(187,51,187,71,"discount_delta_raw"))));CR(is_set=SL(188,56,188,60,true),value=SL(188,28,188,47,U(-,VA(discount_delta_raw)))))));CR(is_set=SL(194,32,194,36,true),value=SL(194,22,194,23,0.000000)))));CR(is_set=SL(198,26,198,31,false),value=SL(198,16,198,17,0.000000))));FUNC(fetchDiscountRestrictionFromML,ARGS((discount_class,std::string)),B(IF(SL(203,6,203,84,B(B("ml_model_restriction",in,B(fix,.,F(exps))),&&,B(FA(discount_class,std::string),==,"discounts-calculator"))),SV(discount_type,SL(204,24,204,90,B(FC(getMainStrFromExperiment,NT(exp=SL(204,53,204,85,B(B(fix,.,F(exps)),.,SL(204,62,204,84,"ml_model_restriction")))),R(str=std::string)),.,F(str))));IF(SL(205,8,205,46,B(VA(discount_type),==,"with_ml_restriction")),IF(U(?,SL(206,10,206,31,B(fix,.,F(offer_statistics)))),IF(SL(207,12,207,42,B("discount",in,U(*,B(fix,.,F(offer_statistics))))),SV(ml_discount,SL(208,28,208,56,B(U(*,B(fix,.,F(offer_statistics))),.,SL(208,45,208,55,"discount"))));CR(value=SL(209,26,209,61,T(SL(209,27,209,42,B(VA(ml_discount),<,0.000000)),SL(209,46,209,48,1.000000),SL(209,50,209,61,VA(ml_discount)))))))));CR(value=SL(214,16,214,17,1.000000))));FUNC(GetCoeffFinal,ARGS((affected_price,double),(discount,lang::variables::DiscountInfo)),B(SV(restrictions,SL(218,23,218,44,B(FA(discount,lang::variables::DiscountInfo),.,F(restrictions))));SV(percent,SL(219,18,223,15,T(U(?,SL(219,19,219,49,B(FA(discount,lang::variables::DiscountInfo),.,F(calc_data_hyperbolas)))),SL(220,10,221,8,B(FC(calculateHyperbolaDiscountPercent,NT(hyperbolas=SL(220,57,220,60,U(*,B(FA(discount,lang::variables::DiscountInfo),.,F(calc_data_hyperbolas)))),price=SL(220,70,220,84,FA(affected_price,double))),R(res=double)),.,F(res))),SL(221,10,223,15,T(U(?,SL(221,11,221,41,B(FA(discount,lang::variables::DiscountInfo),.,F(calc_data_table_data)))),SL(222,14,223,12,B(FC(calculateTableDiscountPercent,NT(price=SL(222,65,222,79,FA(affected_price,double)),table=SL(222,52,222,55,U(*,B(FA(discount,lang::variables::DiscountInfo),.,F(calc_data_table_data))))),R(res=double)),.,F(res))),SL(223,14,223,15,0.000000))))));SV(discount_class,SL(226,25,226,91,T(U(?,SL(226,26,226,50,B(FA(discount,lang::variables::DiscountInfo),.,F(discount_class)))),SL(226,71,226,86,U(*,B(FA(discount,lang::variables::DiscountInfo),.,F(discount_class)))),SL(226,88,226,91," "))));SV(econom_discount_restriction,SL(227,38,227,111,FC(fetchDiscountRestrictionFromPrevCategory,NT(discount_class=SL(227,96,227,110,VA(discount_class))),R(is_set=bool,value=double))));SV(max_absolute_value_opt,SL(229,33,231,99,FC(minBetweenOptionals,NT(a=SL(229,57,229,88,B(VA(restrictions),.,F(max_absolute_value))),b_is_set=SL(231,64,231,98,B(VA(econom_discount_restriction),.,F(is_set))),b_value=SL(230,63,230,96,B(VA(econom_discount_restriction),.,F(value)))),R(is_set=bool,value=double))));SV(ml_discount_restriction,SL(233,34,233,103,B(FC(fetchDiscountRestrictionFromML,NT(discount_class=SL(233,82,233,96,VA(discount_class))),R(value=double)),.,F(value))));SV(coeff_initial,SL(235,24,235,38,B(VA(percent),*,0.010000)));SV(coeff1,SL(236,17,236,96,B(FC(applyNewbieCoefficients,NT(coeff=SL(236,49,236,62,VA(coeff_initial)),restrictions=SL(236,79,236,91,VA(restrictions))),R(res=double)),.,F(res))));SV(coeff2,SL(237,17,239,89,B(FC(normalizeToMinMax,NT(coeff=SL(237,43,237,49,VA(coeff1)),ml_discount_restriction=SL(239,61,239,84,VA(ml_discount_restriction)),restrictions=SL(238,50,238,62,VA(restrictions))),R(res=double)),.,F(res))));SV(coeff3,SL(240,17,244,16,T(SL(240,18,240,47,B(VA(max_absolute_value_opt),.,F(is_set))),SL(241,10,244,8,B(FC(normalizeByMaxAbsoluteValue,NT(coeff=SL(241,46,241,52,VA(coeff2)),max_absolute_value=SL(243,59,243,87,B(VA(max_absolute_value_opt),.,F(value))),price=SL(242,46,242,60,FA(affected_price,double))),R(res=double)),.,F(res))),SL(244,10,244,16,VA(coeff2)))));SV(coeff_final,SL(246,22,246,48,B(FC(min,NT(a=SL(246,30,246,36,VA(coeff3)),b=SL(246,42,246,43,1.000000)),R(res=double)),.,F(res))));CR(value=SL(247,18,247,29,VA(coeff_final)))));IF(U(?,SL(251,4,251,17,B(fix,.,F(discount)))),IF(U(?,SL(254,8,254,40,B(U(*,B(fix,.,F(discount))),.,F(is_price_strikethrough)))),IF(SL(255,12,255,35,U(!,U(*,B(U(*,B(fix,.,F(discount))),.,F(is_price_strikethrough))))),CR(boarding=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(requirements)),time=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(256,19,256,29,B(ride,.,F(price))),.,F(waiting)))));SV(restrictions,SL(260,23,260,44,B(U(*,B(fix,.,F(discount))),.,F(restrictions))));IF(SL(261,8,261,79,B(B(VA(restrictions),.,F(recalc_type)),==,clients::discounts::RecalcType::kSurgePrice)),CR(boarding=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(requirements)),time=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(263,15,263,25,B(ride,.,F(price))),.,F(waiting))));SV(meta1,SL(266,16,268,5,MAP("discount_price"=U(*,B(ride,.,F(price))))));SV(affected_price,SL(271,25,273,69,B(B(B(U(*,B(ride,.,F(price))),-,B(B(ride,.,F(price)),.,F(waiting))),-,B(B(ride,.,F(price)),.,F(transit_waiting))),-,B(B(ride,.,F(price)),.,F(destination_waiting)))));SV(coeff_final,SL(275,22,275,93,B(FC(GetCoeffFinal,NT(affected_price=SL(275,53,275,67,VA(affected_price)),discount=SL(275,78,275,86,U(*,B(fix,.,F(discount))))),R(value=double)),.,F(value))));IF(SL(276,8,276,24,B(VA(coeff_final),<=,0.000000)),CR(metadata=SL(277,27,277,32,VA(meta1))));IF(SL(280,8,280,28,B(U(*,B(fix,.,F(discount))),.,F(is_cashback))),SV(discount_price_meta,SL(281,34,283,9,MAP("discount_price"=U(*,B(ride,.,F(price))))));IF(T(U(?,B(fix,.,F(complements))),U(?,SL(284,12,284,44,B(B(fix,.,F(complements)),.,F(personal_wallet)))),false),CR(metadata=SL(286,31,286,36,VA(meta1))));SV(meta2,SL(289,20,291,9,MAP("cashback_rate"=VA(coeff_final))));SV(meta3,SL(293,20,294,57,T(U(?,SL(293,21,293,53,B(VA(restrictions),.,F(max_absolute_value)))),SL(294,10,294,52,MAP("cashback_max_value"=U(*,B(VA(restrictions),.,F(max_absolute_value))))),SL(294,55,294,57,MAP()))));IF(U(?,SL(298,12,298,33,B(U(*,B(fix,.,F(discount))),.,F(description)))),SV(meta4,SL(299,22,302,16,T(SL(299,23,300,71,B(B(U(*,B(U(*,B(fix,.,F(discount))),.,F(description))),==,"mc_cashback_ultima_plus"),||,B(U(*,B(U(*,B(fix,.,F(discount))),.,F(description))),==,"mastercard_comforts_cashback_summer"))),SL(300,75,302,11,MAP("cashback_sponsor:mastercard"=1.000000)),SL(302,14,302,16,MAP()))));SV(meta5,SL(304,22,306,15,T(SL(304,23,304,89,B(U(*,B(U(*,B(fix,.,F(discount))),.,F(description))),==,"mastercard_otkrytie_ultima_cashback_2021")),SL(304,93,306,11,MAP("cashback_sponsor:otkrytie_mastercard"=1.000000)),SL(306,13,306,15,MAP()))));SV(meta6,SL(308,22,310,15,T(SL(308,23,308,87,B(U(*,B(U(*,B(fix,.,F(discount))),.,F(description))),==,"mastercard_promsv_ultima_cashback_2021")),SL(308,91,310,11,MAP("cashback_sponsor:mastercard_and_promsvyazbank"=1.000000)),SL(310,13,310,15,MAP()))));CR(metadata=SL(312,23,313,10,B(B(B(B(B(VA(discount_price_meta),+,VA(meta2)),+,VA(meta3)),+,VA(meta4)),+,VA(meta5)),+,VA(meta6)))));CR(metadata=SL(316,23,317,10,B(B(VA(discount_price_meta),+,VA(meta2)),+,VA(meta3)))));SV(delta,SL(320,16,320,45,B(U(-,VA(affected_price)),*,VA(coeff_final))));SV(meta2,SL(322,16,326,5,MAP("discount_value"=VA(coeff_final),"discount_delta_raw"=VA(delta))));SV(mult,SL(328,15,328,30,B(1.000000,-,VA(coeff_final))));CR(boarding=SL(330,19,330,45,B(B(B(ride,.,F(price)),.,F(boarding)),*,VA(mult))),destination_waiting=SL(336,30,336,60,B(B(ride,.,F(price)),.,F(destination_waiting))),distance=SL(331,19,331,45,B(B(B(ride,.,F(price)),.,F(distance)),*,VA(mult))),metadata=SL(337,19,338,4,B(VA(meta1),+,VA(meta2))),requirements=SL(333,23,333,53,B(B(B(ride,.,F(price)),.,F(requirements)),*,VA(mult))),time=SL(332,15,332,37,B(B(B(ride,.,F(price)),.,F(time)),*,VA(mult))),transit_waiting=SL(335,26,335,52,B(B(ride,.,F(price)),.,F(transit_waiting))),waiting=SL(334,18,334,36,B(B(ride,.,F(price)),.,F(waiting)))));CR(boarding=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(boarding)),destination_waiting=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(destination_waiting)),distance=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(distance)),requirements=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(requirements)),time=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(time)),transit_waiting=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(transit_waiting)),waiting=B(SL(341,7,341,17,B(ride,.,F(price))),.,F(waiting)))',
        '[]');

insert into db.checks(script_id, check_type, message, comment)
values (1, 'CheckNaN', '', '');
