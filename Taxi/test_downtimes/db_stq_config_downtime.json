[
  {
    "_id": "queue_with_downtime_no_auto",
    "balancing_enabled": false,
    "hosts_downtime": {
      "dc": "vla",
      "until": {
        "$date": "2019-01-02T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "vla-host",
          "sas-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "hosts": []
      }
    ],
    "version": 1,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_with_downtime_to_disable",
    "balancing_enabled": false,
    "hosts_downtime": {
      "dc": "vla",
      "until": {
        "$date": "2019-01-02T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "vla-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "hosts": []
      }
    ],
    "version": 1,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_with_downtime_no_alive_hosts",
    "balancing_enabled": false,
    "hosts_downtime": {
      "dc": "vla",
      "until": {
        "$date": "2019-01-02T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "vla-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "hosts": []
      }
    ],
    "version": 1,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_with_downtime_auto",
    "balancer_settings": {
      "hosts": [
        {
          "name": "sas-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 15
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        },
        {
          "name": "vla-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 15
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        }
      ]
    },
    "balancing_enabled": true,
    "hosts_downtime": {
      "dc": "vla",
      "until": {
        "$date": "2019-01-02T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq"
      }
    ],
    "version": 1,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_after_downtime_auto",
    "balancer_settings": {
      "hosts": [
        {
          "name": "sas-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 15
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        }
      ]
    },
    "balancing_enabled": true,
    "hosts_downtime": {
      "balancer_settings": [
        {
          "name": "vla-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 15
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        }
      ],
      "dc": "vla",
      "until": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq"
      }
    ],
    "updated": {
      "$date": 1578842005458
    },
    "version": 2,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_after_downtime_no_auto",
    "balancing_enabled": false,
    "hosts_downtime": {
      "dc": "vla",
      "omnipresent_shards": [
        1
      ],
      "shards_by_hosts": {
        "vla-host": [
          0,
          1
        ]
      },
      "until": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "sas-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "sas-host"
        ]
      }
    ],
    "updated": {
      "$date": 1578842005453
    },
    "version": 2,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_after_downtime_switch_to_auto",
    "balancer_settings": {
      "hosts": [
        {
          "name": "sas-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 15
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        }
      ]
    },
    "balancing_enabled": true,
    "hosts_downtime": {
      "dc": "vla",
      "shards_by_hosts": {
        "vla-host": [
          0
        ]
      },
      "until": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq"
      }
    ],
    "updated": {
      "$date": 1578842005458
    },
    "version": 2,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_after_downtime_switch_to_no_auto",
    "balancing_enabled": false,
    "hosts_downtime": {
      "balancer_settings": [
        {
          "name": "vla-host",
          "shards": [
            {
              "index": 0,
              "max_tasks": 7
            },
            {
              "index": 1,
              "max_tasks": 7
            }
          ],
          "worker_configs": {
            "instances": 5
          }
        }
      ],
      "dc": "vla",
      "until": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "sas-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "hosts": [
          "sas-host"
        ]
      }
    ],
    "updated": {
      "$date": 1578842005453
    },
    "version": 2,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  },
  {
    "_id": "queue_after_downtime_to_disable",
    "balancing_enabled": false,
    "hosts_downtime": {
      "dc": "vla",
      "disabled_shards": [
        0,
        1
      ],
      "omnipresent_shards": [
        1
      ],
      "shards_by_hosts": {
        "vla-host": [
          0,
          1
        ]
      },
      "until": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "shards": [
      {
        "collection": "queue_with_downtime_0",
        "connection": "stq",
        "database": "dbstq",
        "disabled": true,
        "hosts": [
          "vla-host"
        ]
      },
      {
        "collection": "queue_with_downtime_1",
        "connection": "stq",
        "database": "dbstq",
        "disabled": true,
        "hosts": []
      }
    ],
    "version": 1,
    "worker_configs": {
      "instances": 5,
      "max_execution_time": 100,
      "max_tasks": 15
    }
  }
]
