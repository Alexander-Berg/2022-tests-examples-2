{
  "consumer": "taxi-surge",
  "name": "test_pipeline_name",
  "stages": [
    {
      "conditions": [],
      "in_bindings": [
        {
          "children": [
            {
              "query": "point_a"
            }
          ],
          "domain": "input",
          "query": "request"
        }
      ],
      "name": "resource_fetch",
      "resources": [
        {
          "field": "time",
          "name": "time"
        }
      ],
      "source_code": "return {time: {points: {point_a}}}"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "domain": "resource",
          "query": "time.utc.time_since_epoch_ms"
        }
      ],
      "name": "add_classes",
      "out_bindings": [
        {
          "alias": "data",
          "query": "classes"
        }
      ],
      "source_code": "log.info(time_since_epoch_ms); return {data: {econom: {surge: {value: 1}, value_raw: 1, name: 'econom'}, vip: {surge: {value: 1}, value_raw: 1, name: 'vip'}}};"
    }
  ],
  "state": "active"
}
