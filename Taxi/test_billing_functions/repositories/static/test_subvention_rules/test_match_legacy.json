{
  "expected_match_requests": [
    {
      "activity_points": 50,
      "driver_branding": "full_branding",
      "geoareas": [
        "ga"
      ],
      "profile_payment_type_restrictions": "none",
      "profile_tariff_classes": [
        "econom",
        "business"
      ],
      "reference_time": "2021-01-01T03:00:00+03:00",
      "rule_types": [
        "nmfg",
        "booking_geo",
        "do_x_get_y"
      ],
      "tags": [
        "tag"
      ],
      "tariff_class": "econom",
      "time_zone": "Europe/Moscow",
      "unique_driver_id": "000000000000000000000000",
      "zone_name": "kursk"
    }
  ],
  "expected_rules": [
    {
      "$NmfgRule": {
        "activity_points": null,
        "budget_id": "f09fdfcd-887f-4f21-8d9b-153f70ad53fd",
        "group_id": "5e8d3565-656c-4e38-979f-ec189fc9dbef",
        "id": "5f9c211f68fdb5b69a6cbf7c",
        "is_net": false
      }
    },
    {
      "$GeoBookingRule": {
        "activity_points": 40.0,
        "budget_id": "d2e6b042-355d-4223-b025-47762d6d4a36",
        "end": {
          "$datetime": "2021-12-01T21:00:00+00:00"
        },
        "id": "6007f71ac613e38b8bf9cdc3",
        "is_relaxed_income_matching": true,
        "is_relaxed_order_time_matching": false,
        "local_days_of_week": [
          {
            "$iso_week_day": 1
          },
          {
            "$iso_week_day": 2
          },
          {
            "$iso_week_day": 3
          },
          {
            "$iso_week_day": 4
          },
          {
            "$iso_week_day": 5
          },
          {
            "$iso_week_day": 6
          },
          {
            "$iso_week_day": 7
          }
        ],
        "min_online_minutes": 30,
        "profile_payment_type_rule": {
          "$profile_payment_type_rule": "any"
        },
        "rate_free_per_minute": {
          "$decimal": "10"
        },
        "rate_on_order_per_minute": {
          "$decimal": "17"
        },
        "rule_type": "guarantee",
        "start": {
          "$datetime": "2021-01-20T21:00:00+00:00"
        },
        "tariff_classes": [
          "econom"
        ],
        "tariff_zone": "moscow",
        "workshift_duration": {
          "$timedelta": {
            "days": 1
          }
        },
        "workshift_start": {
          "$time": "00:00"
        }
      }
    },
    {
      "$DoXGetYRule": {
        "activity_points": null,
        "group_id": "d754cb65b69669754339cb003660c00dd8ff7d74",
        "id": "id_do_x_get_y",
        "is_personal": false
      }
    },
    {
      "$DoXGetYRule": {
        "activity_points": null,
        "group_id": "d754cb65b69669754339cb003660c00dd8ff7d74",
        "id": "id_personal_do_x_get_y",
        "is_personal": true
      }
    }
  ],
  "match_responses": [
    {
      "match": [
        {
          "budget_id": "f09fdfcd-887f-4f21-8d9b-153f70ad53fd",
          "currency": "RUB",
          "end": "2021-10-07T21:00:00+00:00",
          "geoareas": [],
          "group_id": "5e8d3565-656c-4e38-979f-ec189fc9dbef",
          "id": "5f9c211f68fdb5b69a6cbf7c",
          "is_net": false,
          "is_personal": false,
          "is_test": false,
          "local_days_of_week": [
            "mon",
            "tue",
            "wed",
            "thu"
          ],
          "local_hours": [],
          "rule_type": "nmfg",
          "start": "2020-10-30T21:00:00+00:00",
          "steps": [
            {
              "bonus": "400.000000",
              "group_member_id": "num_orders/1/week_days/1,2,3,4",
              "id": "5f9c211f68fdb5b69a6cbf7c",
              "orders_count": 1
            },
            {
              "bonus": "600.000000",
              "group_member_id": "num_orders/2/week_days/1,2,3,4",
              "id": "5f9c211f68fdb5b69a6cbff6",
              "orders_count": 2
            }
          ],
          "tags": [],
          "tariff_class": [
            "econom",
            "business"
          ],
          "zone_name": "kursk"
        },
        {
          "activity_points": 40.0,
          "budget_id": "d2e6b042-355d-4223-b025-47762d6d4a36",
          "currency": "RUB",
          "end": "2021-12-01T21:00:00+00:00",
          "geoareas": [
            "moscow_center"
          ],
          "group_id": "da6c3d97-6ec1-4e63-bf10-49cd415b5d64",
          "has_commission": false,
          "id": "6007f71ac613e38b8bf9cdc3",
          "is_personal": false,
          "is_relaxed_income_matching": true,
          "is_relaxed_order_time_matching": false,
          "local_days_of_week": [
            "mon",
            "tue",
            "wed",
            "thu",
            "fri",
            "sat",
            "sun"
          ],
          "local_hours": [],
          "min_online_minutes": 30,
          "payment_type": "guarantee",
          "profile_payment_type_restrictions": "any",
          "rate_free_per_minute": "10",
          "rate_on_order_per_minute": "17",
          "rule_type": "booking_geo",
          "start": "2021-01-20T21:00:00+00:00",
          "tags": [
            "moscow_center_car"
          ],
          "tariff_class": [
            "econom"
          ],
          "workshift": {
            "duration": "24:00",
            "start": "00:00"
          },
          "zone_name": "moscow"
        },
        {
          "budget_id": "budget_do_x_get_y",
          "currency": "RUB",
          "days_span": 1,
          "end": "2017-02-28T21:00:00+00:00",
          "geoareas": [],
          "group_id": "d754cb65b69669754339cb003660c00dd8ff7d74",
          "id": "id_do_x_get_y",
          "is_personal": false,
          "local_days_of_week": [
            "mon",
            "tue",
            "wed",
            "thu",
            "fri",
            "sat",
            "sun"
          ],
          "local_hours": [],
          "rule_type": "do_x_get_y",
          "start": "2017-01-25T00:00:00+00:00",
          "steps": [
            {
              "bonus": "50.000000",
              "group_member_id": "588a66a539b479046a5a0af5",
              "id": "588a66a539b479046a5a0af5",
              "orders_count": 10
            }
          ],
          "tags": [],
          "tariff_class": [
            "econom"
          ],
          "zone_name": "moscow"
        },
        {
          "budget_id": null,
          "currency": "RUB",
          "days_span": 1,
          "end": "2017-02-28T21:00:00+00:00",
          "geoareas": [],
          "group_id": "d754cb65b69669754339cb003660c00dd8ff7d74",
          "id": "id_personal_do_x_get_y",
          "is_personal": true,
          "local_days_of_week": [
            "mon",
            "tue",
            "wed",
            "thu",
            "fri",
            "sat",
            "sun"
          ],
          "local_hours": [],
          "rule_type": "do_x_get_y",
          "start": "2017-01-25T00:00:00+00:00",
          "steps": [
            {
              "bonus": "50.000000",
              "group_member_id": "588a66a539b479046a5a0af5",
              "id": "588a66a539b479046a5a0af5",
              "orders_count": 10
            }
          ],
          "tags": [],
          "tariff_class": [
            "econom"
          ],
          "zone_name": "moscow"
        }
      ]
    }
  ],
  "query": {
    "$Query": {
      "activity_points": 50,
      "driver_zone": "moscow",
      "geoareas": [
        "ga"
      ],
      "geonode": "a/b/c",
      "has_lightbox": true,
      "has_sticker": true,
      "order_zone": "kursk",
      "profile_payment_type_restrictions": "none",
      "profile_tariff_classes": [
        "econom",
        "business"
      ],
      "reference_time": {
        "$datetime": "2021-01-01T03:00:00+03:00"
      },
      "rule_types": [
        "nmfg",
        "booking_geo",
        "do_x_get_y"
      ],
      "tags": [
        "tag"
      ],
      "tariff_class": "econom",
      "timezone": "Europe/Moscow",
      "unique_driver_id": "000000000000000000000000"
    }
  }
}
