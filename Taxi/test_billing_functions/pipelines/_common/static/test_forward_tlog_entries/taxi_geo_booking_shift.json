{
  "doc": {
    "$Doc": {
      "data": {
        "$TaxiGeoBookingShift": {
          "agreement": {
            "ref": "subvention_agreement/1/default/_id/5dc45e833fd694916ab26be1",
            "rule_data": {
              "currency": "RUB",
              "min_online_minutes": 2,
              "rate_free_per_minute": "4",
              "rate_on_order_per_minute": "5",
              "rule_type": "guarantee"
            }
          },
          "driver": {
            "clid": "some_clid",
            "driver_profile_id": "some_driver_profile_id",
            "park_id": "some_park_id",
            "unique_driver_id": "some_unique_driver_id"
          },
          "last_entries": {
            "adopted_entry_ids": [],
            "entry_ids": [
              1,
              2,
              3
            ],
            "reversal_entry_ids": [
              4,
              5
            ]
          },
          "payment_meta": {
            "billing_at": "2020-07-04T21:01:00.000000+00:00",
            "budget_id": "<budget>",
            "payment_ref": "some_payment_ref",
            "tariff_zone": "moscow",
            "time_zone": "Europe/Moscow"
          },
          "shift": {
            "end": "2020-07-05T21:00:00.000000+00:00",
            "start": "2020-07-04T21:00:00.000000+00:00"
          }
        }
      },
      "entry_ids": [],
      "event_at": {
        "$datetime": "1991-06-18T07:15:00+03:00"
      },
      "external_ref": "1",
      "id": 100,
      "kind": "taxi_geo_booking_shift",
      "process_at": {
        "$datetime": "1991-06-18T07:15:00+03:00"
      },
      "revision": 1,
      "status": "forward_tlog_antifraud_entries",
      "topic": "taxi_shift_topic"
    }
  },
  "expected_query": {
    "$Query": {
      "doc_ref": 100,
      "entry_ids": [
        1,
        2,
        3,
        4,
        5
      ],
      "timestamp": {
        "$datetime": "1991-06-18T07:15:00+03:00"
      }
    }
  }
}
