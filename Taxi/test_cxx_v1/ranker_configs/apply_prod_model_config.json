{
  "exp_id": "prod_catalog_builder",
  "factory_params": {
    "candidates_extractors_params": {
      "enable_offline_visits": true,
      "enable_orders": true,
      "fast_candidates_size": 0,
      "high_rating_candidates_size": 0
    },
    "ce_load": "ctaxi_pyml.eats.places_ranking.api.v2.CombinationCandidatesExtractor",
    "data_splitter_params": {
      "test_begin_date": "2022-05-24"
    },
    "fe_load": "ctaxi_pyml.eats.places_ranking.api.v2.FeaturesExtractorV1",
    "features_extractors_params": {
      "expected_user_embedding_size": 0,
      "use_candidate_ranks": false,
      "use_divisions": true,
      "use_external_place_info_features_v1": true,
      "use_heuristic_v1_brand_embedding": false,
      "use_offline_visits_feature_v1": true
    },
    "linear_ranker_params": {
      "average_user_rating": 0.29363624040819,
      "cancel_rate": 0,
      "catboost_score_weight": 1000000,
      "click_to_order_two_month": 25,
      "cm2_median": 0.01,
      "discounted_pcnt": 0,
      "dishes_with_picture": 0,
      "enabled": true,
      "eta_minutes_min": -0.06821175159799421,
      "froder_metric": 0,
      "graph_embed_affinity": 0,
      "img_embed_affinity": 20,
      "income_segment_affinity": 7,
      "is_marketplace": 0,
      "is_new": 0,
      "is_yandex_taxi_courier_type": 0,
      "place_has_plus": 0,
      "plus_cashback": 0.068,
      "ranking_weight": 1,
      "retention_is_good": 1,
      "shown_rating": 0.3411459033415157,
      "shown_rating_is_good": 1,
      "surge_price": 0,
      "total_ctr_is_good": 0,
      "user_history_brand_cnt": 1000,
      "user_offline_visit_cnt": 50
    },
    "pe_load": "ctaxi_pyml.common.models.load_catboost",
    "personal_rec_model_dir": "./models/rec_models/cxx_v1_cands_hist_and_offline_no_fast_and_rating_candidates_user_external_features",
    "personal_rec_model_load": "ctaxi_pyml.eats.places_ranking.api.v2.RecModelV1",
    "personal_rec_model_params": {
      "personal_block_size": 4,
      "personal_rec_model_name": "cxx_v1_cands_hist_and_offline_no_fast_and_rating_candidates_user_external_features"
    },
    "post_proc_load": "ctaxi_pyml.eats.places_ranking.api.v2.DefaultPostProcessor",
    "post_processors_params": {}
  },
  "manager_params": {
    "cluster_params": {
      "decode_bytes_str": true,
      "parallel_operations_limit": 5,
      "use_cxx": true
    },
    "data_split_path_mapping": {
      "dj": "//home/taxi_ml/dev/eats/ayusergeev/dj/test_data",
      "test": "//home/taxi_ml/dev/eats/ayusergeev/dj/test_data",
      "train": "//home/taxi_ml/dev/eats/ayusergeev/dj/train_data2"
    },
    "metrics_split_path_mapping": {
      "test": "//home/taxi_ml/dev/eats/ayusergeev/sample_metrics"
    },
    "rec_split_path_mapping": {
      "dj": "//home/taxi_ml/dev/eats/ayusergeev/dj/dj_rec_data",
      "test": "//home/taxi_ml/dev/eats/ayusergeev/dj/rec_test_data"
    },
    "relevance_table_mapping": {
      "dj": "//home/taxi_ml/dev/eats/ayusergeev/dj/dj_relevance"
    },
    "yt_resources": {
      "models": "//home/taxi_ml/production/resources/eats/catalog/v1/models.tar"
    }
  },
  "nile_pipeline_params": {
    "data_splits_params": {
      "intensity": "data",
      "output_keys": [
        "train",
        "test"
      ]
    },
    "metrics_splits_params": {
      "calc_slice_sizes": true,
      "max_position": 20,
      "timings_fields": [
        "personal_rec_model",
        "places_ranker"
      ]
    },
    "raw_data_load": "projects.eats.places_ranking.rec_sys.data_context.umlaas_eats_ml_request_logs.DataContext",
    "raw_data_params": {
      "add_search_data": false,
      "begin_date": "2022-04-24",
      "drop_null_requests": true,
      "end_date": "2022-05-24"
    },
    "rec_splits_params": {
      "intensity": "default",
      "memory_limit": 2048
    }
  }
}
