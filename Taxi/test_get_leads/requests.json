{
  "activator_check_filtered": {
    "code": 200,
    "consumer": "active_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": []
    },
    "params": {
      "activator_check": "approved",
      "customer": "active_customer"
    }
  },
  "active": {
    "code": 200,
    "consumer": "active_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "status_active",
              "value": "not_active"
            }
          ],
          "lead_id": "lead_not_active"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_1"
            },
            {
              "name": "active_1",
              "value": "2021-05-16"
            }
          ],
          "lead_id": "lead_active_1"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_5"
            },
            {
              "name": "active_5",
              "value": "2021-05-16"
            },
            {
              "name": "active_1",
              "value": "2021-05-15"
            }
          ],
          "lead_id": "lead_active_5"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_10"
            },
            {
              "name": "active_10",
              "value": "2021-05-16"
            },
            {
              "name": "active_5",
              "value": "2021-05-15"
            },
            {
              "name": "active_1",
              "value": "2021-05-14"
            }
          ],
          "lead_id": "lead_active_10"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_15"
            },
            {
              "name": "active_15",
              "value": "2021-05-16"
            },
            {
              "name": "active_10",
              "value": "2021-05-15"
            },
            {
              "name": "active_5",
              "value": "2021-05-14"
            },
            {
              "name": "active_1",
              "value": "2021-05-13"
            }
          ],
          "lead_id": "lead_active_15"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_25"
            },
            {
              "name": "active_25",
              "value": "2021-05-16"
            },
            {
              "name": "active_15",
              "value": "2021-05-15"
            },
            {
              "name": "active_10",
              "value": "2021-05-14"
            },
            {
              "name": "active_5",
              "value": "2021-05-13"
            },
            {
              "name": "active_1",
              "value": "2021-05-12"
            }
          ],
          "lead_id": "lead_active_25"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_50"
            },
            {
              "name": "active_50",
              "value": "2021-05-16"
            },
            {
              "name": "active_25",
              "value": "2021-05-15"
            },
            {
              "name": "active_15",
              "value": "2021-05-14"
            },
            {
              "name": "active_10",
              "value": "2021-05-13"
            },
            {
              "name": "active_5",
              "value": "2021-05-12"
            },
            {
              "name": "active_1",
              "value": "2021-05-11"
            }
          ],
          "lead_id": "lead_active_50"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_100"
            },
            {
              "name": "active_100",
              "value": "2021-05-16"
            },
            {
              "name": "active_50",
              "value": "2021-05-15"
            },
            {
              "name": "active_25",
              "value": "2021-05-14"
            },
            {
              "name": "active_15",
              "value": "2021-05-13"
            },
            {
              "name": "active_10",
              "value": "2021-05-12"
            },
            {
              "name": "active_5",
              "value": "2021-05-11"
            },
            {
              "name": "active_1",
              "value": "2021-05-10"
            }
          ],
          "lead_id": "lead_active_100"
        }
      ]
    },
    "params": {
      "activator_check": "waiting",
      "customer": "active_customer"
    }
  },
  "all_extra_fields": {
    "code": 200,
    "consumer": "all_extra_fields_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0000"
            }
          ],
          "lead_id": "with_extra_fields_1"
        },
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0000"
            }
          ],
          "lead_id": "with_extra_fields_4"
        },
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0001"
            },
            {
              "name": "extra_field_1",
              "value": "value"
            }
          ],
          "lead_id": "with_extra_fields_2"
        },
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0002"
            },
            {
              "name": "extra_field_1",
              "value": "value"
            },
            {
              "name": "extra_field_2",
              "value": 123
            },
            {
              "name": "extra_field_3",
              "value": [
                "a",
                "b"
              ]
            }
          ],
          "lead_id": "with_extra_fields_3"
        }
      ]
    },
    "params": {
      "lead_ids": [
        "with_extra_fields_1",
        "with_extra_fields_2",
        "with_extra_fields_3",
        "with_extra_fields_4"
      ]
    }
  },
  "by_customer": {
    "code": 200,
    "consumer": "by_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0002"
            },
            {
              "name": "channel",
              "value": "DIORD"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "customer",
              "value": "test_customer"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": true
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "Park Condition Id"
            },
            {
              "name": "personal_license_id",
              "value": "84e68ba6534e49e2893151194a8b909c"
            },
            {
              "name": "personal_phone_id",
              "value": "c6f13636554a492cb284e2b40c6fc0fb"
            },
            {
              "name": "profile_id",
              "value": "profile_b0764865a41c9e4a18e45aa5"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Москва"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_courier"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            }
          ],
          "lead_id": "akjhsdf125"
        },
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "customer",
              "value": "test_customer"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "last_active_date",
              "value": "2020-01-10"
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "7b9752f7631f48198f49ed05c32"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "Авто244"
            },
            {
              "name": "park_phone",
              "value": "79675601285"
            }
          ],
          "lead_id": "akjhsdf123"
        },
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0001"
            },
            {
              "name": "channel",
              "value": "DIOR"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "customer",
              "value": "test_customer"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": true
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "9jf03fk23024499359uijfvmsps"
            },
            {
              "name": "personal_license_id",
              "value": "84e68ba6534e49e2893151194a8b909b"
            },
            {
              "name": "personal_phone_id",
              "value": "c6f13636554a492cb284e2b40c6fc0bb"
            },
            {
              "name": "profile_id",
              "value": "profile_b0764865a41c9e4a18e45aa9"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Москва"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "РофлАвто"
            },
            {
              "name": "park_phone",
              "value": "79675743225"
            }
          ],
          "lead_id": "akjhsdf124"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32",
      "9jf03fk23024499359uijfvmsps",
      "Park Condition Id"
    ],
    "expected_region_ids": [
      "213",
      "2"
    ],
    "params": {
      "customer": "test_customer"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        },
        {
          "city_rus": "Москва",
          "region_id": "2",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "by_status": {
    "code": 200,
    "consumer": "test_customer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "status",
              "value": "active_10"
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            }
          ],
          "lead_id": "akjhsdf123"
        },
        {
          "fields": [
            {
              "name": "status",
              "value": "some_stat2"
            },
            {
              "name": "target_city",
              "value": "Москва"
            }
          ],
          "lead_id": "akjhsdf124"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32",
      "9jf03fk23024499359uijfvmsps"
    ],
    "expected_region_ids": [
      "213",
      "2"
    ],
    "params": {
      "customer": "test_customer",
      "statuses": [
        "some_stat1",
        "some_stat2"
      ]
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        },
        {
          "city_rus": "Москва",
          "region_id": "2",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "date_lte_ok": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "last_active_date",
              "value": "2020-01-10"
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "7b9752f7631f48198f49ed05c32"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "Авто244"
            },
            {
              "name": "park_phone",
              "value": "79675601285"
            }
          ],
          "lead_id": "akjhsdf123"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32"
    ],
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "channel": "CHANNEL",
      "lead_created_at_lte": "2020-09-14T13:00:00",
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "default": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "last_active_date",
              "value": "2020-01-10"
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "7b9752f7631f48198f49ed05c32"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "Авто244"
            },
            {
              "name": "park_phone",
              "value": "79675601285"
            }
          ],
          "lead_id": "akjhsdf123"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32"
    ],
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "channel": "CHANNEL",
      "lead_ids": [
        "akjhsdf123"
      ],
      "personal_user_login_creator_id_in": [
        "4dab92b509e74ab793ef24404d218c3b"
      ],
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "default_2": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0001"
            },
            {
              "name": "channel",
              "value": "DIOR"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": true
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "9jf03fk23024499359uijfvmsps"
            },
            {
              "name": "personal_license_id",
              "value": "84e68ba6534e49e2893151194a8b909b"
            },
            {
              "name": "personal_phone_id",
              "value": "c6f13636554a492cb284e2b40c6fc0bb"
            },
            {
              "name": "profile_id",
              "value": "profile_b0764865a41c9e4a18e45aa9"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Москва"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "РофлАвто"
            },
            {
              "name": "park_phone",
              "value": "79675743225"
            }
          ],
          "lead_id": "akjhsdf124"
        }
      ]
    },
    "expected_park_condition_ids": [
      "9jf03fk23024499359uijfvmsps"
    ],
    "expected_region_ids": [
      "2"
    ],
    "params": {
      "channel": "DIOR",
      "lead_ids": [
        "akjhsdf124"
      ],
      "personal_user_login_creator_id_in": [
        "d4ba92b509e74ab793ef24404d218c3b"
      ],
      "source_park_db_id": "test_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Москва",
          "region_id": "2",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "empty_date_lte_fail": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            }
          ],
          "lead_id": "akjhsdf123"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32"
    ],
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "channel": "CHANNEL",
      "lead_created_at_lte": "2020-09-14T12:59:59",
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "external_id": {
    "code": 200,
    "consumer": "external_id_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "lead_external_2"
        },
        {
          "fields": [],
          "lead_id": "lead_external_1"
        }
      ]
    },
    "params": {
      "customer": "external_id_consumer",
      "external_ids": [
        "some_id",
        "other_id"
      ]
    }
  },
  "fallback_default_settings": {
    "code": 200,
    "consumer": "test_consumer_404",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "akjhsdf123"
        },
        {
          "fields": [],
          "lead_id": "akjhsdf124"
        },
        {
          "fields": [],
          "lead_id": "akjhsdf125"
        }
      ]
    },
    "params": {
      "service": "taxi"
    }
  },
  "full": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "last_active_date",
              "value": "2020-01-10"
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "7b9752f7631f48198f49ed05c32"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "Авто244"
            },
            {
              "name": "park_phone",
              "value": "79675601285"
            }
          ],
          "lead_id": "akjhsdf123"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32"
    ],
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "activation_city": "Activation City",
      "activation_park_db_id": "Activation Park ID",
      "channel": "CHANNEL",
      "customer": "test_customer",
      "date_of_birth": "1998-02-02T00:00:00.000000",
      "employment_type": "Employment Type",
      "is_rent": false,
      "lead_created_at_gt": "2020-09-14T12:59:59",
      "lead_created_at_lte": "2020-09-14T13:00:01",
      "personal_license_id": "37b48d6efd784ba4acc8ad33fc0bf218",
      "personal_phone_id": "ab5d889aab6d448091766a7649c604ce",
      "personal_user_login_creator_id_in": [
        "4dab92b509e74ab793ef24404d218c3b"
      ],
      "service": "taxi",
      "source_park_db_id": "test_source_park_db_id",
      "target_city": "Park City",
      "target_park_db_id": "Park ID",
      "tariff": "Tariff",
      "vacancy": "test_vacancy"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "list_of_values": {
    "code": 200,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "account_created_at",
              "value": "2020-09-13T13:00:00"
            },
            {
              "name": "account_id",
              "value": "test_acc"
            },
            {
              "name": "activation_city",
              "value": "Activation City"
            },
            {
              "name": "activation_park_db_id",
              "value": "Activation Park ID"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "channel",
              "value": "CHANNEL"
            },
            {
              "name": "lead_created_at",
              "value": "2020-09-14T13:00:00"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "is_rent",
              "value": false
            },
            {
              "name": "last_active_date",
              "value": "2020-01-10"
            },
            {
              "name": "license_country",
              "value": "RUS"
            },
            {
              "name": "park_condition_id",
              "value": "7b9752f7631f48198f49ed05c32"
            },
            {
              "name": "personal_license_id",
              "value": "37b48d6efd784ba4acc8ad33fc0bf218"
            },
            {
              "name": "personal_phone_id",
              "value": "ab5d889aab6d448091766a7649c604ce"
            },
            {
              "name": "profile_id",
              "value": "profile_51b15ffeb0764865a41c9e4a"
            },
            {
              "name": "service",
              "value": "taxi"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "updated_ts",
              "value": {
                "$match": "any-string"
              }
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "target_park_db_id",
              "value": "Park ID"
            },
            {
              "name": "tariff",
              "value": "Tariff"
            },
            {
              "name": "vacancy",
              "value": "test_vacancy"
            },
            {
              "name": "workflow_type",
              "value": "Driver"
            },
            {
              "name": "park_name",
              "value": "Авто244"
            },
            {
              "name": "park_phone",
              "value": "79675601285"
            }
          ],
          "lead_id": "akjhsdf123"
        }
      ]
    },
    "expected_park_condition_ids": [
      "7b9752f7631f48198f49ed05c32"
    ],
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "channel": "CHANNEL",
      "customer": "test_customer",
      "is_rent": false,
      "lead_created_at_gt": "2020-09-14T12:59:59",
      "lead_created_at_lte": "2020-09-14T13:00:01",
      "personal_user_login_creator_id_in": [
        "4dab92b509e74ab793ef24404d218c3b"
      ],
      "service": "taxi",
      "source_park_db_id": "test_source_park_db_id",
      "vacancies": [
        "test_vacancy",
        "test_courier"
      ]
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "one_extra_field": {
    "code": 200,
    "consumer": "one_extra_field_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0000"
            }
          ],
          "lead_id": "with_extra_fields_1"
        },
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0001"
            },
            {
              "name": "extra_field_1",
              "value": "value"
            }
          ],
          "lead_id": "with_extra_fields_2"
        },
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0002"
            },
            {
              "name": "extra_field_1",
              "value": "value"
            }
          ],
          "lead_id": "with_extra_fields_3"
        }
      ]
    },
    "params": {
      "lead_ids": [
        "with_extra_fields_1",
        "with_extra_fields_2",
        "with_extra_fields_3"
      ]
    }
  },
  "pagination_1": {
    "code": 200,
    "consumer": "paginator",
    "expected_body": {
      "is_bounded_by_limit": true,
      "leads": [
        {
          "fields": [],
          "lead_id": "paginations_6"
        },
        {
          "fields": [],
          "lead_id": "paginations_5"
        },
        {
          "fields": [],
          "lead_id": "paginations_4"
        }
      ]
    },
    "params": {
      "customer": "paginator",
      "limit": 3,
      "offset": 0
    }
  },
  "pagination_2": {
    "code": 200,
    "consumer": "paginator",
    "expected_body": {
      "is_bounded_by_limit": true,
      "leads": [
        {
          "fields": [],
          "lead_id": "paginations_4"
        },
        {
          "fields": [],
          "lead_id": "paginations_3"
        }
      ]
    },
    "params": {
      "customer": "paginator",
      "limit": 2,
      "offset": 2
    }
  },
  "pagination_3": {
    "code": 200,
    "consumer": "paginator",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "paginations_1"
        }
      ]
    },
    "params": {
      "customer": "paginator",
      "limit": 2,
      "offset": 5
    }
  },
  "status": {
    "code": 200,
    "consumer": "status_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "status",
              "value": "test_status_1"
            }
          ],
          "lead_id": "status_lead_id_1"
        },
        {
          "fields": [
            {
              "name": "status",
              "value": "test_status_2"
            }
          ],
          "lead_id": "status_lead_id_2"
        }
      ]
    },
    "params": {
      "customer": "status_customer",
      "statuses": [
        "test_status_1",
        "test_status_2"
      ]
    }
  },
  "translate_default_ru": {
    "code": 200,
    "consumer": "translate_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "asset_color",
              "value": "Чёрный"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "employment_type",
              "value": "Тип занятости"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "status",
              "value": "Активен 5"
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            },
            {
              "name": "tariff",
              "value": "Комфорт"
            }
          ],
          "lead_id": "lead_translate"
        }
      ]
    },
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "lead_ids": [
        "lead_translate"
      ],
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_eng": "Saint-Petersburg",
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "translate_empty_fields": {
    "code": 200,
    "consumer": "translate_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "employment_type",
              "value": "Тип занятости"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "target_city",
              "value": "Санкт-Петербург"
            }
          ],
          "lead_id": "lead_empty_fields"
        }
      ]
    },
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "lead_ids": [
        "lead_empty_fields"
      ],
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_eng": "Saint-Petersburg",
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "translate_not_full_en": {
    "code": 200,
    "consumer": "translate_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "asset_color",
              "value": "Black"
            },
            {
              "name": "candidate_id",
              "value": "0000"
            },
            {
              "name": "employment_type",
              "value": "Employment Type"
            },
            {
              "name": "source_park_db_id",
              "value": "test_source_park_db_id"
            },
            {
              "name": "status",
              "value": "active_5"
            },
            {
              "name": "target_city",
              "value": "Saint-Petersburg"
            },
            {
              "name": "tariff",
              "value": "Comfort"
            }
          ],
          "lead_id": "lead_translate"
        }
      ]
    },
    "expected_region_ids": [
      "213"
    ],
    "params": {
      "lead_ids": [
        "lead_translate"
      ],
      "locale": "en",
      "source_park_db_id": "test_source_park_db_id"
    },
    "territories_response": {
      "errors": [],
      "results": [
        {
          "city_eng": "Saint-Petersburg",
          "city_rus": "Санкт-Петербург",
          "region_id": "213",
          "sf_id": "sf_id",
          "sf_name": "sf_name"
        }
      ]
    }
  },
  "user_by_cities": {
    "code": 200,
    "consumer": "by_city_and_tariff",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "by_city_and_tariff_moscow_comfort"
        },
        {
          "fields": [],
          "lead_id": "by_city_samara"
        },
        {
          "fields": [],
          "lead_id": "by_city_moscow"
        }
      ]
    },
    "params": {
      "customer": "by_city_and_tariff",
      "lead_created_at_gt": "2021-05-12T12:00:00",
      "target_cities": [
        "Москва",
        "Самара"
      ]
    }
  },
  "user_by_cities_and_tariffs": {
    "code": 200,
    "consumer": "by_city_and_tariff",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "by_city_and_tariff_kazan_comfort+"
        },
        {
          "fields": [],
          "lead_id": "by_city_and_tariff_moscow_comfort"
        }
      ]
    },
    "params": {
      "customer": "by_city_and_tariff",
      "lead_created_at_gt": "2021-05-12T12:00:00",
      "target_cities": [
        "Москва",
        "Казань",
        "Самара"
      ],
      "tariffs": [
        "Economy",
        "Comfort",
        "Comfort+"
      ]
    }
  },
  "user_by_date_active": {
    "code": 200,
    "consumer": "active_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_5"
            },
            {
              "name": "active_5",
              "value": "2021-05-16"
            },
            {
              "name": "active_1",
              "value": "2021-05-15"
            }
          ],
          "lead_id": "lead_active_5"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_10"
            },
            {
              "name": "active_10",
              "value": "2021-05-16"
            },
            {
              "name": "active_5",
              "value": "2021-05-15"
            },
            {
              "name": "active_1",
              "value": "2021-05-14"
            }
          ],
          "lead_id": "lead_active_10"
        },
        {
          "fields": [
            {
              "name": "last_active_date",
              "value": "2021-05-16"
            },
            {
              "name": "status_active",
              "value": "active_15"
            },
            {
              "name": "active_15",
              "value": "2021-05-16"
            },
            {
              "name": "active_10",
              "value": "2021-05-15"
            },
            {
              "name": "active_5",
              "value": "2021-05-14"
            },
            {
              "name": "active_1",
              "value": "2021-05-13"
            }
          ],
          "lead_id": "lead_active_15"
        }
      ]
    },
    "params": {
      "customer": "active_customer",
      "date_active_1_gt": "2021-05-12",
      "date_active_1_lte": "2021-05-16",
      "lead_created_at_gt": "2021-05-12T12:00:00",
      "lead_created_at_lte": "2021-05-15T12:00:00"
    }
  },
  "user_by_employment_types": {
    "code": 200,
    "consumer": "employment_customer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [
            {
              "name": "employment_type",
              "value": "SomeOtherType"
            }
          ],
          "lead_id": "lead_employment_some_other_type"
        },
        {
          "fields": [
            {
              "name": "employment_type",
              "value": "SomeType"
            }
          ],
          "lead_id": "lead_employment_some_type"
        }
      ]
    },
    "params": {
      "customer": "employment_customer",
      "employment_types": [
        "SomeType",
        "SomeOtherType"
      ],
      "lead_created_at_gt": "2021-05-12T12:00:00"
    }
  },
  "user_by_source_park_db_ids": {
    "code": 200,
    "consumer": "by_source_park_db_id",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "by_source_park_db_id_3"
        },
        {
          "fields": [],
          "lead_id": "by_source_park_db_id_2"
        },
        {
          "fields": [],
          "lead_id": "by_source_park_db_id_1"
        }
      ]
    },
    "params": {
      "customer": "by_source_park_db_id",
      "lead_created_at_gt": "2021-05-12T12:00:00",
      "source_park_db_ids": [
        "DB_ID1",
        "DB_ID2"
      ]
    }
  },
  "user_by_tariffs": {
    "code": 200,
    "consumer": "by_city_and_tariff",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": [
        {
          "fields": [],
          "lead_id": "by_city_and_tariff_kazan_comfort+"
        },
        {
          "fields": [],
          "lead_id": "by_tariff_economy"
        }
      ]
    },
    "params": {
      "customer": "by_city_and_tariff",
      "lead_created_at_gt": "2021-05-12T12:00:00",
      "tariffs": [
        "Economy",
        "Comfort+"
      ]
    }
  },
  "wrong_params": {
    "code": 400,
    "consumer": "test_consumer",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": []
    },
    "params": {
      "batch_id": "some"
    }
  },
  "wrong_params_bad_consumer": {
    "code": 400,
    "consumer": "test_consumer_404",
    "expected_body": {
      "is_bounded_by_limit": false,
      "leads": []
    },
    "params": {
      "source_park_db_id": "some"
    }
  }
}
