[
  {
    "$blueprint:single_order_rule": {
      "identity": {
        "$identity": {
          "group_id": "",
          "id_": "extra_30_rubles_rule_id"
        }
      },
      "matcher": {
        "$moscow_rule_matcher": {
          "active_hours": [
            3
          ],
          "tags": [
            "some_tag"
          ]
        }
      }
    }
  },
  {
    "$blueprint:single_order_rule": {
      "agreement_ref": {
        "$agreement_ref": "subvention_agreement/1/default/_id/4_hour_rule_id"
      },
      "bonus_calculator": {
        "$steps_bonus_calculator": {
          "steps": [
            {
              "$single_step_extra_bonus_calculator": {
                "bonus_sum": {
                  "$money": "30 RUB"
                },
                "has_commission": true,
                "id": "4_hour_rule_id",
                "is_additive": false
              }
            }
          ]
        }
      },
      "identity": {
        "$identity": {
          "group_id": "",
          "id_": "4_hour_rule_id"
        }
      },
      "matcher": {
        "$moscow_rule_matcher": {
          "active_hours": [
            4
          ]
        }
      }
    }
  },
  {
    "$blueprint:single_order_rule": {
      "agreement_ref": {
        "$agreement_ref": "subvention_agreement/1/default/_id/guarantee_200_rubles_rule_id"
      },
      "bonus_calculator": {
        "$steps_bonus_calculator": {
          "steps": [
            {
              "$single_step_guarantee_bonus_calculator": {
                "guarantee_sum": {
                  "$money": "200 RUB"
                },
                "has_commission": true,
                "id": "guarantee_200_rubles_rule_id",
                "is_additive": false
              }
            }
          ]
        }
      },
      "identity": {
        "$identity": {
          "group_id": "",
          "id_": "guarantee_200_rubles_rule_id"
        }
      }
    }
  },
  {
    "$blueprint:goal_rule": {}
  },
  {
    "$blueprint:single_order_goal_rule": {}
  },
  {
    "$blueprint:daily_guarantee_rule": {}
  },
  {
    "$geo_booking_rule": {
      "data": {
        "$geo_booking_rule_data": {
          "agreement_ref": {
            "$agreement_ref": "subvention_agreement/1/default/_id/geo_booking_id"
          },
          "budget": {
            "$budget": {
              "id": "geo_booking_budget_id"
            }
          },
          "geoarea": "moscow",
          "has_commission": false,
          "min_online_minutes": 30,
          "pay_currency": "RUB",
          "profile_payment_type_restrictions": {
            "$profile_payment_type_rule": "any"
          },
          "rate_free_per_minute": {
            "$decimal": "15.0"
          },
          "rate_on_order_per_minute": {
            "$decimal": "5.5"
          },
          "rule_type": {
            "$payment_type": "add"
          },
          "status": {
            "$rule_status": "approved"
          },
          "workshift": {
            "$geo_booking_workshift": {
              "end": "15:30",
              "start": "14:00"
            }
          }
        }
      },
      "identity": {
        "$identity": {
          "group_id": "some_group_id",
          "id_": "geo_booking_id"
        }
      },
      "matcher": {
        "$moscow_rule_matcher": {
          "activity_points": 80,
          "end": {
            "$datetime": "2018-05-12T00:00:00+00:00"
          },
          "geoareas": [
            "moscow"
          ],
          "original_start": {
            "$datetime": "2018-05-08T00:00:00+00:00"
          },
          "start": {
            "$datetime": "2018-05-08T00:00:00+00:00"
          }
        }
      }
    }
  }
]
