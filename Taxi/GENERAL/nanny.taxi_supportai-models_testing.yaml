# This file is generated automatically, do not edit it by hand!
group:
    type: rtc
    name: taxi_supportai-models_testing
graphs:
    supportai-models.taxi.tst.yandex.net: # All handlers for host.
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/model_info_by_slugs_versions_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Get model info by their slugs and versions 
              - Equals: {request_url: "/internal/supportai-models/v1/model_info_by_slugs_versions"}
              - Equals: {request_url: "/internal/supportai-models/v1/model_info_by_slugs_versions/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/model_info_by_slugs_versions?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/model_info_by_slugs_versions/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/models/data_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get model test data
              - Equals: {request_url: "/internal/supportai-models/v1/models/data"}
              - Equals: {request_url: "/internal/supportai-models/v1/models/data/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models/data?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models/data/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/models/topics_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get model_topics for model
              - Equals: {request_url: "/internal/supportai-models/v1/models/topics"}
              - Equals: {request_url: "/internal/supportai-models/v1/models/topics/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models/topics?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models/topics/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/models_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get all active models
              - Equals: {request_url: "/internal/supportai-models/v1/models"}
              - Equals: {request_url: "/internal/supportai-models/v1/models/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/models/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/ping_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # No description provided.
              - Equals: {request_url: "/internal/supportai-models/v1/ping"}
              - Equals: {request_url: "/internal/supportai-models/v1/ping/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/ping?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/ping/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/shard_id_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get shard_id by model_id
              - Equals: {request_url: "/internal/supportai-models/v1/shard_id"}
              - Equals: {request_url: "/internal/supportai-models/v1/shard_id/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/shard_id?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/shard_id/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/text_embed/bulk_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Apply text embedding model by id bulk
              - Equals: {request_url: "/internal/supportai-models/v1/text_embed/bulk"}
              - Equals: {request_url: "/internal/supportai-models/v1/text_embed/bulk/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/text_embed/bulk?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/text_embed/bulk/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v1/worker_id_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get worker_id by model_id
              - Equals: {request_url: "/internal/supportai-models/v1/worker_id"}
              - Equals: {request_url: "/internal/supportai-models/v1/worker_id/"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/worker_id?"}
              - StartsWith: {request_url: "/internal/supportai-models/v1/worker_id/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/internal/supportai-models/v2/apply_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Apply model to text data
              - StartsWith: {request_url: "/internal/supportai-models/v2/apply/"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # NotFound
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/ping_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # ping
              - Equals: {request_url: "/ping"}
              - Equals: {request_url: "/ping/"}
              - StartsWith: {request_url: "/ping?"}
              - StartsWith: {request_url: "/ping/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/models_DELETE:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "DELETE"}
          - Or: # Delete a model
              - StartsWith: {request_url: "/v1/models/"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/models_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get all models
              - Equals: {request_url: "/v1/models"}
              - Equals: {request_url: "/v1/models/"}
              - StartsWith: {request_url: "/v1/models?"}
              - StartsWith: {request_url: "/v1/models/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/models_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Create model
              - Equals: {request_url: "/v1/models"}
              - Equals: {request_url: "/v1/models/"}
              - StartsWith: {request_url: "/v1/models?"}
              - StartsWith: {request_url: "/v1/models/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/slots/free_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get free slots
              - Equals: {request_url: "/v1/slots/free"}
              - Equals: {request_url: "/v1/slots/free/"}
              - StartsWith: {request_url: "/v1/slots/free?"}
              - StartsWith: {request_url: "/v1/slots/free/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/slots/lock_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Lock a slot
              - Equals: {request_url: "/v1/slots/lock"}
              - Equals: {request_url: "/v1/slots/lock/"}
              - StartsWith: {request_url: "/v1/slots/lock?"}
              - StartsWith: {request_url: "/v1/slots/lock/?"}
        Options:
            CustomHttp:
              - 400 # Can not lock slot
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/slots_GET:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Get slots
              - Equals: {request_url: "/v1/slots"}
              - Equals: {request_url: "/v1/slots/"}
              - StartsWith: {request_url: "/v1/slots?"}
              - StartsWith: {request_url: "/v1/slots/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    supportai-models.taxi.tst.yandex.net/v1/slots_POST:
        And:
          - Equals: {http_host: "supportai-models.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Unlock a slot
              - StartsWith: {request_url: "/v1/slots/"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

