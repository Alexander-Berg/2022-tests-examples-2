group:
  type: rtc
  name: lavka_wms_testing

graphs:
  Monitoring:
    vhost-500:
      Blacklist:
        - Equals: { request_url: "/ping" }

  wms.taxi.tst.yandex.net:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Not: [ StartsWith: { request_url: "/ping" } ]
    Options:
      CustomHttp:
        - 401 # Unauthorized
        - 403 # Forbidden
        - 406 # Not acceptable
        - 409 # Conflict
        - 410 # Gone
        - 429 # Too many requests

  wms.taxi.tst.yandex.net/__ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - StartsWith: { request_url: "/ping" }
    Options:
      CustomHttp:
        - 401 # Unauthorized
        - 403 # Forbidden
        - 406 # Not acceptable
        - 409 # Conflict
        - 410 # Gone
        - 429 # Too many requests

  wms.taxi.tst.yandex.net/api/external/assortments/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/assortments/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/assortments/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/assortments/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/assortments/v1/products_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/assortments/v1/products/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/clusters/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/clusters/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/clusters/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/clusters/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/companies/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/companies/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/companies/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/companies/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/activity_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/activity/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/cancel_next_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/cancel_next/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/info_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/info/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/pause_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/pause/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/reschedule_next_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/reschedule_next/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/stop_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/stop/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/support_info_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/support_info/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/unpause_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/unpause/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts/v1/updates_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/courier_shifts/v1/updates/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts_v2/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/courier_shifts_v2/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/courier_shifts_v2/updates_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/courier_shifts_v2/updates/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/couriers/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/couriers/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/couriers/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/couriers/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/couriers/v1/state_by_phone_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/couriers/v1/state_by_phone/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/items/v1/available_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/items/v1/available/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/items/v1/create_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/items/v1/create/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 423 # Locked
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/items/v1/load_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/items/v1/load/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/items/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/items/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/items/v1/update_barcode_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/items/v1/update_barcode/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/acceptance_items/create_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/acceptance_items/create/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/assembled-products_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/assembled-products/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/create_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/create/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/demand_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/demand/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/get_status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/get_status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/load_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/load/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/orders/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/set_courier_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/set_courier/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/set_eda_status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/set_eda_status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/set_pause_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/set_pause/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/snapshot_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/snapshot/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/orders/v1/update-data_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/orders/v1/update-data/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 410 # Gone
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/price_lists/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/price_lists/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/price_lists/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/price_lists/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/price_lists/v1/products_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/price_lists/v1/products/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/products/v1/groups_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/products/v1/groups/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/products/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/products/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/products/v1/products_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/products/v1/products/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/products/v1/stocks_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/products/v1/stocks/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stocks/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stocks/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stocks/v1/log_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stocks/v1/log/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stocks/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/stocks/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stores/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stores/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stores/v1/load_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stores/v1/load/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stores/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/stores/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stores/v1/set_messages_count_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stores/v1/set_messages_count/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/stores/v1/stocks_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/stores/v1/stocks/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/users/v1/create_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/users/v1/create/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 424 # Failed Dependency
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/users/v1/eject_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/users/v1/eject/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/users/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/users/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/users/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/users/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/users/v1/update_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/users/v1/update/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 424 # Failed Dependency
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/zones/v1/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/external/zones/v1/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/external/zones/v1/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/external/zones/v1/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/assortment_contractors/trigger_update_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/assortment_contractors/trigger_update/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/acceptance_closed_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/acceptance_closed/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/create_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/create/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/documents_status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/documents_status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/get_status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/get_status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/integration/orders/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/status_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/status/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/orders/update_order_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/orders/update_order/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 423 # Locked
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/revenues/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/revenues/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/true_marks/list_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/true_marks/list/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/true_marks/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/integration/true_marks/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/integration/true_marks/retire_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/integration/true_marks/retire/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/support/chat_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/support/chat/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 405 # Method not allowed
          - 406 # Not acceptable
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/support/chat_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/support/chat/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 405 # Method not allowed
          - 406 # Not acceptable
          - 409 # Conflict
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/support/get_doc_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/support/get_doc/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 424 # Failed Dependency
          - 429 # Too many requests
          - 499 # Client closed request
          - 500 # Internal server error

  wms.taxi.tst.yandex.net/api/support/get_object_s3_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/support/get_object_s3/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 424 # Failed Dependency
          - 429 # Too many requests
          - 499 # Client closed request
          - 500 # Internal server error

  wms.taxi.tst.yandex.net/api/support/ping_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - Regex: { request_url: "/api/support/ping/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/api/support/url_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - Regex: { request_url: "/api/support/url/?(\\?.*)?" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/4.0/support_chat_GET:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "GET" }
      - StartsWith: { request_url: "/4.0/support_chat" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request

  wms.taxi.tst.yandex.net/4.0/support_chat_POST:
    And:
      - Equals: { http_host: "wms.taxi.tst.yandex.net" }
      - Equals: { request_method: "POST" }
      - StartsWith: { request_url: "/4.0/support_chat" }
    Options:
        CustomHttp:
          - 400 # Bad request
          - 401 # Unauthorized
          - 403 # Forbidden
          - 404 # Not found
          - 429 # Too many requests
          - 499 # Client closed request
