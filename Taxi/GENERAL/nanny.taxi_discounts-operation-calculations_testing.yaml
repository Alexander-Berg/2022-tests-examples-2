# This file is generated automatically, do not edit it by hand!
group:
    type: rtc
    name: taxi_discounts-operation-calculations_testing
graphs:
    discounts-operation-calculations.taxi.tst.yandex.net: # All handlers for host.
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/example_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # example get by name
              - Equals: {request_url: "/example"}
              - Equals: {request_url: "/example/"}
              - StartsWith: {request_url: "/example?"}
              - StartsWith: {request_url: "/example/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/ping_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # ping
              - Equals: {request_url: "/ping"}
              - Equals: {request_url: "/ping/"}
              - StartsWith: {request_url: "/ping?"}
              - StartsWith: {request_url: "/ping/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/algorithms/configs/add_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # добавление нового конфига алгоритма
              - Equals: {request_url: "/v1/algorithms/configs/add"}
              - Equals: {request_url: "/v1/algorithms/configs/add/"}
              - StartsWith: {request_url: "/v1/algorithms/configs/add?"}
              - StartsWith: {request_url: "/v1/algorithms/configs/add/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/algorithms/configs/delete_DELETE:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "DELETE"}
          - Or: # удаление конфига алгоритма
              - Equals: {request_url: "/v1/algorithms/configs/delete"}
              - Equals: {request_url: "/v1/algorithms/configs/delete/"}
              - StartsWith: {request_url: "/v1/algorithms/configs/delete?"}
              - StartsWith: {request_url: "/v1/algorithms/configs/delete/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/algorithms/configs/edit_PUT:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "PUT"}
          - Or: # изменение конфига алгоритма
              - Equals: {request_url: "/v1/algorithms/configs/edit"}
              - Equals: {request_url: "/v1/algorithms/configs/edit/"}
              - StartsWith: {request_url: "/v1/algorithms/configs/edit?"}
              - StartsWith: {request_url: "/v1/algorithms/configs/edit/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/algorithms/configs_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение всех конфигов алгоритмов
              - Equals: {request_url: "/v1/algorithms/configs"}
              - Equals: {request_url: "/v1/algorithms/configs/"}
              - StartsWith: {request_url: "/v1/algorithms/configs?"}
              - StartsWith: {request_url: "/v1/algorithms/configs/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/algorithms_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение всех доступных пользователю алгоритмов рассчета саджеста скидок
              - Equals: {request_url: "/v1/algorithms"}
              - Equals: {request_url: "/v1/algorithms/"}
              - StartsWith: {request_url: "/v1/algorithms?"}
              - StartsWith: {request_url: "/v1/algorithms/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/cities_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение всех доступных пользователю городов и соответствия тарифных зон
              - Equals: {request_url: "/v1/cities"}
              - Equals: {request_url: "/v1/cities/"}
              - StartsWith: {request_url: "/v1/cities?"}
              - StartsWith: {request_url: "/v1/cities/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/last_active_suggest_id_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение id последнего активного саджеста в городе
              - Equals: {request_url: "/v1/last_active_suggest_id"}
              - Equals: {request_url: "/v1/last_active_suggest_id/"}
              - StartsWith: {request_url: "/v1/last_active_suggest_id?"}
              - StartsWith: {request_url: "/v1/last_active_suggest_id/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/multidraft/tasks_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получение статуса мультидрафтовой таски
              - StartsWith: {request_url: "/v1/multidraft/tasks/"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Task not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/pushes_texts_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение всевозможных текстов пуш уведомлений для алгоритма
              - Equals: {request_url: "/v1/pushes_texts"}
              - Equals: {request_url: "/v1/pushes_texts/"}
              - StartsWith: {request_url: "/v1/pushes_texts?"}
              - StartsWith: {request_url: "/v1/pushes_texts/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/statistics_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # получение статистики по работе алгоритма для определения бюджета
              - Equals: {request_url: "/v1/statistics"}
              - Equals: {request_url: "/v1/statistics/"}
              - StartsWith: {request_url: "/v1/statistics?"}
              - StartsWith: {request_url: "/v1/statistics/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/suggest_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение детальной информации по саджесту
              - Equals: {request_url: "/v1/suggest"}
              - Equals: {request_url: "/v1/suggest/"}
              - StartsWith: {request_url: "/v1/suggest?"}
              - StartsWith: {request_url: "/v1/suggest/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/suggests/active_discounts_statistics_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Выдает статистику по количеству городов, в которых скидка включена и выключена (агрегированную и по каждому городу)
              - Equals: {request_url: "/v1/suggests/active_discounts_statistics"}
              - Equals: {request_url: "/v1/suggests/active_discounts_statistics/"}
              - StartsWith: {request_url: "/v1/suggests/active_discounts_statistics?"}
              - StartsWith: {request_url: "/v1/suggests/active_discounts_statistics/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/suggests_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # получение списка драфтов скидок
              - Equals: {request_url: "/v1/suggests"}
              - Equals: {request_url: "/v1/suggests/"}
              - StartsWith: {request_url: "/v1/suggests?"}
              - StartsWith: {request_url: "/v1/suggests/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v1/suggests_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # получение саджеста скидок и сохранение статистики на основе которой саджест был рассчитан
              - Equals: {request_url: "/v1/suggests"}
              - Equals: {request_url: "/v1/suggests/"}
              - StartsWith: {request_url: "/v1/suggests?"}
              - StartsWith: {request_url: "/v1/suggests/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/statistics/calc_budget_statistics_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Правильная ручка по расчёту и сохранению статистик бюджета с чисткой полей по флоу ниже
              - Equals: {request_url: "/v2/statistics/calc_budget_statistics"}
              - Equals: {request_url: "/v2/statistics/calc_budget_statistics/"}
              - StartsWith: {request_url: "/v2/statistics/calc_budget_statistics?"}
              - StartsWith: {request_url: "/v2/statistics/calc_budget_statistics/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/statistics/calc_segment_stats_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Запускает рассчёт segment_stats
              - Equals: {request_url: "/v2/statistics/calc_segment_stats"}
              - Equals: {request_url: "/v2/statistics/calc_segment_stats/"}
              - StartsWith: {request_url: "/v2/statistics/calc_segment_stats?"}
              - StartsWith: {request_url: "/v2/statistics/calc_segment_stats/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/statistics_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Новое получение статистики по работе алгоритма для определения бюджета
              - Equals: {request_url: "/v2/statistics"}
              - Equals: {request_url: "/v2/statistics/"}
              - StartsWith: {request_url: "/v2/statistics?"}
              - StartsWith: {request_url: "/v2/statistics/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/calc_discounts_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Рассчёт графиков скидок на основе саджеста и бюджета
              - Equals: {request_url: "/v2/suggests/calc_discounts"}
              - Equals: {request_url: "/v2/suggests/calc_discounts/"}
              - StartsWith: {request_url: "/v2/suggests/calc_discounts?"}
              - StartsWith: {request_url: "/v2/suggests/calc_discounts/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/companies_list_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Выдает список компаний
              - Equals: {request_url: "/v2/suggests/companies_list"}
              - Equals: {request_url: "/v2/suggests/companies_list/"}
              - StartsWith: {request_url: "/v2/suggests/companies_list?"}
              - StartsWith: {request_url: "/v2/suggests/companies_list/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/publish_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # асинхронное заведение мультидрафта по id посчитанного саджеста
              - Equals: {request_url: "/v2/suggests/publish"}
              - Equals: {request_url: "/v2/suggests/publish/"}
              - StartsWith: {request_url: "/v2/suggests/publish?"}
              - StartsWith: {request_url: "/v2/suggests/publish/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/recommended_budget_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Рассчитывает рекомендованный бюджет для саджеста по suggest_id и fixed_discounts
              - Equals: {request_url: "/v2/suggests/recommended_budget"}
              - Equals: {request_url: "/v2/suggests/recommended_budget/"}
              - StartsWith: {request_url: "/v2/suggests/recommended_budget?"}
              - StartsWith: {request_url: "/v2/suggests/recommended_budget/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/stop_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # заведение мультидрафта на остановку всех скидкок заведенных сервисом в городе
              - Equals: {request_url: "/v2/suggests/stop"}
              - Equals: {request_url: "/v2/suggests/stop/"}
              - StartsWith: {request_url: "/v2/suggests/stop?"}
              - StartsWith: {request_url: "/v2/suggests/stop/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests/v2/calc_discounts_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Рассчёт графиков скидок на основе посчитанных статистик по сегментам, бюджету и других ограничений
              - Equals: {request_url: "/v2/suggests/v2/calc_discounts"}
              - Equals: {request_url: "/v2/suggests/v2/calc_discounts/"}
              - StartsWith: {request_url: "/v2/suggests/v2/calc_discounts?"}
              - StartsWith: {request_url: "/v2/suggests/v2/calc_discounts/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests_GET:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Выдаёт статус саджеста с подробной информацией
              - StartsWith: {request_url: "/v2/suggests/"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Suggest not found
              - 429 # Too many requests

    discounts-operation-calculations.taxi.tst.yandex.net/v2/suggests_POST:
        And:
          - Equals: {http_host: "discounts-operation-calculations.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # меняет метрику для оптимизации скидок
              - StartsWith: {request_url: "/v2/suggests/"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

