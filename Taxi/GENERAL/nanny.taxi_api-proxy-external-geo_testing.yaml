# This file is generated automatically, do not edit it by hand!
# generated by api-proxy-config: make generate-dorblu
group:
    type: rtc
    name: taxi_api-proxy-external-geo_testing

graphs:

    Monitoring:
        vhost-500:
            Blacklist:
              - Equals: {request_url: "/ping"}

    api-proxy-external-geo.taxi.tst.yandex.net:
        Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
        Options:
            CustomHttp:
              - 401
              - 403
              - 406
              - 409
              - 410
              - 429
              - 503


    "api-proxy-external-geo/google-distancematrix-proxy  (/google/maps/api/distancematrix/json)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-distancematrix-proxy" }
              - Equals: { request_url: "/google/maps/api/distancematrix/json" }
              - Equals: { request_url: "/google/maps/api/distancematrix/json/" }
              - StartsWith: { request_url: "/google/maps/api/distancematrix/json?" }
              - StartsWith: { request_url: "/google/maps/api/distancematrix/json/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/google-geocoder-proxy  (/google/maps/api/geocode/json)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-geocoder-proxy" }
              - Equals: { request_url: "/google/maps/api/geocode/json" }
              - Equals: { request_url: "/google/maps/api/geocode/json/" }
              - StartsWith: { request_url: "/google/maps/api/geocode/json?" }
              - StartsWith: { request_url: "/google/maps/api/geocode/json/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/google-geosuggest-proxy  (/google/maps/api/place/textsearch/json)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-geosuggest-proxy" }
              - Equals: { request_url: "/google/maps/api/place/textsearch/json" }
              - Equals: { request_url: "/google/maps/api/place/textsearch/json/" }
              - StartsWith: { request_url: "/google/maps/api/place/textsearch/json?" }
              - StartsWith: { request_url: "/google/maps/api/place/textsearch/json/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/google-placesearch-proxy  (/google/maps/api/place/details/json)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-placesearch-proxy" }
              - Equals: { request_url: "/google/maps/api/place/details/json" }
              - Equals: { request_url: "/google/maps/api/place/details/json/" }
              - StartsWith: { request_url: "/google/maps/api/place/details/json?" }
              - StartsWith: { request_url: "/google/maps/api/place/details/json/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/google-router-proxy  (/google/maps/api/directions/json)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-router-proxy" }
              - Equals: { request_url: "/google/maps/api/directions/json" }
              - Equals: { request_url: "/google/maps/api/directions/json/" }
              - StartsWith: { request_url: "/google/maps/api/directions/json?" }
              - StartsWith: { request_url: "/google/maps/api/directions/json/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/google-suggest-geo-proxy  (/google/suggest-geo)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "google-suggest-geo-proxy" }
              - Equals: { request_url: "/google/suggest-geo" }
              - Equals: { request_url: "/google/suggest-geo/" }
              - StartsWith: { request_url: "/google/suggest-geo?" }
              - StartsWith: { request_url: "/google/suggest-geo/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/mapbox-geocoder-proxy  (/mapbox/geocode)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "mapbox-geocoder-proxy" }
              - Equals: { request_url: "/mapbox/geocode" }
              - Equals: { request_url: "/mapbox/geocode/" }
              - StartsWith: { request_url: "/mapbox/geocode?" }
              - StartsWith: { request_url: "/mapbox/geocode/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

    "api-proxy-external-geo/mapbox-router-proxy  (/directions/v5/mapbox)":
        And:
          - Equals: { http_host: "api-proxy-external-geo.taxi.tst.yandex.net" }
          - Or:
              - Equals: { upstream_http_x_yataxi_api_operationid: "mapbox-router-proxy" }
              - Equals: { request_url: "/directions/v5/mapbox" }
              - Equals: { request_url: "/directions/v5/mapbox/" }
              - StartsWith: { request_url: "/directions/v5/mapbox?" }
              - StartsWith: { request_url: "/directions/v5/mapbox/?" }
        Options:
            CustomHttp:
              - 400
              - 401
              - 403
              - 404
              - 406
              - 409
              - 410
              - 429
              - 503

