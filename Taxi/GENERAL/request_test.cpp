#include <gtest/gtest.h>
#include "markcode.hpp"

TEST(GS1MarkCodeTests, ParseGS1DataMatrixMarkCode) {
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode("010406051112180521zZyR5SDcpc0KD"),
            "444D03B16952B18D7A5A7952355344637063304B44");
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode("010406051112180521A"),
            "444D03B16952B18D41");
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode("010460043993125621JgXJ5.T"),
            "444D042F1F9681784A67584A352E54");
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode(
                "010406051112180521zZyR5SDcpc0KD\u001d8005112000\u001d930001"),
            "444D03B16952B18D7A5A7952355344637063304B44");
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode(
                "8005112000\u001d930001\u001d010406051112180521zZyR5SDcpc0K"
                "D\u001d8005112000\u001d930001"),
            "444D03B16952B18D7A5A7952355344637063304B44");
  EXPECT_EQ(gs1::ParseGS1DataMatrixMarkCode(
                "\n 8005112000\u001d930001\u001d21zZyR5SDcpc0KD\u001d010406051"
                "11218058005112000\u001d930001\n\n"),
            "444D03B16952B18D7A5A7952355344637063304B44");
}
