# This file is generated automatically, do not edit it by hand!
group:
    type: rtc
    name: taxi_dashboards_testing
graphs:
    dashboards.taxi.tst.yandex.net: # All handlers for host.
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Conflict
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/ping_GET:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # ping
              - Equals: {request_url: "/ping"}
              - Equals: {request_url: "/ping/"}
              - StartsWith: {request_url: "/ping?"}
              - StartsWith: {request_url: "/ping/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/DeleteDashboardConfigUpload_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик DeleteDashboardConfigUpload
              - Equals: {request_url: "/task-processor/v1/cubes/DeleteDashboardConfigUpload"}
              - Equals: {request_url: "/task-processor/v1/cubes/DeleteDashboardConfigUpload/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/DeleteDashboardConfigUpload?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/DeleteDashboardConfigUpload/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/EnqueueDashboardConfigUpload_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик EnqueueDashboardConfigUpload
              - Equals: {request_url: "/task-processor/v1/cubes/EnqueueDashboardConfigUpload"}
              - Equals: {request_url: "/task-processor/v1/cubes/EnqueueDashboardConfigUpload/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/EnqueueDashboardConfigUpload?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/EnqueueDashboardConfigUpload/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/FinishApplyingDashboardConfig_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик FinishApplyingDashboardConfig
              - Equals: {request_url: "/task-processor/v1/cubes/FinishApplyingDashboardConfig"}
              - Equals: {request_url: "/task-processor/v1/cubes/FinishApplyingDashboardConfig/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/FinishApplyingDashboardConfig?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/FinishApplyingDashboardConfig/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/GenerateDashboardConfigChanges_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик GenerateDashboardConfigChanges
              - Equals: {request_url: "/task-processor/v1/cubes/GenerateDashboardConfigChanges"}
              - Equals: {request_url: "/task-processor/v1/cubes/GenerateDashboardConfigChanges/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/GenerateDashboardConfigChanges?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/GenerateDashboardConfigChanges/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/UploadDashboardFromConfig_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик UploadDashboardFromConfig
              - Equals: {request_url: "/task-processor/v1/cubes/UploadDashboardFromConfig"}
              - Equals: {request_url: "/task-processor/v1/cubes/UploadDashboardFromConfig/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/UploadDashboardFromConfig?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/UploadDashboardFromConfig/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/ValidateDashboardConfigChanges_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик ValidateDashboardConfigChanges
              - Equals: {request_url: "/task-processor/v1/cubes/ValidateDashboardConfigChanges"}
              - Equals: {request_url: "/task-processor/v1/cubes/ValidateDashboardConfigChanges/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/ValidateDashboardConfigChanges?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/ValidateDashboardConfigChanges/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes/WaitDashboardConfigUpload_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Выполнить кубик WaitDashboardConfigUpload
              - Equals: {request_url: "/task-processor/v1/cubes/WaitDashboardConfigUpload"}
              - Equals: {request_url: "/task-processor/v1/cubes/WaitDashboardConfigUpload/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/WaitDashboardConfigUpload?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/WaitDashboardConfigUpload/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/task-processor/v1/cubes_GET:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Список доступных кубиков для таск процессора
              - Equals: {request_url: "/task-processor/v1/cubes"}
              - Equals: {request_url: "/task-processor/v1/cubes/"}
              - StartsWith: {request_url: "/task-processor/v1/cubes?"}
              - StartsWith: {request_url: "/task-processor/v1/cubes/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/v1/config/generate_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Запускает джобу генерации дэшборда для отдельного бранча
              - Equals: {request_url: "/v1/config/generate"}
              - Equals: {request_url: "/v1/config/generate/"}
              - StartsWith: {request_url: "/v1/config/generate?"}
              - StartsWith: {request_url: "/v1/config/generate/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Conflict
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/v1/config/is_generable_GET:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает 200 если запуск генерации дэшборда для бранча разрешён; если запрещён, возвращает 409
              - Equals: {request_url: "/v1/config/is_generable"}
              - Equals: {request_url: "/v1/config/is_generable/"}
              - StartsWith: {request_url: "/v1/config/is_generable?"}
              - StartsWith: {request_url: "/v1/config/is_generable/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Conflict
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/v1/configs/get_config_GET:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает текущую конфигурацию конфига старого генератора 
              - Equals: {request_url: "/v1/configs/get_config"}
              - Equals: {request_url: "/v1/configs/get_config/"}
              - StartsWith: {request_url: "/v1/configs/get_config?"}
              - StartsWith: {request_url: "/v1/configs/get_config/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    dashboards.taxi.tst.yandex.net/v1/configs/upload_POST:
        And:
          - Equals: {http_host: "dashboards.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Добавляет (обновляет текущий) дашборд к определенному окружению сервиса. В основном, в эту ручку приходят данные от TeamCity через proxy в clownductor. NOTE: https://wiki.yandex-team.ru/taxi/backend/architecture/dashboards/#obnovlenieproxyruchkivclownductor 
              - Equals: {request_url: "/v1/configs/upload"}
              - Equals: {request_url: "/v1/configs/upload/"}
              - StartsWith: {request_url: "/v1/configs/upload?"}
              - StartsWith: {request_url: "/v1/configs/upload/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Conflict
              - 429 # Too many requests

