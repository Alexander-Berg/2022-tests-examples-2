# This file is generated automatically, do not edit it by hand!
group:
    type: rtc
    name: taxi_selfemployed_testing
graphs:
    selfemployed.taxi.tst.yandex.net: # All handlers for host.
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Conflict
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/add-order/v2_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проверяет, является ли водитель СМЗ и добавляет квинтанцию о заказе в базу
              - Equals: {request_url: "/add-order/v2"}
              - Equals: {request_url: "/add-order/v2/"}
              - StartsWith: {request_url: "/add-order/v2?"}
              - StartsWith: {request_url: "/add-order/v2/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/add-order_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Добавляет квинтанцию о заказе СМЗ в базу
              - Equals: {request_url: "/add-order"}
              - Equals: {request_url: "/add-order/"}
              - StartsWith: {request_url: "/add-order?"}
              - StartsWith: {request_url: "/add-order/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/add-subvention/v2_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проверяет, является ли водитель СМЗ и добавляет квитанцию о субсидии в базу
              - Equals: {request_url: "/add-subvention/v2"}
              - Equals: {request_url: "/add-subvention/v2/"}
              - StartsWith: {request_url: "/add-subvention/v2?"}
              - StartsWith: {request_url: "/add-subvention/v2/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/add-subvention_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Добавляет квитанцию о субсидии СМЗ в базу
              - Equals: {request_url: "/add-subvention"}
              - Equals: {request_url: "/add-subvention/"}
              - StartsWith: {request_url: "/add-subvention?"}
              - StartsWith: {request_url: "/add-subvention/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/admin/selfemployed-check-passport_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка для сверки валидности паспорта самозанятого с ФНС
              - Equals: {request_url: "/admin/selfemployed-check-passport"}
              - Equals: {request_url: "/admin/selfemployed-check-passport/"}
              - StartsWith: {request_url: "/admin/selfemployed-check-passport?"}
              - StartsWith: {request_url: "/admin/selfemployed-check-passport/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Паспорт невалидный
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/admin/selfemployed-status_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Ручка для отображения статуса самозанятого в админке
              - Equals: {request_url: "/admin/selfemployed-status"}
              - Equals: {request_url: "/admin/selfemployed-status/"}
              - StartsWith: {request_url: "/admin/selfemployed-status?"}
              - StartsWith: {request_url: "/admin/selfemployed-status/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/block-updates_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Возвращает список ID заблокированных и незаблокированных парков начиная с указанной даты
              - Equals: {request_url: "/block-updates"}
              - Equals: {request_url: "/block-updates/"}
              - StartsWith: {request_url: "/block-updates?"}
              - StartsWith: {request_url: "/block-updates/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/correct-subvention/v2_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проверяет, является ли водитель СМЗ и корректирует субсидию путем отмены предыдущей субсидии и добавления новой
              - Equals: {request_url: "/correct-subvention/v2"}
              - Equals: {request_url: "/correct-subvention/v2/"}
              - StartsWith: {request_url: "/correct-subvention/v2?"}
              - StartsWith: {request_url: "/correct-subvention/v2/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/correct-subvention_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Корректирует субсидию путем отмены предыдущей субсидии и добавления новой
              - Equals: {request_url: "/correct-subvention"}
              - Equals: {request_url: "/correct-subvention/"}
              - StartsWith: {request_url: "/correct-subvention?"}
              - StartsWith: {request_url: "/correct-subvention/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/self_employment/status_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Состояние самозанятого (переехала из taximeter-basis)
              - Equals: {request_url: "/driver/self_employment/status"}
              - Equals: {request_url: "/driver/self_employment/status/"}
              - StartsWith: {request_url: "/driver/self_employment/status?"}
              - StartsWith: {request_url: "/driver/self_employment/status/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/dynamic-documents_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # No description provided.
              - Equals: {request_url: "/driver/v1/selfemployed/dynamic-documents"}
              - Equals: {request_url: "/driver/v1/selfemployed/dynamic-documents/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/dynamic-documents?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/dynamic-documents/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/ownpark/management/requisites_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получить текущие реквизиты СМЗ
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites"}
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/ownpark/management/requisites_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Поменять реквизиты СМЗ
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites"}
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры.
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # 'Ошибка выполнения. Возможные причины:'   * Некорректный формат аккаунта   * Некорректный формат БИК 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/ownpark/management/sbp-banks_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получить текущие реквизиты СМЗ
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/sbp-banks"}
              - Equals: {request_url: "/driver/v1/selfemployed/ownpark/management/sbp-banks/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/sbp-banks?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/ownpark/management/sbp-banks/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/qse/react-on-proposal_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Принять или отклонить предложение парка о переходе в статус кСМЗ
              - Equals: {request_url: "/driver/v1/selfemployed/qse/react-on-proposal"}
              - Equals: {request_url: "/driver/v1/selfemployed/qse/react-on-proposal/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/qse/react-on-proposal?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/qse/react-on-proposal/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not Found
              - 409 # State Error
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v1/selfemployed/qse/resend-phone-confirmation_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Переотправить смс код подтверждения
              - Equals: {request_url: "/driver/v1/selfemployed/qse/resend-phone-confirmation"}
              - Equals: {request_url: "/driver/v1/selfemployed/qse/resend-phone-confirmation/"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/qse/resend-phone-confirmation?"}
              - StartsWith: {request_url: "/driver/v1/selfemployed/qse/resend-phone-confirmation/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not Found
              - 409 # State Error
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v2/selfemployed/ownpark/management/requisites_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получить текущие реквизиты СМЗ
              - Equals: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites"}
              - Equals: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites/"}
              - StartsWith: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites?"}
              - StartsWith: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/driver/v2/selfemployed/ownpark/management/requisites_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Поменять реквизиты СМЗ
              - Equals: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites"}
              - Equals: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites/"}
              - StartsWith: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites?"}
              - StartsWith: {request_url: "/driver/v2/selfemployed/ownpark/management/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - ACCOUNT_VALIDATION_ERROR - ошибка валидации расчетного счета   - BIK_VALIDATION_ERROR - ошибка валидации БИК   - NONRESIDENT_BANK_INELIGIBLE - ошибка валидации реквизитов нерезидента   - REQUISITES_VALIDATION_ERROR - общая ошибка валидации реквизитов   - PHONE_VALIDATION_ERROR - ошибка валидации телефона (СБП)   - BANK_VALIDATION_ERROR - ошибка валидации банка (СБП)   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/additional-terms/accept_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Принять условия предоставления дополнительного функционала сервиса
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/accept"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/accept/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/accept?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/accept/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Rate limcit exceeded

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/additional-terms/state_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Состояние принятия условия предоставления дополнительного функционала сервиса
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/state"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/state/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/state?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/additional-terms/state/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Rate limit exceeded

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/bind-contractor_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Сделать исполнителя кСМЗ
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/bind-contractor"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/bind-contractor/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/bind-contractor?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/bind-contractor/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Binding Error
              - 429 # Rate limit exceeded

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/get-contractor-profile_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получить статус кСМЗ
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/get-contractor-profile"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/get-contractor-profile/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/get-contractor-profile?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/get-contractor-profile/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Rate limit exceeded

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/list-bound-contractors_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получить список кСМЗ в парке
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/list-bound-contractors"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/list-bound-contractors/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/list-bound-contractors?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/list-bound-contractors/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Rate limit exceeded

    selfemployed.taxi.tst.yandex.net/fleet/selfemployed/v1/qse/set-send-receipts_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Активировать/Деактивировать профиль СМЗ
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/set-send-receipts"}
              - Equals: {request_url: "/fleet/selfemployed/v1/qse/set-send-receipts/"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/set-send-receipts?"}
              - StartsWith: {request_url: "/fleet/selfemployed/v1/qse/set-send-receipts/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Rate limit exceeded

    selfemployed.taxi.tst.yandex.net/get-profile-details_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает старые ID парка и водителя
              - Equals: {request_url: "/get-profile-details"}
              - Equals: {request_url: "/get-profile-details/"}
              - StartsWith: {request_url: "/get-profile-details?"}
              - StartsWith: {request_url: "/get-profile-details/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. Отсутствует и park_id и selfemployed_id.
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Профиль самозанятого не найден, либо самозанятый - саморегистрант
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/get-promo-banner_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает заголовок и подзаголовок баннера самозанятого
              - Equals: {request_url: "/get-promo-banner"}
              - Equals: {request_url: "/get-promo-banner/"}
              - StartsWith: {request_url: "/get-promo-banner?"}
              - StartsWith: {request_url: "/get-promo-banner/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. Отсутствует park_id либо driver_id.
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/get-receipt-image_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает url распечатки квитанции о заказе
              - Equals: {request_url: "/get-receipt-image"}
              - Equals: {request_url: "/get-receipt-image/"}
              - StartsWith: {request_url: "/get-receipt-image?"}
              - StartsWith: {request_url: "/get-receipt-image/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. Отсутствует ID парка либо ID заказа.
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Квитанция не найдена
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/lavka/v1/get-register-income-result_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Получить результата запроса в ФНС на добавление чека
              - Equals: {request_url: "/lavka/v1/get-register-income-result"}
              - Equals: {request_url: "/lavka/v1/get-register-income-result/"}
              - StartsWith: {request_url: "/lavka/v1/get-register-income-result?"}
              - StartsWith: {request_url: "/lavka/v1/get-register-income-result/?"}
        Options:
            CustomHttp:
              - 400 # SmzPlatformError
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Message not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/lavka/v1/get-revert-income-result_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Получить результата запроса в ФНС на удаление чека
              - Equals: {request_url: "/lavka/v1/get-revert-income-result"}
              - Equals: {request_url: "/lavka/v1/get-revert-income-result/"}
              - StartsWith: {request_url: "/lavka/v1/get-revert-income-result?"}
              - StartsWith: {request_url: "/lavka/v1/get-revert-income-result/?"}
        Options:
            CustomHttp:
              - 400 # SmzPlatformError
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Message not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/lavka/v1/send-register-income-msg_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Создать запрос в ФНС на добавление чека
              - Equals: {request_url: "/lavka/v1/send-register-income-msg"}
              - Equals: {request_url: "/lavka/v1/send-register-income-msg/"}
              - StartsWith: {request_url: "/lavka/v1/send-register-income-msg?"}
              - StartsWith: {request_url: "/lavka/v1/send-register-income-msg/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/lavka/v1/send-revert-income-msg_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Создать запрос в ФНС на удаление чека
              - Equals: {request_url: "/lavka/v1/send-revert-income-msg"}
              - Equals: {request_url: "/lavka/v1/send-revert-income-msg/"}
              - StartsWith: {request_url: "/lavka/v1/send-revert-income-msg?"}
              - StartsWith: {request_url: "/lavka/v1/send-revert-income-msg/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/new-park-callback_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Колбэк для сервиса taxi-partner-contracts. Вызывается, когда создан новый парк.
              - Equals: {request_url: "/new-park-callback"}
              - Equals: {request_url: "/new-park-callback/"}
              - StartsWith: {request_url: "/new-park-callback?"}
              - StartsWith: {request_url: "/new-park-callback/?"}
        Options:
            CustomHttp:
              - 400 # * Некорректный запрос. Отсутствует ID парка, либо ID водителя, либо ID самозанятого. * Ошибка выполнения. Для созданного парка не найдет ID самозанятого. 
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/nonresident/check_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Получает банковские реквизиты водителя
              - Equals: {request_url: "/nonresident/check"}
              - Equals: {request_url: "/nonresident/check/"}
              - StartsWith: {request_url: "/nonresident/check?"}
              - StartsWith: {request_url: "/nonresident/check/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/nonresident/unblock_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Убрать блокирующий тег (по причине нерезиденства) с водителя
              - Equals: {request_url: "/nonresident/unblock"}
              - Equals: {request_url: "/nonresident/unblock/"}
              - StartsWith: {request_url: "/nonresident/unblock?"}
              - StartsWith: {request_url: "/nonresident/unblock/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/ping_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Ping
              - Equals: {request_url: "/ping"}
              - Equals: {request_url: "/ping/"}
              - StartsWith: {request_url: "/ping?"}
              - StartsWith: {request_url: "/ping/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/requisites-callback_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Колбэк для сервиса taxi-partner-contracts. Вызывается, когда биллинг получил реквизиты.
              - Equals: {request_url: "/requisites-callback"}
              - Equals: {request_url: "/requisites-callback/"}
              - StartsWith: {request_url: "/requisites-callback?"}
              - StartsWith: {request_url: "/requisites-callback/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/agreement_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает элементы конструктора экрана "Соглашение" для отображения на клиенте
              - Equals: {request_url: "/self-employment/fns-se/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/agreement/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/agreement_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает флаг accepted в профиле водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/agreement/?"}
        Options:
            CustomHttp:
              - 400 # 'Некорректные параметры. Возможные причины:'   * step != 'agreement'   * Отсутствует обязательное поле 'accepted' 
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/bind_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Позволяет сменить телефонный номер либо послать запрос на привязку телефонного номера. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/bind"}
              - Equals: {request_url: "/self-employment/fns-se/bind/"}
              - StartsWith: {request_url: "/self-employment/fns-se/bind?"}
              - StartsWith: {request_url: "/self-employment/fns-se/bind/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'phone_number'
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения. "code:"   * `no_selfemployed_found` - Самозанятый не найден либо что-то пошло не так на стороне ФНС.   * `sms_limit_exceeded` - Превышен лимит на максимальное количество отправленных смс 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/confirm-phone_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # No description provided.
              - Equals: {request_url: "/self-employment/fns-se/confirm-phone"}
              - Equals: {request_url: "/self-employment/fns-se/confirm-phone/"}
              - StartsWith: {request_url: "/self-employment/fns-se/confirm-phone?"}
              - StartsWith: {request_url: "/self-employment/fns-se/confirm-phone/?"}
        Options:
            CustomHttp:
              - 400 # "Некорректные параметры. Возможные причины:" - step != 'sms' - Поле 'phone_number' отсутствует либо пустое - Смс с кодом подтверждения еще не высылалось - Указанный номер телефона отличается от того, что есть в базе 
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения. "code:"   * `sms_sent_again` - Смс с кодом подтверждения было послано повторно   * `sms_limit_exceeded` - Превышен лимит на максимальное количество отправленных смс   * `bad` - Неправильный код подтверждения. Если указан тестовый телефон, то код подтверждения должен быть '000000' 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/finish_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Конечный шаг. Возвращает основную информацию о парке и водителе и флаг, изменился ли аккаунт (телефон).
              - Equals: {request_url: "/self-employment/fns-se/finish"}
              - Equals: {request_url: "/self-employment/fns-se/finish/"}
              - StartsWith: {request_url: "/self-employment/fns-se/finish?"}
              - StartsWith: {request_url: "/self-employment/fns-se/finish/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/help_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает данные для экрана помощи.
              - Equals: {request_url: "/self-employment/fns-se/help"}
              - Equals: {request_url: "/self-employment/fns-se/help/"}
              - StartsWith: {request_url: "/self-employment/fns-se/help?"}
              - StartsWith: {request_url: "/self-employment/fns-se/help/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/intro_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает данные экрана "А ещё у самозанятых" для отображения на клиенте.
              - Equals: {request_url: "/self-employment/fns-se/intro"}
              - Equals: {request_url: "/self-employment/fns-se/intro/"}
              - StartsWith: {request_url: "/self-employment/fns-se/intro?"}
              - StartsWith: {request_url: "/self-employment/fns-se/intro/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/intro_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Добавляет профиль самозанятого. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/intro"}
              - Equals: {request_url: "/self-employment/fns-se/intro/"}
              - StartsWith: {request_url: "/self-employment/fns-se/intro?"}
              - StartsWith: {request_url: "/self-employment/fns-se/intro/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'intro'
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Требование обновить версию
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/nalog-app_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проверяет, зарегистрирован ли водитель в ФНС. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/nalog-app"}
              - Equals: {request_url: "/self-employment/fns-se/nalog-app/"}
              - StartsWith: {request_url: "/self-employment/fns-se/nalog-app?"}
              - StartsWith: {request_url: "/self-employment/fns-se/nalog-app/?"}
        Options:
            CustomHttp:
              - 400 # 'Некорректные параметры. Возможные причины:'   * step != 'nalog_app'   * Отсутствует поле 'phone_number'. 
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения. "code:"   * `no_selfemployed_found` - Самозанятый не найден 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/permission_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проходит шаг "Разрешения". Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/permission"}
              - Equals: {request_url: "/self-employment/fns-se/permission/"}
              - StartsWith: {request_url: "/self-employment/fns-se/permission?"}
              - StartsWith: {request_url: "/self-employment/fns-se/permission/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'permission'.
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # 'Ошибка выполнения. Возможные причины:'   * Такой ИНН уже зарегистрирован   * Waiting for completion 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/phone-number_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # No description provided.
              - Equals: {request_url: "/self-employment/fns-se/phone-number"}
              - Equals: {request_url: "/self-employment/fns-se/phone-number/"}
              - StartsWith: {request_url: "/self-employment/fns-se/phone-number?"}
              - StartsWith: {request_url: "/self-employment/fns-se/phone-number/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/rebind_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Sending rebind request to FNS.
              - Equals: {request_url: "/self-employment/fns-se/rebind"}
              - Equals: {request_url: "/self-employment/fns-se/rebind/"}
              - StartsWith: {request_url: "/self-employment/fns-se/rebind?"}
              - StartsWith: {request_url: "/self-employment/fns-se/rebind/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/referral_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает элементы конструктора экрана "Ваш промокод" (рефералки) для отображения на клиенте.
              - Equals: {request_url: "/self-employment/fns-se/referral"}
              - Equals: {request_url: "/self-employment/fns-se/referral/"}
              - StartsWith: {request_url: "/self-employment/fns-se/referral?"}
              - StartsWith: {request_url: "/self-employment/fns-se/referral/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/referral_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Сохраняет промокод для рефералки
              - Equals: {request_url: "/self-employment/fns-se/referral"}
              - Equals: {request_url: "/self-employment/fns-se/referral/"}
              - StartsWith: {request_url: "/self-employment/fns-se/referral?"}
              - StartsWith: {request_url: "/self-employment/fns-se/referral/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/reg-address_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает адрес регистрации водителя.
              - Equals: {request_url: "/self-employment/fns-se/reg-address"}
              - Equals: {request_url: "/self-employment/fns-se/reg-address/"}
              - StartsWith: {request_url: "/self-employment/fns-se/reg-address?"}
              - StartsWith: {request_url: "/self-employment/fns-se/reg-address/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/reg-address_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Сохраняет адрес регистрации водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/reg-address"}
              - Equals: {request_url: "/self-employment/fns-se/reg-address/"}
              - StartsWith: {request_url: "/self-employment/fns-se/reg-address?"}
              - StartsWith: {request_url: "/self-employment/fns-se/reg-address/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'address'
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/requisites_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получает банковские реквизиты водителя
              - Equals: {request_url: "/self-employment/fns-se/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/requisites_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает банковские реквизиты водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'requisites'.
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # 'Ошибка выполнения. Возможные причины:'   * Некорректный формат аккаунта   * Некорректный формат БИК 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/steps_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает список шагов для самозанятого
              - Equals: {request_url: "/self-employment/fns-se/steps"}
              - Equals: {request_url: "/self-employment/fns-se/steps/"}
              - StartsWith: {request_url: "/self-employment/fns-se/steps?"}
              - StartsWith: {request_url: "/self-employment/fns-se/steps/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/steps_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Возвращает следующий шаг после экрана "Шаги" (overview).
              - Equals: {request_url: "/self-employment/fns-se/steps"}
              - Equals: {request_url: "/self-employment/fns-se/steps/"}
              - StartsWith: {request_url: "/self-employment/fns-se/steps?"}
              - StartsWith: {request_url: "/self-employment/fns-se/steps/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. step != 'overview'
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/agreement_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает элементы конструктора экрана "Соглашение" для отображения на клиенте
              - Equals: {request_url: "/self-employment/fns-se/v2/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/v2/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/agreement/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/agreement_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает флаг accepted в профиле водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/v2/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/agreement/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Некорректные параметры запроса
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/await-park-created_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает конструктор для экрана
              - Equals: {request_url: "/self-employment/fns-se/v2/await-park-created"}
              - Equals: {request_url: "/self-employment/fns-se/v2/await-park-created/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/await-park-created?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/await-park-created/?"}
        Options:
            CustomHttp:
              - 400 # Ошибка состояния
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/await-park-created_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Если парк создан, то возвращает следующий шаг. Иначе просит подождать
              - Equals: {request_url: "/self-employment/fns-se/v2/await-park-created"}
              - Equals: {request_url: "/self-employment/fns-se/v2/await-park-created/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/await-park-created?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/await-park-created/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/bind_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Позволяет сменить телефонный номер либо послать запрос на привязку телефонного номера. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/bind"}
              - Equals: {request_url: "/self-employment/fns-se/v2/bind/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/bind?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/bind/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/confirm-phone_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # No description provided.
              - Equals: {request_url: "/self-employment/fns-se/v2/confirm-phone"}
              - Equals: {request_url: "/self-employment/fns-se/v2/confirm-phone/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/confirm-phone?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/confirm-phone/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/finish_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Конечный шаг. Возвращает основную информацию о парке и водителе и флаг, изменился ли аккаунт (телефон).
              - Equals: {request_url: "/self-employment/fns-se/v2/finish"}
              - Equals: {request_url: "/self-employment/fns-se/v2/finish/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/finish?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/finish/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/help_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает данные для экрана помощи.
              - Equals: {request_url: "/self-employment/fns-se/v2/help"}
              - Equals: {request_url: "/self-employment/fns-se/v2/help/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/help?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/help/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/intro_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает данные экрана "А ещё у самозанятых" для отображения на клиенте.
              - Equals: {request_url: "/self-employment/fns-se/v2/intro"}
              - Equals: {request_url: "/self-employment/fns-se/v2/intro/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/intro?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/intro/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/intro_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Добавляет профиль самозанятого. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/intro"}
              - Equals: {request_url: "/self-employment/fns-se/v2/intro/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/intro?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/intro/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/nalog-app_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проверяет, зарегистрирован ли водитель в ФНС. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/nalog-app"}
              - Equals: {request_url: "/self-employment/fns-se/v2/nalog-app/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/nalog-app?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/nalog-app/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/permission_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Проходит шаг "Разрешения". Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/permission"}
              - Equals: {request_url: "/self-employment/fns-se/v2/permission/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/permission?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/permission/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/phone-number_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # No description provided.
              - Equals: {request_url: "/self-employment/fns-se/v2/phone-number"}
              - Equals: {request_url: "/self-employment/fns-se/v2/phone-number/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/phone-number?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/phone-number/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/reg-address_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает адрес регистрации водителя.
              - Equals: {request_url: "/self-employment/fns-se/v2/reg-address"}
              - Equals: {request_url: "/self-employment/fns-se/v2/reg-address/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/reg-address?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/reg-address/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/reg-address_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Сохраняет адрес регистрации водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/reg-address"}
              - Equals: {request_url: "/self-employment/fns-se/v2/reg-address/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/reg-address?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/reg-address/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/requisites_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получает банковские реквизиты водителя
              - Equals: {request_url: "/self-employment/fns-se/v2/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/v2/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/requisites_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает банковские реквизиты водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v2/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/v2/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Некорректные параметры. step != 'requisites'.
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # 'Ошибка выполнения. Возможные причины:'   * Некорректный формат аккаунта   * Некорректный формат БИК 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/sbp-banks_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получает доступные водителю банки для СБП
              - Equals: {request_url: "/self-employment/fns-se/v2/sbp-banks"}
              - Equals: {request_url: "/self-employment/fns-se/v2/sbp-banks/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/sbp-banks?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/sbp-banks/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/steps_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает список шагов для самозанятого
              - Equals: {request_url: "/self-employment/fns-se/v2/steps"}
              - Equals: {request_url: "/self-employment/fns-se/v2/steps/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/steps?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/steps/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v2/steps_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Возвращает следующий шаг после экрана "Шаги" (overview).
              - Equals: {request_url: "/self-employment/fns-se/v2/steps"}
              - Equals: {request_url: "/self-employment/fns-se/v2/steps/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/steps?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v2/steps/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v3/agreement_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает элементы конструктора экрана "Соглашение" для отображения на клиенте
              - Equals: {request_url: "/self-employment/fns-se/v3/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/v3/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/agreement/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v3/agreement_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает флаг accepted в профиле водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v3/agreement"}
              - Equals: {request_url: "/self-employment/fns-se/v3/agreement/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/agreement?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/agreement/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка состояния
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v3/requisites_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Получает банковские реквизиты водителя
              - Equals: {request_url: "/self-employment/fns-se/v3/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/v3/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/fns-se/v3/requisites_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Задает банковские реквизиты водителя. Возвращает следующий шаг.
              - Equals: {request_url: "/self-employment/fns-se/v3/requisites"}
              - Equals: {request_url: "/self-employment/fns-se/v3/requisites/"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/requisites?"}
              - StartsWith: {request_url: "/self-employment/fns-se/v3/requisites/?"}
        Options:
            CustomHttp:
              - 400 # Bad Request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 409 # Ошибка выполнения: "code:"   - ACCOUNT_VALIDATION_ERROR - ошибка валидации расчетного счета   - BIK_VALIDATION_ERROR - ошибка валидации БИК   - NONRESIDENT_BANK_INELIGIBLE - ошибка валидации реквизитов нерезидента   - REQUISITES_VALIDATION_ERROR - общая ошибка валидации реквизитов   - PHONE_VALIDATION_ERROR - ошибка валидации телефона (СБП)   - BANK_VALIDATION_ERROR - ошибка валидации банка (СБП)   - NOT_SELFEMPLOYED - не зарегистрирован как самозанятый 
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/referral_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает элементы конструктора экрана "Ваш промокод" (рефералки) для отображения на клиенте.
              - Equals: {request_url: "/self-employment/referral"}
              - Equals: {request_url: "/self-employment/referral/"}
              - StartsWith: {request_url: "/self-employment/referral?"}
              - StartsWith: {request_url: "/self-employment/referral/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/self-employment/referral_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Сохраняет промокод для рефералки
              - Equals: {request_url: "/self-employment/referral"}
              - Equals: {request_url: "/self-employment/referral/"}
              - StartsWith: {request_url: "/self-employment/referral?"}
              - StartsWith: {request_url: "/self-employment/referral/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Ошибка авторизации
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed-info_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает ИНН
              - Equals: {request_url: "/selfemployed-info"}
              - Equals: {request_url: "/selfemployed-info/"}
              - StartsWith: {request_url: "/selfemployed-info?"}
              - StartsWith: {request_url: "/selfemployed-info/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. Отсутствует и park_id и driver_id.
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Профиль не найден
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed-status_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Возвращает флаг, показывающий, указал ли самозанятый все реквизиты и находится ли он на шаге 'requisites'.
              - Equals: {request_url: "/selfemployed-status"}
              - Equals: {request_url: "/selfemployed-status/"}
              - StartsWith: {request_url: "/selfemployed-status?"}
              - StartsWith: {request_url: "/selfemployed-status/?"}
        Options:
            CustomHttp:
              - 400 # Некорректный запрос. Отсутствует park_id либо driver_id.
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Профиль самозанятого не найден
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/service/v1/bonds/updates_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка получения обновлений привязок СМЗ к налог.ру
              - Equals: {request_url: "/selfemployed/service/v1/bonds/updates"}
              - Equals: {request_url: "/selfemployed/service/v1/bonds/updates/"}
              - StartsWith: {request_url: "/selfemployed/service/v1/bonds/updates?"}
              - StartsWith: {request_url: "/selfemployed/service/v1/bonds/updates/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/service/v1/bonds_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка получения привязок СМЗ к налог.ру
              - Equals: {request_url: "/selfemployed/service/v1/bonds"}
              - Equals: {request_url: "/selfemployed/service/v1/bonds/"}
              - StartsWith: {request_url: "/selfemployed/service/v1/bonds?"}
              - StartsWith: {request_url: "/selfemployed/service/v1/bonds/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/service/v1/profiles/updates_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка получения обновлений профилей СМЗ
              - Equals: {request_url: "/selfemployed/service/v1/profiles/updates"}
              - Equals: {request_url: "/selfemployed/service/v1/profiles/updates/"}
              - StartsWith: {request_url: "/selfemployed/service/v1/profiles/updates?"}
              - StartsWith: {request_url: "/selfemployed/service/v1/profiles/updates/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/service/v1/profiles_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка получения профилей СМЗ
              - Equals: {request_url: "/selfemployed/service/v1/profiles"}
              - Equals: {request_url: "/selfemployed/service/v1/profiles/"}
              - StartsWith: {request_url: "/selfemployed/service/v1/profiles?"}
              - StartsWith: {request_url: "/selfemployed/service/v1/profiles/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/service/v1/sync/driver_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Ручка получения нового маппинга водителя от fleet-synchronizer
              - Equals: {request_url: "/selfemployed/service/v1/sync/driver"}
              - Equals: {request_url: "/selfemployed/service/v1/sync/driver/"}
              - StartsWith: {request_url: "/selfemployed/service/v1/sync/driver?"}
              - StartsWith: {request_url: "/selfemployed/service/v1/sync/driver/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/v1/eda-selfreg/accept-agreement_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # No description provided.
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/accept-agreement"}
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/accept-agreement/"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/accept-agreement?"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/accept-agreement/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/v1/eda-selfreg/bind/confirm_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # No description provided.
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/bind/confirm"}
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/bind/confirm/"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/bind/confirm?"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/bind/confirm/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/selfemployed/v1/eda-selfreg/bind/request_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # No description provided.
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/bind/request"}
              - Equals: {request_url: "/selfemployed/v1/eda-selfreg/bind/request/"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/bind/request?"}
              - StartsWith: {request_url: "/selfemployed/v1/eda-selfreg/bind/request/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/service/eats-registration-request/validate_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Validates Eats registration answers
              - Equals: {request_url: "/service/eats-registration-request/validate"}
              - Equals: {request_url: "/service/eats-registration-request/validate/"}
              - StartsWith: {request_url: "/service/eats-registration-request/validate?"}
              - StartsWith: {request_url: "/service/eats-registration-request/validate/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/service/eats-registration-request_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Accept Eats registration
              - Equals: {request_url: "/service/eats-registration-request"}
              - Equals: {request_url: "/service/eats-registration-request/"}
              - StartsWith: {request_url: "/service/eats-registration-request?"}
              - StartsWith: {request_url: "/service/eats-registration-request/?"}
        Options:
            CustomHttp:
              - 400 # Something went wrong
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/service/rebind_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Send bind request
              - Equals: {request_url: "/service/rebind"}
              - Equals: {request_url: "/service/rebind/"}
              - StartsWith: {request_url: "/service/rebind?"}
              - StartsWith: {request_url: "/service/rebind/?"}
        Options:
            CustomHttp:
              - 400 # Bad request or Taxpayer already bound, not found or unregistered
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/service/salesforce-account-id_GET:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "GET"}
          - Or: # Временная ручка для получения аккаунта СФ, через который был создан СМЗ
              - Equals: {request_url: "/service/salesforce-account-id"}
              - Equals: {request_url: "/service/salesforce-account-id/"}
              - StartsWith: {request_url: "/service/salesforce-account-id?"}
              - StartsWith: {request_url: "/service/salesforce-account-id/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # СМЗ не найден
              - 429 # Too many requests

    selfemployed.taxi.tst.yandex.net/unfinished-drivers_POST:
        And:
          - Equals: {http_host: "selfemployed.taxi.tst.yandex.net"}
          - Equals: {request_method: "POST"}
          - Or: # Возвращает список водителей, которые начали регистрацию и не закончили
              - Equals: {request_url: "/unfinished-drivers"}
              - Equals: {request_url: "/unfinished-drivers/"}
              - StartsWith: {request_url: "/unfinished-drivers?"}
              - StartsWith: {request_url: "/unfinished-drivers/?"}
        Options:
            CustomHttp:
              - 400 # Bad request
              - 401 # Unauthorized
              - 403 # Forbidden
              - 404 # Not found
              - 429 # Too many requests

