{
  "request_params": [
    {
      "distance_meters": 30000,
      "eta_router_id": "eta",
      "fetch_lines": false,
      "id": "request_metro_for_cache",
      "pickup_points_type": "identical",
      "position": [
        37.62,
        55.75
      ],
      "router_params": {
        "bee": {
          "type": "bee_line"
        }
      },
      "transfer_type": "from_mt",
      "transport_types": [
        "underground"
      ]
    },
    {
      "eta_router_id": "eta",
      "id": "request_metro_for_info",
      "transport_types": [
        "underground"
      ]
    },
    {
      "distance_meters": 5000,
      "eta_router_id": "bee",
      "fetch_lines": true,
      "id": "request_railway_for_cache",
      "pickup_points_type": "identical",
      "position": [
        37.5,
        55.5
      ],
      "router_params": {
        "bee": {
          "type": "by_car"
        }
      },
      "transfer_type": "from_mt",
      "transport_types": [
        "railway"
      ]
    },
    {
      "eta_router_id": "bee",
      "id": "request_railway_for_info",
      "transport_types": [
        "railway"
      ]
    }
  ],
  "requests_settings": [
    {
      "id": "get_all_available_metro",
      "settings": [
        {
          "id": "requets_metro",
          "request_params_id": "request_metro_for_info",
          "response_filters_id": "filter_metro",
          "response_transformations_id": "fix_metro"
        },
        {
          "id": "requets_railway",
          "request_params_id": "request_railway_for_info",
          "response_filters_id": "filter_railway",
          "response_transformations_id": "fix_railway"
        }
      ],
      "sorting": {
        "exits_sorting": "by_time_asc",
        "stops_sorting": "by_time_asc"
      }
    },
    {
      "id": "get_route_type",
      "settings": [
        {
          "id": "request_metro"
        }
      ]
    },
    {
      "id": "validate_route",
      "settings": [
        {
          "id": "request_metro"
        }
      ]
    },
    {
      "id": "update-metro-geo-points-cache",
      "settings": [
        {
          "id": "requets_metro",
          "request_params_id": "request_metro_for_cache",
          "response_filters_id": "filter_metro"
        },
        {
          "id": "requets_railway",
          "request_params_id": "request_railway_for_cache",
          "response_filters_id": "filter_railway"
        }
      ]
    }
  ],
  "response_filters": [
    {
      "id": "filter_railway",
      "lines_to_exclude": [
        "lh_7272_9600721_g21_4"
      ],
      "route_thresholds": {
        "filter": {
          "distance_meters": 300,
          "time_seconds": 330
        }
      },
      "stops_to_include": [
        "station__lh_9876336"
      ]
    },
    {
      "exits_without_numbers_filter_strategy": "filter_but_keep_stop",
      "id": "filter_metro",
      "route_thresholds": {
        "filter": {
          "distance_meters": 300,
          "time_seconds": 330
        }
      }
    }
  ],
  "response_transformations": [
    {
      "id": "fix_railway",
      "lines_overrides": {
        "lh_7299_9600781_g21_4": {
          "color": "#FFAABB"
        }
      },
      "response_lines_override": [
        {
          "color": "FFAABBcc",
          "id": "mcd_1",
          "name": "МЦД-1"
        }
      ],
      "stops_overrides": {
        "station__lh_9876336": {
          "lines": [
            "mcd_1"
          ]
        }
      }
    },
    {
      "exits_overrides": {
        "exit__1_1": {
          "position": [
            38,
            56
          ]
        }
      },
      "id": "fix_metro",
      "pickup_points_overrides": {
        "1": {
          "position": [
            38,
            56
          ]
        }
      }
    }
  ]
}
