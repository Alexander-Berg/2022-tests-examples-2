{
  "consumer": "taxi-surge",
  "id": "0",
  "name": "test_pipeline_schema",
  "stages": [
    {
      "conditions": [],
      "in_bindings": [],
      "name": "fetch_1",
      "resources": [
        {
          "field": "pin_stats",
          "name": "pin_stats"
        }
      ],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "children": [
            {
              "query": "name"
            },
            {
              "query": "separate_counts"
            }
          ],
          "domain": "input",
          "query": "layer_meta"
        },
        {
          "domain": "resource",
          "query": "pin_stats.pins_with_b"
        },
        {
          "domain": "resource",
          "query": "zone.experiment.balance"
        }
      ],
      "name": "logic_1",
      "out_bindings": [
        {
          "alias": "data",
          "query": "classes"
        }
      ],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "domain": "output",
          "query": "classes"
        },
        {
          "domain": "output",
          "query": "classes.econom.surge"
        }
      ],
      "name": "logic_3",
      "out_bindings": [],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [],
      "name": "fetch_2",
      "resources": [
        {
          "field": "surge_map",
          "name": "surge_value_map"
        }
      ],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "domain": "resource",
          "query": "surge_map"
        }
      ],
      "name": "logic_2",
      "out_bindings": [],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "domain": "resource",
          "query": "not_existing.something.inside"
        }
      ],
      "name": "compile_error",
      "out_bindings": [],
      "source_code": "return {};"
    },
    {
      "conditions": [],
      "in_bindings": [
        {
          "domain": "input",
          "query": ""
        },
        {
          "domain": "output",
          "query": ""
        },
        {
          "domain": "resource",
          "query": {
            "operations": []
          }
        }
      ],
      "name": "empty_query",
      "out_bindings": [],
      "source_code": "return {};"
    }
  ],
  "state": "active"
}
