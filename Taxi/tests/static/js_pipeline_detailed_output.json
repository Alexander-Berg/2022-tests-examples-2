{
  "$logs": [],
  "$meta": [
    {
      "$iteration": 0,
      "$logs": [],
      "$stage": "init_out_array"
    },
    {
      "$iteration": 0,
      "$logs": [
        {
          "$level": "info",
          "$message": "{\"orders\":{\"orders\":{\"0\":{\"created\":\"2021-05-17T09:23:37+00:00\",\"started\":null,\"finished\":\"2021-05-17T09:52:54+00:00\",\"success\":false,\"courier_id\":null}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_store_load\":{\"queue\":0,\"packaging_times\":[]}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"supply\":{\"supply\":{\"2424\":{\"info\":{},\"location\":{\"lat\":55.686132,\"lon\":37.567087}},\"60287\":{\"info\":{\"0\":{\"id\":2118859,\"meta_group\":\"lavka\",\"location\":{\"lat\":55.72524400000001,\"lon\":37.566873},\"active_deliveries\":{}}},\"location\":{\"lat\":55.724987,\"lon\":37.568081}},\"69776\":{\"info\":{},\"location\":{\"lat\":55.703063,\"lon\":37.711267}},\"71249\":{\"info\":{},\"location\":{\"lat\":55.73856,\"lon\":37.655943}},\"72554\":{\"info\":{},\"location\":{\"lat\":55.70561,\"lon\":37.61565}},\"87254\":{\"info\":{},\"location\":{\"lat\":55.630096,\"lon\":37.511939}},\"91168\":{\"info\":{},\"location\":{\"lat\":55.54454,\"lon\":37.707871}},\"92348\":{\"info\":{},\"location\":{\"lat\":55.743674,\"lon\":37.429681}},\"93284\":{\"info\":{},\"location\":{\"lat\":55.702607,\"lon\":37.710521}},\"93520\":{\"info\":{},\"location\":{\"lat\":55.783463,\"lon\":37.720232}},\"103547\":{\"info\":{},\"location\":{\"lat\":55.669463,\"lon\":37.546614}},\"106355\":{\"info\":{},\"location\":{\"lat\":55.79766,\"lon\":37.797056}},\"106375\":{\"info\":{},\"location\":{\"lat\":55.682585,\"lon\":37.910998}},\"106383\":{\"info\":{},\"location\":{\"lat\":55.771028,\"lon\":37.632745}},\"108603\":{\"info\":{},\"location\":{\"lat\":55.651084,\"lon\":37.556936}},\"112355\":{\"info\":{},\"location\":{\"lat\":59.851019,\"lon\":30.179782}},\"112360\":{\"info\":{},\"location\":{\"lat\":55.594285,\"lon\":37.613233}},\"117175\":{\"info\":{},\"location\":{\"lat\":59.835659,\"lon\":30.380798}},\"120345\":{\"info\":{},\"location\":{\"lat\":55.759106,\"lon\":37.548788}},\"123456\":{\"info\":{},\"location\":{\"lat\":55.755241,\"lon\":37.617779}},\"125065\":{\"info\":{},\"location\":{\"lat\":55.886473,\"lon\":37.558463}},\"139065\":{\"info\":{},\"location\":{\"lat\":55.669295,\"lon\":37.660566}},\"266222\":{\"info\":{\"0\":{\"id\":592859,\"meta_group\":null,\"location\":{\"lat\":32.090144,\"lon\":34.82043},\"active_deliveries\":{}}},\"location\":{\"lat\":32.090131,\"lon\":34.820551}},\"3143242\":{\"info\":{},\"location\":{\"lat\":48.855311,\"lon\":2.340174}}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_supply_load\":{\"id\":2118859,\"route\":[{\"lat\":55.72524400000001,\"lon\":37.566873},{\"lat\":55.724987,\"lon\":37.568081}],\"summary\":[0.08086401074985641,29.111043869948308],\"to_depot_time\":29.111043869948308}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_load_level\":{\"courier_prediction\":59.111043869948304,\"store_prediction\":195.5}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"load_level\":0,\"store\":{\"prediction\":30,\"orders\":1},\"courier\":{\"prediction\":59.111043869948304}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        }
      ],
      "$stage": "calc_surge"
    },
    {
      "$iteration": 1,
      "$logs": [
        {
          "$level": "info",
          "$message": "{\"orders\":{\"orders\":{\"0\":{\"created\":\"2021-05-17T10:05:08+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null},\"1\":{\"created\":\"2021-05-17T10:03:22+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null},\"2\":{\"created\":\"2021-05-17T10:04:15+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_store_load\":{\"queue\":3,\"packaging_times\":[]}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"supply\":{\"supply\":{\"2424\":{\"info\":{},\"location\":{\"lat\":55.686132,\"lon\":37.567087}},\"60287\":{\"info\":{\"0\":{\"id\":2118859,\"meta_group\":\"lavka\",\"location\":{\"lat\":55.72524400000001,\"lon\":37.566873},\"active_deliveries\":{}}},\"location\":{\"lat\":55.724987,\"lon\":37.568081}},\"69776\":{\"info\":{},\"location\":{\"lat\":55.703063,\"lon\":37.711267}},\"71249\":{\"info\":{},\"location\":{\"lat\":55.73856,\"lon\":37.655943}},\"72554\":{\"info\":{},\"location\":{\"lat\":55.70561,\"lon\":37.61565}},\"87254\":{\"info\":{},\"location\":{\"lat\":55.630096,\"lon\":37.511939}},\"91168\":{\"info\":{},\"location\":{\"lat\":55.54454,\"lon\":37.707871}},\"92348\":{\"info\":{},\"location\":{\"lat\":55.743674,\"lon\":37.429681}},\"93284\":{\"info\":{},\"location\":{\"lat\":55.702607,\"lon\":37.710521}},\"93520\":{\"info\":{},\"location\":{\"lat\":55.783463,\"lon\":37.720232}},\"103547\":{\"info\":{},\"location\":{\"lat\":55.669463,\"lon\":37.546614}},\"106355\":{\"info\":{},\"location\":{\"lat\":55.79766,\"lon\":37.797056}},\"106375\":{\"info\":{},\"location\":{\"lat\":55.682585,\"lon\":37.910998}},\"106383\":{\"info\":{},\"location\":{\"lat\":55.771028,\"lon\":37.632745}},\"108603\":{\"info\":{},\"location\":{\"lat\":55.651084,\"lon\":37.556936}},\"112355\":{\"info\":{},\"location\":{\"lat\":59.851019,\"lon\":30.179782}},\"112360\":{\"info\":{},\"location\":{\"lat\":55.594285,\"lon\":37.613233}},\"117175\":{\"info\":{},\"location\":{\"lat\":59.835659,\"lon\":30.380798}},\"120345\":{\"info\":{},\"location\":{\"lat\":55.759106,\"lon\":37.548788}},\"123456\":{\"info\":{},\"location\":{\"lat\":55.755241,\"lon\":37.617779}},\"125065\":{\"info\":{},\"location\":{\"lat\":55.886473,\"lon\":37.558463}},\"139065\":{\"info\":{},\"location\":{\"lat\":55.669295,\"lon\":37.660566}},\"266222\":{\"info\":{\"0\":{\"id\":592859,\"meta_group\":null,\"location\":{\"lat\":32.090144,\"lon\":34.82043},\"active_deliveries\":{}}},\"location\":{\"lat\":32.090131,\"lon\":34.820551}},\"3143242\":{\"info\":{},\"location\":{\"lat\":48.855311,\"lon\":2.340174}}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_load_level\":{\"courier_prediction\":1800,\"store_prediction\":438.5}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"load_level\":300,\"store\":{\"prediction\":210,\"orders\":3},\"courier\":{\"prediction\":1800}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        }
      ],
      "$stage": "calc_surge"
    },
    {
      "$iteration": 2,
      "$logs": [
        {
          "$level": "info",
          "$message": "{\"orders\":{\"orders\":{\"0\":{\"created\":\"2021-05-17T10:05:08+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null},\"1\":{\"created\":\"2021-05-17T10:03:22+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null},\"2\":{\"created\":\"2021-05-17T10:04:15+00:00\",\"started\":null,\"finished\":null,\"success\":null,\"courier_id\":null}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_store_load\":{\"queue\":3,\"packaging_times\":[]}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"supply\":{\"supply\":{\"2424\":{\"info\":{},\"location\":{\"lat\":55.686132,\"lon\":37.567087}},\"60287\":{\"info\":{\"0\":{\"id\":2118859,\"meta_group\":\"lavka\",\"location\":{\"lat\":55.72524400000001,\"lon\":37.566873},\"active_deliveries\":{}}},\"location\":{\"lat\":55.724987,\"lon\":37.568081}},\"69776\":{\"info\":{},\"location\":{\"lat\":55.703063,\"lon\":37.711267}},\"71249\":{\"info\":{},\"location\":{\"lat\":55.73856,\"lon\":37.655943}},\"72554\":{\"info\":{},\"location\":{\"lat\":55.70561,\"lon\":37.61565}},\"87254\":{\"info\":{},\"location\":{\"lat\":55.630096,\"lon\":37.511939}},\"91168\":{\"info\":{},\"location\":{\"lat\":55.54454,\"lon\":37.707871}},\"92348\":{\"info\":{},\"location\":{\"lat\":55.743674,\"lon\":37.429681}},\"93284\":{\"info\":{},\"location\":{\"lat\":55.702607,\"lon\":37.710521}},\"93520\":{\"info\":{},\"location\":{\"lat\":55.783463,\"lon\":37.720232}},\"103547\":{\"info\":{},\"location\":{\"lat\":55.669463,\"lon\":37.546614}},\"106355\":{\"info\":{},\"location\":{\"lat\":55.79766,\"lon\":37.797056}},\"106375\":{\"info\":{},\"location\":{\"lat\":55.682585,\"lon\":37.910998}},\"106383\":{\"info\":{},\"location\":{\"lat\":55.771028,\"lon\":37.632745}},\"108603\":{\"info\":{},\"location\":{\"lat\":55.651084,\"lon\":37.556936}},\"112355\":{\"info\":{},\"location\":{\"lat\":59.851019,\"lon\":30.179782}},\"112360\":{\"info\":{},\"location\":{\"lat\":55.594285,\"lon\":37.613233}},\"117175\":{\"info\":{},\"location\":{\"lat\":59.835659,\"lon\":30.380798}},\"120345\":{\"info\":{},\"location\":{\"lat\":55.759106,\"lon\":37.548788}},\"123456\":{\"info\":{},\"location\":{\"lat\":55.755241,\"lon\":37.617779}},\"125065\":{\"info\":{},\"location\":{\"lat\":55.886473,\"lon\":37.558463}},\"139065\":{\"info\":{},\"location\":{\"lat\":55.669295,\"lon\":37.660566}},\"266222\":{\"info\":{\"0\":{\"id\":592859,\"meta_group\":null,\"location\":{\"lat\":32.090144,\"lon\":34.82043},\"active_deliveries\":{}}},\"location\":{\"lat\":32.090131,\"lon\":34.820551}},\"3143242\":{\"info\":{},\"location\":{\"lat\":48.855311,\"lon\":2.340174}}}}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"get_load_level\":{\"courier_prediction\":1800,\"store_prediction\":438.5}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        },
        {
          "$level": "info",
          "$message": "{\"load_level\":300,\"store\":{\"prediction\":210,\"orders\":3},\"courier\":{\"prediction\":1800}}",
          "$region": "user_code",
          "$timestamp": "2021-05-17T10:06:21+0000"
        }
      ],
      "$stage": "calc_surge"
    }
  ],
  "$pipeline_id": "b120cabf-e792-494c-9d0d-13350d33a009",
  "$pipeline_name": "calc_surge_grocery_v1_pull",
  "$resources": {
    "depot_carts": {
      "$instance": {
        "carts": []
      },
      "$params": {
        "depot_id": "266222"
      },
      "$resource_id": "depot_carts"
    },
    "depot_settings": {
      "$instance": "<not JSON serializable>",
      "$params": {},
      "$resource_id": "depot_settings"
    },
    "depot_state": {
      "$instance": {
        "orders": [
          {
            "created": "2020-04-12T08:50:00+00:00",
            "dispatch_status": "new",
            "location": {
              "lat": 55.7,
              "lon": 37.6
            },
            "order_id": "test_order_id",
            "order_status": "assembled"
          }
        ],
        "performers": [
          {
            "performer_id": "dbid0_uuid777",
            "performer_status": "idle",
            "position": {
              "lat": 55.5,
              "lon": 37.5
            },
            "transport_type": ""
          }
        ]
      },
      "$params": {
        "depot_id": "1"
      },
      "$resource_id": "depot_state"
    }
  },
  "depots_out": [
    {
      "depot_id": {
        "$history": [
          {
            "$meta_idx": 1,
            "$value": "266222"
          }
        ]
      },
      "result": {
        "load_level": {
          "$history": [
            {
              "$meta_idx": 1,
              "$value": 300.11800030001
            }
          ]
        }
      }
    },
    {
      "depot_id": {
        "$history": [
          {
            "$meta_idx": 2,
            "$value": "60287"
          }
        ]
      },
      "result": {
        "load_level": {
          "$history": [
            {
              "$meta_idx": 2,
              "$value": 0.10050030001
            }
          ]
        }
      }
    },
    {
      "depot_id": {
        "$history": [
          {
            "$meta_idx": 3,
            "$value": "123456"
          }
        ]
      },
      "result": {
        "load_level": {
          "$history": [
            {
              "$meta_idx": 3,
              "$value": 300.11800210001
            }
          ]
        }
      }
    }
  ]
}
