{
  "js_source_code": "\nlet res_surge = clone(surge);\n\nif (is_present(res_surge.surcharge)) {\n  const factor = Math.pow(10, kAlphaBetaPrecision);\n  res_surge.surcharge.alpha = Math.round(res_surge.surcharge.alpha * factor) / factor;\n  res_surge.surcharge.beta = Math.round(res_surge.surcharge.beta * factor) / factor;\n}\n\nconst factor = Math.pow(10, precision);\nres_surge.value = Math.round(res_surge.value * factor) / factor;\nreturn { surge: res_surge };\n",
  "signature": {
    "arguments": [
      {
        "name": "precision",
        "schema": {
          "type": "number"
        }
      },
      {
        "name": "surge",
        "schema": {
          "additionalProperties": false,
          "description": "Коэффициенты сурджа для ценообразования",
          "properties": {
            "surcharge": {
              "additionalProperties": false,
              "description": "Коэффициенты в формуле cost_1 = cost_0 * (surge_value * alpha + beta) + beta * surcharge",
              "properties": {
                "alpha": {
                  "description": "Коэффициент alpha расчета надбавки",
                  "minimum": 0,
                  "type": "number"
                },
                "beta": {
                  "description": "Коэффициент beta расчета надбавки",
                  "minimum": 0,
                  "type": "number"
                },
                "value": {
                  "description": "Надбавка",
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "alpha",
                "beta",
                "value"
              ],
              "type": "object"
            },
            "value": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "value"
          ],
          "type": "object"
        }
      }
    ],
    "return_value": {
      "schema": {
        "additionalProperties": false,
        "properties": {
          "surge": {
            "additionalProperties": false,
            "description": "Коэффициенты сурджа для ценообразования",
            "properties": {
              "surcharge": {
                "additionalProperties": false,
                "description": "Коэффициенты в формуле cost_1 = cost_0 * (surge_value * alpha + beta) + beta * surcharge",
                "properties": {
                  "alpha": {
                    "description": "Коэффициент alpha расчета надбавки",
                    "minimum": 0,
                    "type": "number"
                  },
                  "beta": {
                    "description": "Коэффициент beta расчета надбавки",
                    "minimum": 0,
                    "type": "number"
                  },
                  "value": {
                    "description": "Надбавка",
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "alpha",
                  "beta",
                  "value"
                ],
                "type": "object"
              },
              "value": {
                "format": "double",
                "type": "number"
              }
            },
            "required": [
              "value"
            ],
            "type": "object"
          }
        },
        "required": [
          "surge"
        ],
        "type": "object"
      }
    }
  }
}
