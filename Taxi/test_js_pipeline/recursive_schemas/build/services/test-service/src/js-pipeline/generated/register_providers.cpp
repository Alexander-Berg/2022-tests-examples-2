/* THIS FILE IS AUTOGENERATED, DON'T EDIT! */

#include "register_providers.hpp"

#include "providers/global_test_resource_resource_provider.hpp"
#include "providers/global_test_typed_resource_resource_provider.hpp"

#include "consumers.hpp"

namespace js_pipeline::generated {

using ::js_pipeline::fetching::schema::ConsumerRegistry;

RegisterStaticProviders::RegisterStaticProviders() {
  // small trick: upper level ctor can be called more than once
  // due to some internal linkage shenanigans, but local statics' ctors don't
  // https://stackoverflow.com/questions/26547454/static-variable-is-initialized-twice
  struct Impl {
    Impl() {
      ConsumerRegistry<consumers::GlobalTag>::Get();
      ConsumerRegistry<consumers::TestConsumerTag>::Get();

      RegisterGlobalTestResourceResource();
      RegisterGlobalTestTypedResourceResource();
    }
  };

  static const Impl impl;
}

}
