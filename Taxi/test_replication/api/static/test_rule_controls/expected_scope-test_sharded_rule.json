{
  "diagnostics": [
    {
      "alert_status": "ok",
      "description": "",
      "link": "arcadia/test_sharded_rule",
      "name": "arcadia"
    },
    {
      "alert_status": "ok",
      "description": "",
      "link": "https://unittests/drafts&zones=test_sharded_rule",
      "name": "drafts"
    },
    {
      "alert_status": "ok",
      "description": "",
      "link": "https://kibana:/test_sharded_rule",
      "name": "kibana errors"
    }
  ],
  "extra_filters_names": [
    "queue_collection",
    "queue_database",
    "replication_type",
    "responsible",
    "yt_path"
  ],
  "rule_scope": "test_sharded_rule",
  "rules": [
    {
      "alert_status": "crit",
      "destinations": [
        {
          "alert_status": "crit",
          "diagnostics": [
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://unittests/dev/cron/replication-replicate-mongo-test_sharded_rule",
              "name": "replication cron"
            },
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://grafana.yandex-team.ru/dashboard/db/taxi_replication_rules_stat_testing?var-replication_rule=test_sharded_rule&var-target_name=queue_mongo-staging_test_sharded_rule",
              "name": "grafana target graphs"
            },
            {
              "alert_status": "crit",
              "description": "",
              "link": "https://unittests/dev/cron/replication-verify-mongo-test_sharded_rule",
              "name": "verification cron"
            }
          ],
          "extra_filters": [
            {
              "name": "queue_collection",
              "value": "test_sharded_rule"
            },
            {
              "name": "queue_database",
              "values": [
                "replication_queue_mdb_0"
              ]
            },
            {
              "name": "replication_type",
              "value": "queue"
            },
            {
              "name": "responsible",
              "values": [
                "testsuite"
              ]
            }
          ],
          "meta": {
            "source_type": "mongo",
            "stamp": "14-03-2019 03:00:00 UTC",
            "target_info_markdown": "replication_queue_mdb_0: [mdb](graph_link_replication_queue_mdb_0) | [grafana queue stat](replication_queue_mdb_0)",
            "target_type": "queue_mongo"
          },
          "name": "staging_test_sharded_rule",
          "raw_meta": {
            "replication": [
              {
                "id": "ReplicationStateTS(mongo-test_sharded_rule-queue_mongo-staging_test_sharded_rule): enabled",
                "last_synced": "2019-03-16 02:59:55 UTC",
                "last_ts": "2019-03-14 03:00:00 UTC",
                "queue_collection": "test_sharded_rule"
              }
            ],
            "verification": [
              {
                "_id": "mongo-test_sharded_rule",
                "fails": {
                  "some_id": "some_error",
                  "some_id2": "some_error"
                },
                "last_stamp": {
                  "$datetime": "2019-03-16T02:59:55"
                },
                "last_synced": {
                  "$datetime": "2019-03-16T02:59:55"
                },
                "replication_rule_name": "test_sharded_rule"
              }
            ]
          },
          "state": "enabled"
        },
        {
          "alert_status": "ok",
          "diagnostics": [
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://unittests/dev/cron/replication-replicate-queue_mongo-test_sharded_rule",
              "name": "replication cron"
            },
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://grafana.yandex-team.ru/dashboard/db/taxi_replication_rules_stat_testing?var-replication_rule=test_sharded_rule&var-target_name=yt-test_sharded_rule_no_partial",
              "name": "grafana target graphs"
            }
          ],
          "extra_filters": [
            {
              "name": "replication_type",
              "value": "queue"
            },
            {
              "name": "responsible",
              "values": [
                "testsuite"
              ]
            },
            {
              "name": "yt_path",
              "value": "//home/taxi/unittests/test/test_struct_sharded_no_partial"
            }
          ],
          "meta": {
            "source_type": "queue_mongo",
            "target_info_markdown": "taxi test/test_struct_sharded_no_partial\n[arni](https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial) | [hahn](https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial)",
            "target_type": "yt"
          },
          "name": "test_sharded_rule_no_partial",
          "raw_meta": {
            "replication": [
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_no_partial-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_no_partial-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_no_partial-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_no_partial-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_no_partial-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_no_partial-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_no_partial-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_no_partial-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded_no_partial"
              }
            ]
          },
          "state": "not_initialized"
        },
        {
          "alert_status": "ok",
          "diagnostics": [
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://unittests/dev/cron/replication-replicate-queue_mongo-test_sharded_rule",
              "name": "replication cron"
            },
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://grafana.yandex-team.ru/dashboard/db/taxi_replication_rules_stat_testing?var-replication_rule=test_sharded_rule&var-target_name=yt-test_sharded_rule_sharded_struct",
              "name": "grafana target graphs"
            }
          ],
          "extra_filters": [
            {
              "name": "replication_type",
              "value": "queue"
            },
            {
              "name": "responsible",
              "values": [
                "testsuite"
              ]
            },
            {
              "name": "yt_path",
              "value": "//home/taxi/unittests/test/test_struct_sharded"
            }
          ],
          "meta": {
            "source_type": "queue_mongo",
            "target_info_markdown": "taxi test/test_struct_sharded\n[arni](https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded) | [hahn](https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded) | [seneca-man](https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded) | [seneca-vla](https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded)",
            "target_type": "yt"
          },
          "name": "test_sharded_rule_sharded_struct",
          "raw_meta": {
            "replication": [
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_0_4-yt-test_sharded_rule_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_1_4-yt-test_sharded_rule_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_2_4-yt-test_sharded_rule_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule_3_4-yt-test_sharded_rule_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              }
            ]
          },
          "state": "not_initialized"
        }
      ],
      "global_state": "mixed",
      "name": "test_sharded_rule",
      "source_description": {
        "link": "",
        "source_type": "mongo"
      }
    },
    {
      "alert_status": "crit",
      "destinations": [
        {
          "alert_status": "crit",
          "diagnostics": [
            {
              "alert_status": "crit",
              "description": "Task has no successful runs: 2880 min > 16 min",
              "link": "https://unittests/dev/cron/replication-replicate-mongo-test_sharded_rule2",
              "name": "replication cron"
            },
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://grafana.yandex-team.ru/dashboard/db/taxi_replication_rules_stat_testing?var-replication_rule=test_sharded_rule2&var-target_name=queue_mongo-staging_test_sharded_rule2",
              "name": "grafana target graphs"
            }
          ],
          "extra_filters": [
            {
              "name": "queue_collection",
              "value": "test_sharded_rule2"
            },
            {
              "name": "queue_database",
              "values": [
                "replication_queue_mdb_0"
              ]
            },
            {
              "name": "replication_type",
              "value": "queue"
            },
            {
              "name": "responsible",
              "values": [
                "testsuite"
              ]
            }
          ],
          "meta": {
            "source_type": "mongo",
            "stamp": "13-02-2019 03:00:00 UTC",
            "target_info_markdown": "replication_queue_mdb_0: [mdb](graph_link_replication_queue_mdb_0) | [grafana queue stat](replication_queue_mdb_0)",
            "target_type": "queue_mongo"
          },
          "name": "staging_test_sharded_rule2",
          "raw_meta": {
            "replication": [
              {
                "id": "ReplicationStateTS(mongo-test_sharded_rule2-queue_mongo-staging_test_sharded_rule2): enabled",
                "last_synced": "2019-03-14 03:00:00 UTC",
                "last_ts": "2019-02-13 03:00:00 UTC",
                "queue_collection": "test_sharded_rule2"
              }
            ]
          },
          "state": "enabled"
        },
        {
          "alert_status": "ok",
          "diagnostics": [
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://unittests/dev/cron/replication-replicate-queue_mongo-test_sharded_rule2",
              "name": "replication cron"
            },
            {
              "alert_status": "ok",
              "description": "",
              "link": "https://grafana.yandex-team.ru/dashboard/db/taxi_replication_rules_stat_testing?var-replication_rule=test_sharded_rule2&var-target_name=yt-test_sharded_rule2_sharded_struct",
              "name": "grafana target graphs"
            }
          ],
          "extra_filters": [
            {
              "name": "replication_type",
              "value": "queue"
            },
            {
              "name": "responsible",
              "values": [
                "testsuite"
              ]
            },
            {
              "name": "yt_path",
              "value": "//home/taxi/unittests/test/test_struct_sharded"
            }
          ],
          "meta": {
            "source_type": "queue_mongo",
            "target_info_markdown": "taxi test/test_struct_sharded\n[arni](https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded) | [hahn](https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded) | [seneca-man](https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded) | [seneca-vla](https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded)",
            "target_type": "yt"
          },
          "name": "test_sharded_rule2_sharded_struct",
          "raw_meta": {
            "replication": [
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_0_4-yt-test_sharded_rule2_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_0_4-yt-test_sharded_rule2_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_0_4-yt-test_sharded_rule2_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_0_4-yt-test_sharded_rule2_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_1_4-yt-test_sharded_rule2_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_1_4-yt-test_sharded_rule2_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_1_4-yt-test_sharded_rule2_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_1_4-yt-test_sharded_rule2_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_2_4-yt-test_sharded_rule2_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_2_4-yt-test_sharded_rule2_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_2_4-yt-test_sharded_rule2_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_2_4-yt-test_sharded_rule2_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_3_4-yt-test_sharded_rule2_sharded_struct-arni): not initialized",
                "yt_path": "https://yt/arni/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_3_4-yt-test_sharded_rule2_sharded_struct-hahn): not initialized",
                "yt_path": "https://yt/hahn/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_3_4-yt-test_sharded_rule2_sharded_struct-seneca-man): not initialized",
                "yt_path": "https://yt/seneca-man/?path=//home/taxi/unittests/test/test_struct_sharded"
              },
              {
                "id": "ReplicationStateTS(queue_mongo-staging_test_sharded_rule2_3_4-yt-test_sharded_rule2_sharded_struct-seneca-vla): not initialized",
                "yt_path": "https://yt/seneca-vla/?path=//home/taxi/unittests/test/test_struct_sharded"
              }
            ]
          },
          "state": "not_initialized"
        }
      ],
      "global_state": "mixed",
      "name": "test_sharded_rule2",
      "source_description": {
        "link": "",
        "source_type": "mongo"
      }
    }
  ]
}
