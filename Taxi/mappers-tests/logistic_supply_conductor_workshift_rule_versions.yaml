# Created with generator. Save this comment for future reference.
# Launch args: --source postgres --rewrite-rule --tables logistic_supply_conductor.workshift_rule_versions --primary-keys id --yt-struct --excluded-fields dispatch_priority free_time schedule --debug
  - input:
        id: 162
        rule_id: 168
        publish_at:
            $a:
                raw_type: datetime
            $v: '2021-08-14T07:00:00+00:00'
        published_since:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749+00:00'
        tags_on_subscription:
          - testtest
        order_source:
          - B2B
        revision: 2
        version: 1
        removed_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749+00:00'
        availability_courier_requirements:
          - requirement_names:
              - x
        descriptive_items:
          - name: subsidy
            value: '120'
          - name: fast
            value: '10'
        employer_names: []
        passthrough_revision: 1
        updated_ts:
            $a:
                raw_type: datetime
            $v: '2021-09-30T13:29:20.352487+00:00'
    expected:
      - id: 162
        rule_id: 168
        publish_at: 1628924400.0
        published_since: 1591620237.508749
        tags_on_subscription:
          - testtest
        order_source:
          - B2B
        revision: 2
        version: 1
        removed_at: 1591620237.508749
        availability_courier_requirements:
          - requirement_names:
              - x
        descriptive_items:
          - name: subsidy
            value: '120'
          - name: fast
            value: '10'
        employer_names: []
        passthrough_revision: 1
        updated_ts: 1633008560.352487
  - input:
        id: 177
        rule_id: 187
        publish_at:
            $a:
                raw_type: datetime
            $v: '2021-08-17T03:00:00+00:00'
        published_since:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749+00:00'
        tags_on_subscription:
          - dasha
        order_source:
          - C2C
          - B2B
        revision: 1
        version: 1
        removed_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749+00:00'
        availability_courier_requirements:
          - requirement_names:
              - x
              - y
              - z
        descriptive_items:
          - name: fast
            value: '1'
        employer_names: []
        passthrough_revision: 2
        updated_ts:
            $a:
                raw_type: datetime
            $v: '2021-09-30T13:29:20.352487+00:00'
    expected:
      - id: 177
        rule_id: 187
        publish_at: 1629169200.0
        published_since: 1591620237.508749
        tags_on_subscription:
          - dasha
        order_source:
          - C2C
          - B2B
        revision: 1
        version: 1
        removed_at: 1591620237.508749
        availability_courier_requirements:
          - requirement_names:
              - x
              - y
              - z
        descriptive_items:
          - name: fast
            value: '1'
        employer_names: []
        passthrough_revision: 2
        updated_ts: 1633008560.352487
  - input:
        id: 175
        rule_id: 180
        publish_at:
            $a:
                raw_type: datetime
            $v: '2021-08-14T00:00:00+00:00'
        published_since:
            $a:
                raw_type: datetime
            $v: '2021-08-14T00:00:37.533105+00:00'
        tags_on_subscription:
          - dasha
        order_source: []
        revision: 1
        version: 1
        removed_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749+00:00'
        availability_courier_requirements:
          - requirement_names:
              - x
              - y
              - z
          - requirement_names:
              - x
        descriptive_items:
          - name: fast
            value: ''
          - name: subsidy
            value: cdfdfdf
          - name: fast
            value: dffdddfdfd
          - name: fast
            value: ''
        employer_names: []
        passthrough_revision: 3
        updated_ts:
            $a:
                raw_type: datetime
            $v: '2021-09-30T13:29:20.352487+00:00'
    expected:
      - id: 175
        rule_id: 180
        publish_at: 1628899200.0
        published_since: 1628899237.533105
        tags_on_subscription:
          - dasha
        order_source: []
        revision: 1
        version: 1
        removed_at: 1591620237.508749
        availability_courier_requirements:
          - requirement_names:
              - x
              - y
              - z
          - requirement_names:
              - x
        descriptive_items:
          - name: fast
            value: ''
          - name: subsidy
            value: cdfdfdf
          - name: fast
            value: dffdddfdfd
          - name: fast
            value: ''
        employer_names: []
        passthrough_revision: 3
        updated_ts: 1633008560.352487
