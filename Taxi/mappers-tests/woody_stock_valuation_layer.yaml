# Created with generator. Save this comment for future reference.
# Launch args: --source postgres --database woody --tables account_account account_account_type account_journal account_move account_move_line account_payment account_payment_register mail_message mail_tracking_value product_template purchase_order purchase_order_line purchase_requisition_line res_company res_partner res_users sale_order sale_order_line stock_inventory stock_inventory_line stock_location stock_move stock_picking stock_quant stock_scrap product_product purchase_requisition stock_valuation_layer stock_warehouse --scope woody --replicate-by write_date --primary-keys id --yt-struct --excluded-fields logo_web password
  - input:
        account_move_id: 20
        company_id: 1
        create_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:48:25.438708'
        create_uid: 2
        description: PO000000000000001
        document_date:
            $a:
                raw_type: date
            $v: '2021-05-07'
        document_datetime:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:46:45'
        has_reverse: false
        id: 1
        inventory_id: 20
        is_storno: false
        location_id: 18
        price_rule: price_rule_purchase_order
        product_id: 399
        purchase_line_id: 1
        quantity:
            $a:
                raw_type: decimal
            $v: '3.0'
        remaining_qty:
            $a:
                raw_type: decimal
            $v: '3.0'
        remaining_value:
            $a:
                raw_type: decimal
            $v: '9.0'
        sale_order_line: 20
        scrap_id: 20
        sequence: 23
        stock_move_id: 1
        stock_valuation_layer_id: 20
        storned: true
        tax_id: 2
        tax_sum:
            $a:
                raw_type: decimal
            $v: '1.35'
        trans_id: 3143242-000000000000000000000000000001
        trans_system_group: PURCHASE_ACCRUAL
        transaction_system_name: P_ACCR
        unit_cost:
            $a:
                raw_type: decimal
            $v: '3.0'
        value:
            $a:
                raw_type: decimal
            $v: '9.0'
        warehouse_id: 2
        write_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:55:42.699630'
        write_uid: 2
    expected:
      - id: 1
        company_id: 1
        product_id: 399
        quantity: 3000000
        unit_cost: 3000000
        value: 9000000
        remaining_qty: 3000000
        remaining_value: 9000000
        description: PO000000000000001
        stock_valuation_layer_id: 20
        stock_move_id: 1
        account_move_id: 20
        create_uid: 2
        create_date: 1620388105.438708
        write_uid: 2
        write_date: 1620388542.69963
        trans_id: 3143242-000000000000000000000000000001
        transaction_system_name: P_ACCR
        trans_system_group: PURCHASE_ACCRUAL
        location_id: 18
        warehouse_id: 2
        has_reverse: false
        inventory_id: 20
        purchase_line_id: 1
        sale_order_line: 20
        scrap_id: 20
        document_date: '2021-05-07'
        price_rule: price_rule_purchase_order
        document_datetime: 1620388005.0
        tax_id: 2
        tax_sum: 1350000
        is_storno: false
        storned: true
        sequence: 23
  - input:
        account_move_id: 20
        company_id: 1
        create_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:51:35.386539'
        create_uid: 2
        description: PO000000000000001
        document_date:
            $a:
                raw_type: date
            $v: '2021-05-07'
        document_datetime:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:50:39'
        has_reverse: false
        id: 2
        inventory_id: 20
        is_storno: false
        location_id: 18
        price_rule: price_rule_purchase_order
        product_id: 397
        purchase_line_id: 3
        quantity:
            $a:
                raw_type: decimal
            $v: '2.0'
        remaining_qty:
            $a:
                raw_type: decimal
            $v: '2.0'
        remaining_value:
            $a:
                raw_type: decimal
            $v: '10.0'
        sale_order_line: 20
        scrap_id: 20
        sequence: 23
        stock_move_id: 2
        stock_valuation_layer_id: 20
        storned: true
        tax_id: 2
        tax_sum:
            $a:
                raw_type: decimal
            $v: '1.5'
        trans_id: 3143242-000000000000000000000000000002
        trans_system_group: PURCHASE_ACCRUAL
        transaction_system_name: P_ACCR
        unit_cost:
            $a:
                raw_type: decimal
            $v: '5.0'
        value:
            $a:
                raw_type: decimal
            $v: '10.0'
        warehouse_id: 2
        write_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:55:42.699630'
        write_uid: 2
    expected:
      - id: 2
        company_id: 1
        product_id: 397
        quantity: 2000000
        unit_cost: 5000000
        value: 10000000
        remaining_qty: 2000000
        remaining_value: 10000000
        description: PO000000000000001
        stock_valuation_layer_id: 20
        stock_move_id: 2
        account_move_id: 20
        create_uid: 2
        create_date: 1620388295.386539
        write_uid: 2
        write_date: 1620388542.69963
        trans_id: 3143242-000000000000000000000000000002
        transaction_system_name: P_ACCR
        trans_system_group: PURCHASE_ACCRUAL
        location_id: 18
        warehouse_id: 2
        has_reverse: false
        inventory_id: 20
        purchase_line_id: 3
        sale_order_line: 20
        scrap_id: 20
        document_date: '2021-05-07'
        price_rule: price_rule_purchase_order
        document_datetime: 1620388239.0
        tax_id: 2
        tax_sum: 1500000
        is_storno: false
        storned: true
        sequence: 23
  - input:
        account_move_id: 1
        company_id: 1
        create_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:55:42.699630'
        create_uid: 2
        description: PO000000000000001
        document_date:
            $a:
                raw_type: date
            $v: '2021-05-07'
        document_datetime:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:53:50.693400'
        has_reverse: false
        id: 3
        inventory_id: 20
        is_storno: true
        location_id: 18
        price_rule: price_rule_st_accrual
        product_id: 399
        purchase_line_id: 1
        quantity:
            $a:
                raw_type: decimal
            $v: '-3.0'
        remaining_qty:
            $a:
                raw_type: decimal
            $v: '0.0'
        remaining_value:
            $a:
                raw_type: decimal
            $v: '0.0'
        sale_order_line: 20
        scrap_id: 20
        sequence: 23
        stock_move_id: 3
        stock_valuation_layer_id: 1
        storned: true
        tax_id: 2
        tax_sum:
            $a:
                raw_type: decimal
            $v: '-1.35'
        trans_id: 3143242-000000000000000000000000000003
        trans_system_group: PURCHASE_INVOICE
        transaction_system_name: ST_ACCR
        unit_cost:
            $a:
                raw_type: decimal
            $v: '3.0'
        value:
            $a:
                raw_type: decimal
            $v: '-9.0'
        warehouse_id: 2
        write_date:
            $a:
                raw_type: datetime
            $v: '2021-05-07T11:55:42.699630'
        write_uid: 2
    expected:
      - id: 3
        company_id: 1
        product_id: 399
        quantity: -3000000
        unit_cost: 3000000
        value: -9000000
        remaining_qty: 0
        remaining_value: 0
        description: PO000000000000001
        stock_valuation_layer_id: 1
        stock_move_id: 3
        account_move_id: 1
        create_uid: 2
        create_date: 1620388542.69963
        write_uid: 2
        write_date: 1620388542.69963
        trans_id: 3143242-000000000000000000000000000003
        transaction_system_name: ST_ACCR
        trans_system_group: PURCHASE_INVOICE
        location_id: 18
        warehouse_id: 2
        has_reverse: false
        inventory_id: 20
        purchase_line_id: 1
        sale_order_line: 20
        scrap_id: 20
        document_date: '2021-05-07'
        price_rule: price_rule_st_accrual
        document_datetime: 1620388430.6934
        tax_id: 2
        tax_sum: -1350000
        is_storno: true
        storned: true
        sequence: 23
