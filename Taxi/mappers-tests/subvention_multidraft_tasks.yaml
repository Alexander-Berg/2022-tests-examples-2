# Created with generator. Save this comment for future reference.
# Launch args: --source postgres --secret-source POSTGRES_TAXI_OPERATION_CALCULATIONS --responsible atlas --scope operation_calculations --yt-struct --snapshot --tables operation_calculations.subvention_multidraft_tasks --rule-name subvention_multidraft_tasks
  - input:
        id: cbf32e7d5fc6436f8e9b03cc42c6d1bb
        params: '{"tag": "123", "end_at": "2022-10-30T00:00:00", "tariffs": ["econom",
            "uberx", "vezeteconom", "comfortplus", "standart"], "task_id": "617ba3588d260600490b9ee5",
            "begin_at": "2021-10-30T00:00:00", "tariff_zones": ["kazan"], "draft_polygons":
            {"prefix": "kazan_iter_1_", "polygons": [{"name": "pol0", "polyId": "617ba3588d260600490b9ee5pol0",
            "draft_name": "pol0"}, {"name": "pol1", "polyId": "617ba3588d260600490b9ee5pol1",
            "draft_name": "pol1"}, {"name": "pol2", "polyId": "617ba3588d260600490b9ee5pol2",
            "draft_name": "pol2"}, {"name": "pol3", "polyId": "617ba3588d260600490b9ee5pol3",
            "draft_name": "pol3"}, {"name": "pol4", "polyId": "617ba3588d260600490b9ee5pol4",
            "draft_name": "pol4"}, {"name": "pol5", "polyId": "617ba3588d260600490b9ee5pol5",
            "draft_name": "pol5"}, {"name": "pol6", "polyId": "617ba3588d260600490b9ee5pol6",
            "draft_name": "pol6"}, {"name": "pol7", "polyId": "617ba3588d260600490b9ee5pol7",
            "draft_name": "pol7"}, {"name": "pol8", "polyId": "617ba3588d260600490b9ee5pol8",
            "draft_name": "pol8"}]}, "activity_points": 0, "with_experiments": false,
            "close_all_current_rules": true}'
        created_by: dkonturov
        referer: example_string
        created_at:
            $a:
                raw_type: datetime
            $v: '2021-10-29T15:50:46.911711+00:00'
    expected:
      - id: cbf32e7d5fc6436f8e9b03cc42c6d1bb
        params:
            tag: '123'
            end_at: '2022-10-30T00:00:00'
            tariffs:
              - econom
              - uberx
              - vezeteconom
              - comfortplus
              - standart
            task_id: 617ba3588d260600490b9ee5
            begin_at: '2021-10-30T00:00:00'
            tariff_zones:
              - kazan
            draft_polygons:
                prefix: kazan_iter_1_
                polygons:
                  - name: pol0
                    polyId: 617ba3588d260600490b9ee5pol0
                    draft_name: pol0
                  - name: pol1
                    polyId: 617ba3588d260600490b9ee5pol1
                    draft_name: pol1
                  - name: pol2
                    polyId: 617ba3588d260600490b9ee5pol2
                    draft_name: pol2
                  - name: pol3
                    polyId: 617ba3588d260600490b9ee5pol3
                    draft_name: pol3
                  - name: pol4
                    polyId: 617ba3588d260600490b9ee5pol4
                    draft_name: pol4
                  - name: pol5
                    polyId: 617ba3588d260600490b9ee5pol5
                    draft_name: pol5
                  - name: pol6
                    polyId: 617ba3588d260600490b9ee5pol6
                    draft_name: pol6
                  - name: pol7
                    polyId: 617ba3588d260600490b9ee5pol7
                    draft_name: pol7
                  - name: pol8
                    polyId: 617ba3588d260600490b9ee5pol8
                    draft_name: pol8
            activity_points: 0
            with_experiments: false
            close_all_current_rules: true
        created_by: dkonturov
        referer: example_string
        created_at: '2021-10-29T15:50:46.911711+00:00'
  - input:
        id: b9def726133741bb957ac1c350e1ffed
        params: '{"tag": "123", "end_at": "2022-10-30T00:00:00", "tariffs": ["econom",
            "uberx", "vezeteconom", "comfortplus", "standart"], "task_id": "617ba3588d260600490b9ee5",
            "begin_at": "2021-10-30T00:00:00", "tariff_zones": ["kazan"], "draft_polygons":
            {"prefix": "kazan_iter_1_", "polygons": [{"name": "pol0", "polyId": "617ba3588d260600490b9ee5pol0",
            "draft_name": "pol0"}, {"name": "pol1", "polyId": "617ba3588d260600490b9ee5pol1",
            "draft_name": "pol1"}, {"name": "pol2", "polyId": "617ba3588d260600490b9ee5pol2",
            "draft_name": "pol2"}, {"name": "pol3", "polyId": "617ba3588d260600490b9ee5pol3",
            "draft_name": "pol3"}, {"name": "pol4", "polyId": "617ba3588d260600490b9ee5pol4",
            "draft_name": "pol4"}, {"name": "pol5", "polyId": "617ba3588d260600490b9ee5pol5",
            "draft_name": "pol5"}, {"name": "pol6", "polyId": "617ba3588d260600490b9ee5pol6",
            "draft_name": "pol6"}, {"name": "pol7", "polyId": "617ba3588d260600490b9ee5pol7",
            "draft_name": "pol7"}, {"name": "pol8", "polyId": "617ba3588d260600490b9ee5pol8",
            "draft_name": "pol8"}]}, "activity_points": 0, "with_experiments": false,
            "close_all_current_rules": true}'
        created_by: dkonturov
        referer: example_string
        created_at:
            $a:
                raw_type: datetime
            $v: '2021-11-01T11:17:46.185758+00:00'
    expected:
      - id: b9def726133741bb957ac1c350e1ffed
        params:
            tag: '123'
            end_at: '2022-10-30T00:00:00'
            tariffs:
              - econom
              - uberx
              - vezeteconom
              - comfortplus
              - standart
            task_id: 617ba3588d260600490b9ee5
            begin_at: '2021-10-30T00:00:00'
            tariff_zones:
              - kazan
            draft_polygons:
                prefix: kazan_iter_1_
                polygons:
                  - name: pol0
                    polyId: 617ba3588d260600490b9ee5pol0
                    draft_name: pol0
                  - name: pol1
                    polyId: 617ba3588d260600490b9ee5pol1
                    draft_name: pol1
                  - name: pol2
                    polyId: 617ba3588d260600490b9ee5pol2
                    draft_name: pol2
                  - name: pol3
                    polyId: 617ba3588d260600490b9ee5pol3
                    draft_name: pol3
                  - name: pol4
                    polyId: 617ba3588d260600490b9ee5pol4
                    draft_name: pol4
                  - name: pol5
                    polyId: 617ba3588d260600490b9ee5pol5
                    draft_name: pol5
                  - name: pol6
                    polyId: 617ba3588d260600490b9ee5pol6
                    draft_name: pol6
                  - name: pol7
                    polyId: 617ba3588d260600490b9ee5pol7
                    draft_name: pol7
                  - name: pol8
                    polyId: 617ba3588d260600490b9ee5pol8
                    draft_name: pol8
            activity_points: 0
            with_experiments: false
            close_all_current_rules: true
        created_by: dkonturov
        referer: example_string
        created_at: '2021-11-01T11:17:46.185758+00:00'
  - input:
        id: 97e43aabeb2247e5872f6e936a2775e5
        params: '{"tag": "123", "end_at": "2022-10-30T00:00:00", "tariffs": ["econom",
            "uberx", "vezeteconom", "comfortplus", "standart"], "task_id": "617ba3588d260600490b9ee5",
            "begin_at": "2021-10-30T00:00:00", "tariff_zones": ["kazan"], "draft_polygons":
            {"prefix": "kazan_iter_1_", "polygons": [{"name": "pol0", "polyId": "617ba3588d260600490b9ee5pol0",
            "draft_name": "pol0"}, {"name": "pol1", "polyId": "617ba3588d260600490b9ee5pol1",
            "draft_name": "pol1"}, {"name": "pol2", "polyId": "617ba3588d260600490b9ee5pol2",
            "draft_name": "pol2"}, {"name": "pol3", "polyId": "617ba3588d260600490b9ee5pol3",
            "draft_name": "pol3"}, {"name": "pol4", "polyId": "617ba3588d260600490b9ee5pol4",
            "draft_name": "pol4"}, {"name": "pol5", "polyId": "617ba3588d260600490b9ee5pol5",
            "draft_name": "pol5"}, {"name": "pol6", "polyId": "617ba3588d260600490b9ee5pol6",
            "draft_name": "pol6"}, {"name": "pol7", "polyId": "617ba3588d260600490b9ee5pol7",
            "draft_name": "pol7"}, {"name": "pol8", "polyId": "617ba3588d260600490b9ee5pol8",
            "draft_name": "pol8"}]}, "activity_points": 0, "with_experiments": false,
            "close_all_current_rules": true}'
        created_by: dkonturov
        referer: example_string
        created_at:
            $a:
                raw_type: datetime
            $v: '2021-11-01T11:27:20.387598+00:00'
    expected:
      - id: 97e43aabeb2247e5872f6e936a2775e5
        params:
            tag: '123'
            end_at: '2022-10-30T00:00:00'
            tariffs:
              - econom
              - uberx
              - vezeteconom
              - comfortplus
              - standart
            task_id: 617ba3588d260600490b9ee5
            begin_at: '2021-10-30T00:00:00'
            tariff_zones:
              - kazan
            draft_polygons:
                prefix: kazan_iter_1_
                polygons:
                  - name: pol0
                    polyId: 617ba3588d260600490b9ee5pol0
                    draft_name: pol0
                  - name: pol1
                    polyId: 617ba3588d260600490b9ee5pol1
                    draft_name: pol1
                  - name: pol2
                    polyId: 617ba3588d260600490b9ee5pol2
                    draft_name: pol2
                  - name: pol3
                    polyId: 617ba3588d260600490b9ee5pol3
                    draft_name: pol3
                  - name: pol4
                    polyId: 617ba3588d260600490b9ee5pol4
                    draft_name: pol4
                  - name: pol5
                    polyId: 617ba3588d260600490b9ee5pol5
                    draft_name: pol5
                  - name: pol6
                    polyId: 617ba3588d260600490b9ee5pol6
                    draft_name: pol6
                  - name: pol7
                    polyId: 617ba3588d260600490b9ee5pol7
                    draft_name: pol7
                  - name: pol8
                    polyId: 617ba3588d260600490b9ee5pol8
                    draft_name: pol8
            activity_points: 0
            with_experiments: false
            close_all_current_rules: true
        created_by: dkonturov
        referer: example_string
        created_at: '2021-11-01T11:27:20.387598+00:00'
