# Created with generator. Save this comment for future reference.
# Launch args: --source postgres --secret-source POSTGRES_TAXI_OPERATION_CALCULATIONS --responsible atlas --scope operation_calculations --yt-struct --snapshot --excluded-fields status --tables operation_calculations.subvention_multidraft_task_status --rule-name subvention_multidraft_task_status
  - input:
        id: cbf32e7d5fc6436f8e9b03cc42c6d1bb
        stage: ''
        message: example_string
        updated_at:
            $a:
                raw_type: datetime
            $v: '2021-10-29T15:50:46.990809+00:00'
        status: CREATED
    expected:
      - id: cbf32e7d5fc6436f8e9b03cc42c6d1bb
        stage: ''
        message: example_string
        updated_at: '2021-10-29T15:50:46.990809+00:00'
        status: CREATED
  - input:
        id: b9def726133741bb957ac1c350e1ffed
        stage: ''
        message: example_string
        updated_at:
            $a:
                raw_type: datetime
            $v: '2021-11-01T11:17:46.218199+00:00'
        status: CREATED
    expected:
      - id: b9def726133741bb957ac1c350e1ffed
        stage: ''
        message: example_string
        updated_at: '2021-11-01T11:17:46.218199+00:00'
        status: CREATED
  - input:
        id: c098b811138342199459be8b2d07fc0e
        stage: ''
        message: |-
            ERROR: column "data" of relation "subvention_multidraft_task_result" does not exist

            Traceback: [<FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/stq/geosubventions_multidraft.py, line 124 in task>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/stq/geosubventions_multidraft.py, line 99 in run_md_task_and_save_result>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 541 in save_task_result>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 43 in fetch_query>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 38 in fetch>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 588 in fetch>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/taxi/pg/connection.py, line 53 in _execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1632 in _execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1655 in __execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1681 in _do_execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 380 in _get_statement>, <FrameSummary file asyncpg/protocol/protocol.pyx, line 166 in prepare>]
        updated_at:
            $a:
                raw_type: datetime
            $v: '2021-11-01T16:16:07.652837+00:00'
        status: FAILED
    expected:
      - id: c098b811138342199459be8b2d07fc0e
        stage: ''
        message: |-
            ERROR: column "data" of relation "subvention_multidraft_task_result" does not exist

            Traceback: [<FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/stq/geosubventions_multidraft.py, line 124 in task>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/stq/geosubventions_multidraft.py, line 99 in run_md_task_and_save_result>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 541 in save_task_result>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 43 in fetch_query>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/operation_calculations/geosubventions/storage.py, line 38 in fetch>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 588 in fetch>, <FrameSummary file /usr/lib/yandex/taxi-operation-calculations-stq3/taxi/pg/connection.py, line 53 in _execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1632 in _execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1655 in __execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 1681 in _do_execute>, <FrameSummary file /usr/lib/yandex/taxi-py3-2/lib/python3.7/site-packages/asyncpg/connection.py, line 380 in _get_statement>, <FrameSummary file asyncpg/protocol/protocol.pyx, line 166 in prepare>]
        updated_at: '2021-11-01T16:16:07.652837+00:00'
        status: FAILED
