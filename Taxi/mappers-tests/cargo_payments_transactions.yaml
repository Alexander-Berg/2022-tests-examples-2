# Created with generator. Save this comment for future reference.
# Launch args: --source=postgres --tables cargo_payments.transactions --yt-struct --replicate-by history_timestamp
  - input:
        amount: '100'
        currency: RUB
        geo_data:
            example_key: example_value
        history_action: add
        history_event_id: 23
        history_timestamp:
            $a:
                raw_type: datetime
            $v: '2021-04-30T08:44:45.687106+00:00'
        history_user_id: b2b-authproxy
        ibox_client_id: 20
        original_transaction_id: example_string
        partner_login: ''
        payment_id: 6ceaa7ad-5301-4fe5-9b65-218ed97d1971
        rrn: ''
        transaction_id: A2840B38-F65B-4D1E-B182-76252454B86F
        type: payment
    expected:
      - history_event_id: 23
        payment_id: 6ceaa7ad-5301-4fe5-9b65-218ed97d1971
        transaction_id: A2840B38-F65B-4D1E-B182-76252454B86F
        currency: RUB
        amount: '100'
        history_timestamp: 1619772285.687106
        history_user_id: b2b-authproxy
        history_action: add
        partner_login: ''
        rrn: ''
        type: payment
        original_transaction_id: example_string
        ibox_client_id: 20
        geo_data:
            example_key: example_value
  - input:
        amount: '10'
        currency: RUB
        geo_data:
            example_key: example_value
        history_action: add
        history_event_id: 24
        history_timestamp:
            $a:
                raw_type: datetime
            $v: '2021-04-30T08:44:45.687106+00:00'
        history_user_id: b2b-authproxy
        ibox_client_id: 20
        original_transaction_id: example_string
        partner_login: ''
        payment_id: a3fd3228-b0c2-41a0-8564-318b6794a21f
        rrn: ''
        transaction_id: 35CA4E4F-33B4-400B-B832-F8B8C43EE2F0
        type: payment
    expected:
      - history_event_id: 24
        payment_id: a3fd3228-b0c2-41a0-8564-318b6794a21f
        transaction_id: 35CA4E4F-33B4-400B-B832-F8B8C43EE2F0
        currency: RUB
        amount: '10'
        history_timestamp: 1619772285.687106
        history_user_id: b2b-authproxy
        history_action: add
        partner_login: ''
        rrn: ''
        type: payment
        original_transaction_id: example_string
        ibox_client_id: 20
        geo_data:
            example_key: example_value
  - input:
        amount: '1'
        currency: RUB
        geo_data:
            example_key: example_value
        history_action: add
        history_event_id: 25
        history_timestamp:
            $a:
                raw_type: datetime
            $v: '2021-04-30T08:44:45.687106+00:00'
        history_user_id: b2b-authproxy
        ibox_client_id: 20
        original_transaction_id: example_string
        partner_login: ''
        payment_id: 1fc2f4ac-bfaf-4371-a5e0-fa5edbd87580
        rrn: ''
        transaction_id: 6D165DC1-CFFB-4BBA-B44D-A9E14D3DE8D5
        type: payment
    expected:
      - history_event_id: 25
        payment_id: 1fc2f4ac-bfaf-4371-a5e0-fa5edbd87580
        transaction_id: 6D165DC1-CFFB-4BBA-B44D-A9E14D3DE8D5
        currency: RUB
        amount: '1'
        history_timestamp: 1619772285.687106
        history_user_id: b2b-authproxy
        history_action: add
        partner_login: ''
        rrn: ''
        type: payment
        original_transaction_id: example_string
        ibox_client_id: 20
        geo_data:
            example_key: example_value
