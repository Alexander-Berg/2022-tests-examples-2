# Created with generator. Save this comment for future reference.
# Launch args: --source postgres --secret-source POSTGRES_TAXI_CRM_ADMIN --tables crm_admin.period --rule-name target_period --replicate-by updated_at --scope crm_admin --scale middle --yt-struct --debug
  - input:
        id: 1
        owner: iliator
        target_id: 1
        control: '{"key": "unique_driver_id", "salt": "RandomHash20200311", "mechanism":
            "murmur", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        created_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        updated_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        deleted_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749'
    expected:
      - id: 1
        owner: iliator
        target_id: 1
        control: '{"key": "unique_driver_id", "salt": "RandomHash20200311", "mechanism":
            "murmur", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at: '2022-04-04T12:00:00'
        created_at: '2022-04-04T12:00:00'
        updated_at: '2022-04-04T12:00:00'
        deleted_at: '2020-06-08T12:43:57.508749'
  - input:
        id: 2
        owner: iliator
        target_id: 2
        control: '{"key": "phone_pd_id", "salt": "Eda_RandomHash20210623", "mechanism":
            "exp3", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        created_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        updated_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        deleted_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749'
    expected:
      - id: 2
        owner: iliator
        target_id: 2
        control: '{"key": "phone_pd_id", "salt": "Eda_RandomHash20210623", "mechanism":
            "exp3", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at: '2022-04-04T12:00:00'
        created_at: '2022-04-04T12:00:00'
        updated_at: '2022-04-04T12:00:00'
        deleted_at: '2020-06-08T12:43:57.508749'
  - input:
        id: 3
        owner: iliator
        target_id: 3
        control: '{"key": "device_id", "salt": "Geo_RandomHash20220323", "mechanism":
            "exp3", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        created_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        updated_at:
            $a:
                raw_type: datetime
            $v: '2022-04-04T12:00:00'
        deleted_at:
            $a:
                raw_type: datetime
            $v: '2020-06-08T12:43:57.508749'
    expected:
      - id: 3
        owner: iliator
        target_id: 3
        control: '{"key": "device_id", "salt": "Geo_RandomHash20220323", "mechanism":
            "exp3", "control_percentage": 5}'
        previous_control_percentage: 0
        start_at: '2022-04-04T12:00:00'
        created_at: '2022-04-04T12:00:00'
        updated_at: '2022-04-04T12:00:00'
        deleted_at: '2020-06-08T12:43:57.508749'
