[
  {
    "_id": "some_already_compensated_order_id",
    "billing_tech": {},
    "invoice": {
      "operation_info": {
        "version": 2
      },
      "operations": [
        {
          "id": "some_operation_id"
        },
        {
          "id": "some_refund_operation_id"
        }
      ],
      "transactions_ready": false
    },
    "payment_tech": {
      "history": [
        {
          "decision": "compensate_ride",
          "transactions_params": {
            "operation_id": "some_operation_id"
          }
        },
        {
          "decision": "compensation_refund",
          "transactions_params": {
            "operation_id": "some_refund_operation_id"
          }
        }
      ]
    }
  },
  {
    "_id": "some_already_independently_compensated_order_id",
    "billing_tech": {},
    "invoice": {
      "compensation": {
        "operations": [
          {
            "id": "some_operation_id"
          },
          {
            "id": "some_refund_operation_id"
          }
        ]
      },
      "operation_info": {
        "version": 2
      },
      "operations": [],
      "transactions_ready": false
    },
    "payment_tech": {
      "history": [
        {
          "decision": "compensate_ride",
          "transactions_params": {
            "operation_id": "some_operation_id"
          }
        },
        {
          "decision": "compensation_refund",
          "transactions_params": {
            "operation_id": "some_refund_operation_id"
          }
        }
      ]
    }
  },
  {
    "_id": "some_compensation_order_id",
    "billing_tech": {
      "clear_timeout": 10800,
      "transactions": [],
      "version": 1
    },
    "invoice": {
      "id": "some_compensation_order_id",
      "operation_info": {
        "version": 2
      },
      "operations": [],
      "transactions_ready": false
    },
    "invoice_payment_tech": {},
    "nz": "moscow",
    "payment_tech": {
      "complements": [
        {
          "payment_method_id": "w/long-hash",
          "type": "personal_wallet"
        }
      ],
      "history": [
        {
          "decision": "compensate_ride",
          "transactions_params": {
            "acquiring_rate": "0.02",
            "gross_amount": "100",
            "operation_id": "compensation_operation_id"
          }
        }
      ],
      "last_known_ip": "::1/128",
      "main_card_billing_id": "card-1",
      "main_card_payment_id": "1",
      "sum_to_pay": {
        "ride": 2000000,
        "tips": 100000
      },
      "type": "card"
    },
    "performer": {
      "clid": "some_park_id"
    },
    "request": {
      "due": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "statistics": {
      "application": "iphone"
    },
    "user_phone_id": "some_user_phone_id",
    "user_uid": "some_user_uid"
  },
  {
    "_id": "too_many_operations_order_id",
    "billing_tech": {
      "clear_timeout": 10800,
      "max_invoice_compensation_operations": 0,
      "transactions": [],
      "version": 1
    },
    "invoice": {
      "id": "too_many_operations_order_id",
      "operation_info": {
        "version": 2
      },
      "operations": [],
      "transactions_ready": false
    },
    "invoice_payment_tech": {},
    "nz": "moscow",
    "payment_tech": {
      "complements": [
        {
          "payment_method_id": "w/long-hash",
          "type": "personal_wallet"
        }
      ],
      "history": [
        {
          "decision": "compensate_ride",
          "transactions_params": {
            "acquiring_rate": "0.02",
            "gross_amount": "100",
            "operation_id": "compensation_operation_id"
          }
        }
      ],
      "last_known_ip": "::1/128",
      "main_card_billing_id": "card-1",
      "main_card_payment_id": "1",
      "sum_to_pay": {
        "ride": 2000000,
        "tips": 100000
      },
      "type": "card"
    },
    "performer": {
      "clid": "some_park_id"
    },
    "request": {
      "due": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "statistics": {
      "application": "iphone"
    },
    "user_phone_id": "some_user_phone_id",
    "user_uid": "some_user_uid"
  },
  {
    "_id": "some_compensation_with_additional_params",
    "billing_tech": {
      "clear_timeout": 10800,
      "transactions": [],
      "version": 1
    },
    "invoice": {
      "id": "some_compensation_with_additional_params",
      "operation_info": {
        "version": 2
      },
      "operations": [],
      "transactions_ready": false
    },
    "invoice_payment_tech": {},
    "nz": "moscow",
    "payment_tech": {
      "complements": [
        {
          "payment_method_id": "w/long-hash",
          "type": "personal_wallet"
        }
      ],
      "history": [
        {
          "decision": "compensate_ride",
          "transactions_params": {
            "acquiring_rate": "0.02",
            "gateway_name": "tlog",
            "gross_amount": "100",
            "operation_id": "compensation_operation_id",
            "pass_params": {
              "agent_id": "agent_gepard"
            },
            "product_id": "taxi_100500_ride",
            "region_id": 225
          }
        }
      ],
      "last_known_ip": "::1/128",
      "main_card_billing_id": "card-1",
      "main_card_payment_id": "1",
      "sum_to_pay": {
        "ride": 2000000,
        "tips": 100000
      },
      "type": "card"
    },
    "performer": {
      "clid": "some_park_id"
    },
    "request": {
      "due": {
        "$date": "2019-01-01T00:00:00.0"
      }
    },
    "statistics": {
      "application": "iphone"
    },
    "user_phone_id": "some_user_phone_id",
    "user_uid": "some_user_uid"
  },
  {
    "_id": "some_compensation_refund_order_id",
    "billing_tech": {},
    "invoice": {
      "compensation": {
        "operations": [],
        "version": 3
      },
      "id": "some_compensation_refund_order_id",
      "operation_info": {
        "version": 2
      },
      "operations": [],
      "transactions_ready": true
    },
    "payment_tech": {
      "history": [
        {
          "decision": "compensation_refund",
          "transactions_params": {
            "net_amount": "0",
            "operation_id": "compensation_refund_operation_id",
            "trust_payment_id": "some_trust_payment_id"
          }
        }
      ]
    }
  }
]
