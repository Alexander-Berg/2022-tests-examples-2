<!DOCTYPE html>
<html lang="en">
<head>
  <script type="text/javascript" src="/record.js"></script>
  <meta charset="UTF-8">
  <title>Hover test</title>
  <style>
    .hover-block {
      padding: 30px;
      font-weight: bold;
      pointer-events: all;
      background-color: rgba(255, 94, 0, 0.1);
    }

    .hover-block:before {
      content: "Not hovered"
    }

    .hover-block:hover {
      background-color: rgba(64, 92, 45, 0.3);
    }

    .hover-block:hover:before {
      content: "Hovered"
    }

    .protected {
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="hover-block">
    <div class="hover-block">
    </div>
    <div class="hover-block">
      <div class="hover-block">
      </div>
      <div class="hover-block protected">
        <div class="hover-block">
        </div>
        <div class="hover-block">
        </div>
      </div>
      <div class="hover-block">
      </div>
    </div>
  </div>

  <!-- <script>
    const removeClasses = (className) => {
      const hovered = document.querySelectorAll(`.${className}`)
      for (let node of hovered) {
        node.className = node.className.replace(className,'')
      }
    }

    const addClasses = (nodes, className) => {
      for (let node of nodes) {
        node.className += ` ${className}`
      }
    }

    const applyHover = (x, y, hoverClassName) => {
      removeClasses(hoverClassName)
      const elements = document.elementsFromPoint(x, y)
      const elementsChain = [elements[0]]
      let currentElement = elements[0]

      while (currentElement.parentNode) {
        const parent = currentElement.parentNode
        elementsChain.push(parent)
        currentElement = parent
      }

      addClasses(elementsChain, hoverClassName)
    }

    document.addEventListener('mousemove', (e) => {
      this.applyHover(e.pageX, e.pageY, '__emulate_hover')
    })
  </script> -->
</body>
</html>
