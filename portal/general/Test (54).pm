package MordaX::Experiment::AB::Parser::Test;
use strict;
use warnings FATAL => 'all';
use v5.14;
use utf8;
use mro;

use base qw(Test::Class);

use MP::Logit;

use MTH;
use Test::More;

sub requier : Test(startup => no_plan) {
    my ($self) = @_;
    use_ok('MordaX::Experiment::AB::Parser');
    return;
}

sub parser_tests : Tests {
    my ($self) = @_;
    my @tests = (
        {
            'condition' => '( !(device.isMobile || device.isTablet) && ( (device.BrowserEngine eq "Gecko") || (device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "31") || (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "10") ) && !(device.BrowserName eq "UCBrowser") ) || ( (device.isTouch && ((device.OSFamily eq "iOS" && device.OSVersion ge "8") || (device.OSFamily eq "Android" && device.OSVersion ge "4.4"))) && !( (device.BrowserName eq "UCBrowser" && device.OSFamily eq \'Android\') || (device.BrowserName eq "AndroidBrowser") || (device.BrowserEngine eq "Presto") || (device.BrowserName eq "MIUI") || (device.BrowserName eq "MZBrowser") || (device.BrowserName eq "OperaMini") || (device.BrowserName eq "MobileFirefox") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isMobile',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserEngine',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Gecko',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Safari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 10,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserBase',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'Chromium',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserBaseVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 31,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'YandexBrowser',
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'UCBrowser',
                                    'right' => undef
                                  }
                            },
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 8,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => '4.4',
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'UCBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSFamily',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Android',
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MobileFirefox',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'OperaMini',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'MZBrowser',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'MIUI',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'AndroidBrowser',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserEngine',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'Presto',
                                                            'right' => undef
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!( device.OSFamily eq "iOS" && device.OSVersion lt "7" ) && !( device.OSFamily eq "Android" && device.OSVersion lt "4.4.4" ) && !( device.isTablet ) && ( (device.BrowserName eq "MSIE" && device.BrowserVersion ge "10") || (device.BrowserName eq "Edge") || (device.BrowserName eq "Opera" && device.BrowserEngine ne "Presto") || (device.BrowserEngine eq "Presto" && device.BrowserVersion ge "12.1") || (device.BrowserName eq "YandexBrowser" && device.BrowserEngineVersion gt "537") || ( (device.BrowserBase eq "Chromium" || device.BrowserName eq "Chrome"|| device.BrowserName eq "ChromeMobile") && device.BrowserBaseVersion ge "21") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "22") || (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "Safari" && device.BrowserVersion gt "6.1") || (device.BrowserName eq "MobileSafari" ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'iOS',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 7,
                                'right' => undef
                              }
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MSIE',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 10,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MobileSafari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Safari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => '6.1',
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'YandexBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Firefox',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 22,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserBase',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'Chromium',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserName',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'Chrome',
                                                                'right' => undef
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserName',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'ChromeMobile',
                                                                'right' => undef
                                                              }
                                                          }
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserBaseVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 21,
                                                        'right' => undef
                                                      }
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'YandexBrowser',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                                            'MordaX::Experiment::AB::Tree::Relational',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserEngineVersion',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 537,
                                                            'right' => undef
                                                          }
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserEngine',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'Presto',
                                                                'right' => undef
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                                'MordaX::Experiment::AB::Tree::Relational',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserVersion',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => '12.1',
                                                                'right' => undef
                                                              }
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserName',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'Edge',
                                                                'right' => undef
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                                'MordaX::Experiment::AB::Tree::Logical',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserName',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'Opera',
                                                                    'right' => undef
                                                                  }
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserEngine',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'Presto',
                                                                    'right' => undef
                                                                  }
                                                              }
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => '4.4.4',
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!( device.OSFamily eq "WindowsPhone" ) && !( device.OSFamily eq "Android" && device.OSVersion lt "5") && !( device.OSFamily eq "iOS" && device.OSVersion lt "9")',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSFamily',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'WindowsPhone',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 5,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 9,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.BrowserName eq "Chrome" && device.BrowserVersion ge "49") || (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "14")',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserName',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'Chrome',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'MordaX::Experiment::AB::Tree::Relational::VER',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserVersion',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 49,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserName',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'YandexBrowser',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'MordaX::Experiment::AB::Tree::Relational::VER',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserVersion',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 14,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch || device.isTablet) &&( ( device.BrowserName eq "ChromeMobile" && device.BrowserBaseVersion ge "49") || (device.BrowserName eq "YandexBrowser"&& device.BrowserVersion ge "14") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'ChromeMobile',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBaseVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 49,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'YandexBrowser',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 14,
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.BrowserName ne "Edge") && (device.BrowserName ne "MSIE")',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'BrowserName',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'Edge',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'BrowserName',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'MSIE',
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch || device.isTablet) &&( ( device.OSFamily eq "Android" && device.OSVersion ge "4.4") || ( device.OSFamily eq "iOS" && device.OSVersion ge "8") || ( device.OSFamily eq "WindowsPhone" && device.OSVersion ge "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Android',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => '4.4',
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'WindowsPhone',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( ! (device.isTouch || device.isTablet) ) &&( ( device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Edge") || (device.BrowserName eq "MSIE"&& device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "50") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTouch',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBase',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Chromium',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBaseVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 42,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Safari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 9,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Firefox',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 50,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Edge',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MSIE',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 11,
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( ! (device.isTouch || device.isTablet) ) &&( ( device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "50") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTouch',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBase',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Chromium',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBaseVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 42,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Firefox',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 50,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Safari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 9,
                                    'right' => undef
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!( device.OSFamily eq "iOS" && device.OSVersion lt "7" ) && !( device.OSFamily eq "Android" && device.OSVersion lt "4.4.4" ) && !( device.OSFamily eq "Android" && device.BrowserName eq "UCBrowser" ) && ( device.isTablet ) && ( (device.BrowserName eq "MSIE" && device.BrowserVersion ge "10") || (device.BrowserName eq "Edge") || (device.BrowserName eq "Opera" && device.BrowserEngine ne "Presto") || (device.BrowserName eq "YandexBrowser" && device.BrowserEngineVersion gt "537") || ( (device.BrowserBase eq "Chromium" || device.BrowserName eq "Chrome"|| device.BrowserName eq "ChromeMobile") && device.BrowserBaseVersion ge "21") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "22") || (device.BrowserName eq "MobileFirefox" && device.BrowserVersion ge "22") || (device.BrowserBase eq \'Safari\' && device.BrowserName eq "MobileFirefox" && device.BrowserVersion gt "6.1") || (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "Safari" && device.BrowserVersion gt "6.1") || (device.BrowserName eq "MobileSafari" ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'iOS',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 7,
                                'right' => undef
                              }
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MSIE',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 10,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MobileSafari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Safari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => '6.1',
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'YandexBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserBase',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Safari',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'MobileFirefox',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => '6.1',
                                                        'right' => undef
                                                      }
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'MobileFirefox',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 22,
                                                        'right' => undef
                                                      }
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'Firefox',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                                            'MordaX::Experiment::AB::Tree::Relational',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserVersion',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 22,
                                                            'right' => undef
                                                          }
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                                'MordaX::Experiment::AB::Tree::Logical',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserBase',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'Chromium',
                                                                    'right' => undef
                                                                  }
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'BrowserName',
                                                                        'right' => undef
                                                                    },
                                                                    'right' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'Chrome',
                                                                        'right' => undef
                                                                      }
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'BrowserName',
                                                                        'right' => undef
                                                                    },
                                                                    'right' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'ChromeMobile',
                                                                        'right' => undef
                                                                      }
                                                                  }
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                                'MordaX::Experiment::AB::Tree::Relational',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserBaseVersion',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 21,
                                                                'right' => undef
                                                              }
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                                'MordaX::Experiment::AB::Tree::Logical',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserName',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'YandexBrowser',
                                                                    'right' => undef
                                                                  }
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserEngineVersion',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 537,
                                                                    'right' => undef
                                                                  }
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                                'MordaX::Experiment::AB::Tree::Logical',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'BrowserName',
                                                                    'right' => undef
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left'  => 'Edge',
                                                                    'right' => undef
                                                                  }
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'BrowserName',
                                                                        'right' => undef
                                                                    },
                                                                    'right' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'Opera',
                                                                        'right' => undef
                                                                      }
                                                                },
                                                                'right' => {
                                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                                                    'isa'   => [
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                                        'MordaX::Experiment::AB::Tree::Node'
                                                                    ],
                                                                    'left' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'BrowserEngine',
                                                                        'right' => undef
                                                                    },
                                                                    'right' => {
                                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                        'isa'   => [
                                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                                            'MordaX::Experiment::AB::Tree::Node'
                                                                        ],
                                                                        'left'  => 'Presto',
                                                                        'right' => undef
                                                                      }
                                                                  }
                                                              }
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSFamily',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Android',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => '4.4.4',
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSFamily',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Android',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'UCBrowser',
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( !(device.OSFamily eq "Android" && device.BrowserEngine eq "Presto")&& !( device.OSFamily eq "Android" && device.OSVersion lt "4.4.4" )&& !(device.BrowserName eq "MSIE" && device.BrowserVersion lt "10")&& !( device.OSFamily eq "iOS" && device.OSVersion lt "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Android',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserEngine',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Presto',
                                'right' => undef
                              }
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => '4.4.4',
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MSIE',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 10,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch || device.isTablet) && ( !(device.OSFamily eq "Android" && device.BrowserEngine eq "Presto")&& !( device.OSFamily eq "Android" && device.OSVersion lt "4.4.4" )&& !( device.OSFamily eq "Android" && device.BrowserName eq "UCBrowser" )&& !( device.OSFamily eq "Android" && device.BrowserName eq "AndroidBrowser" )&& !(device.OSFamily eq "WindowsPhone")&& !( device.OSFamily eq "iOS" && device.OSVersion lt "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserEngine',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Presto',
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 8,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'WindowsPhone',
                                        'right' => undef
                                      }
                                },
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'OSFamily',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'Android',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'AndroidBrowser',
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'OSFamily',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Android',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'OSVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => '4.4.4',
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'OSFamily',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Android',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'UCBrowser',
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => undef
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( !(device.isMobile || device.isTablet) ) && ( ( device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Edge"&& device.BrowserVersion ge "12") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "45") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") ) || ( (device.isMobile || device.isTablet) && ( (device.OSFamily eq "Android" && device.OSVersion ge "4.4") || (device.OSFamily eq "iOS" && device.OSVersion ge "8") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isMobile',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserBase',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Chromium',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserBaseVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 42,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Safari',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 9,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Firefox',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 45,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'Edge',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 12,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MSIE',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 11,
                                                'right' => undef
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => '4.4',
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => 'device.isMobile && !( device.OSFamily eq "WindowsPhone" ) && !( device.OSFamily eq "Android" && device.OSVersion lt "4.4.4" ) && !( device.OSFamily eq "iOS" && device.OSVersion lt "10" ) && !( device.BrowserName eq "UCBrowser" ) && !( device.BrowserName eq "Chrome" && device.BrowserVersion lt "53" ) && !( device.BrowserName eq "AndroidBrowser" ) && !( device.BrowserName eq "Samsung Internet" ) && !( device.BrowserName eq "Opera" && device.BrowserEngine ne "Presto" ) && !( device.BrowserName eq "MIUI" )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isMobile',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'MIUI',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Opera',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserEngine',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Presto',
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Samsung Internet',
                                        'right' => undef
                                      }
                                },
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'AndroidBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Chrome',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 53,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'UCBrowser',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'OSFamily',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'iOS',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                                            'MordaX::Experiment::AB::Tree::Relational',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'OSVersion',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 10,
                                                            'right' => undef
                                                          }
                                                      }
                                                },
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'OSFamily',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'WindowsPhone',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'OSFamily',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'Android',
                                                                'right' => undef
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                                'MordaX::Experiment::AB::Tree::Relational',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'OSVersion',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => '4.4.4',
                                                                'right' => undef
                                                              }
                                                          }
                                                    },
                                                    'right' => undef
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( ( !device.isMobile && ( (device.BrowserName eq "Chrome" && device.BrowserVersion ge "35") || (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "15") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "47") || (device.BrowserName eq "Opera" && device.BrowserVersion ge "31") ) ) || ( device.isMobile && ( device.OSFamily eq "Android" && device.OSVersion ge "5") && (device.BrowserName eq "Chrome" || device.BrowserName eq "ChromeMobile" || device.BrowserName eq "AndroidBrowser" ) ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Chrome',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 35,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Opera',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 31,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'YandexBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 15,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Firefox',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 47,
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isMobile',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Chrome',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'ChromeMobile',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'AndroidBrowser',
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 5,
                                    'right' => undef
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( (!device.isMobile && device.BrowserVersion ge "9" && device.BrowserName eq "Safari") || (device.OSFamily eq "iOS" && device.OSVersion ge "11.2" && device.BrowserName eq "MobileSafari") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 9,
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Safari',
                                'right' => undef
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSFamily',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iOS',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => '11.2',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'MobileSafari',
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => 'device.isTablet && !(device.BrowserName eq "Firefox") && !(device.BrowserName eq "MobileFirefox") && ( (device.OSFamily eq "Android" && device.OSVersion ge "4.4") || (device.OSFamily eq "iOS" && device.OSVersion ge "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTablet',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => '4.4',
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Firefox',
                                    'right' => undef
                                  }
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MobileFirefox',
                                    'right' => undef
                                  }
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=3070500)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 3070500,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_version >=7000000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'MordaX::Experiment::AB::Tree::Relational::NUM',
                    'MordaX::Experiment::AB::Tree::Relational',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'app_version',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Number',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 7000000,
                    'right' => undef
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && !(device.OSFamily eq "Android" && device.OSVersion le "4") && !(device.BrowserEngine eq "Presto")',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserEngine',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Presto',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                            },
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::LE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 4,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && ( ( device.OSFamily eq "Android" && device.OSVersion ge "5" || device.OSFamily eq "iOS" && device.OSVersion ge "8" ) && ( (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "YandexBrowserLite") || (device.BrowserName eq "OperaMobile") || (device.BrowserName eq "ChromeMobile") || (device.BrowserName eq "MobileFirefox") || (device.BrowserName eq "MIUI") || (device.BrowserName eq "MobileSafari") || (device.BrowserName eq "Samsung Internet") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 8,
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'YandexBrowser',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Samsung Internet',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MobileSafari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MIUI',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'MobileFirefox',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'ChromeMobile',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'YandexBrowserLite',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'OperaMobile',
                                                            'right' => undef
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=3070000) || (cgi.app_platform eq "android" && cgi.app_version >=7030000)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 3070000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7030000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=7040003)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 7040003,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && ( ( (device.OSFamily eq "Android" && device.OSVersion ge "5") || (device.OSFamily eq "iOS" && device.OSVersion ge "9") ) && !(device.BrowserName eq "UCBrowser") && !(device.BrowserName eq "MobileFirefox") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 9,
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'UCBrowser',
                                        'right' => undef
                                      }
                                },
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MobileFirefox',
                                        'right' => undef
                                      }
                                },
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( device.isTouch && ((device.OSFamily eq "iOS" && device.OSVersion ge "8") || (device.OSFamily eq "Android" && device.OSVersion ge "4.4"))) && !((device.BrowserName eq "UCBrowser" && device.OSFamily eq \'Android\') || (device.BrowserName eq "AndroidBrowser") || (device.BrowserEngine eq "Presto") || (device.BrowserName eq "MIUI"))',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => '4.4',
                                    'right' => undef
                                  }
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'UCBrowser',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MIUI',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'AndroidBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserEngine',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Presto',
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                        },
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch || device.isTablet) &&( ( device.OSFamily eq "Android" && device.OSVersion ge "4.4") || ( device.OSFamily eq "iOS" && device.OSVersion ge "8") || ( device.OSFamily eq "WindowsPhone" && device.OSVersion ge "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Android',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => '4.4',
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'WindowsPhone',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 8,
                                    'right' => undef
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!(device.isMobile || device.isTablet || (device.BrowserName eq "Opera" && device.BrowserEngine eq "Presto"))',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'MordaX::Experiment::AB::Tree::Primary',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isMobile',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Opera',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserEngine',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Presto',
                                    'right' => undef
                                  }
                              }
                          }
                      }
                },
                'right' => undef
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=3070000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 3070000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=6060000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 6060000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.OSFamily eq "Android" && device.OSVersion ge "5")',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'OSFamily',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'Android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                        'MordaX::Experiment::AB::Tree::Relational::VER',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'OSVersion',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 5,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '((cgi.app_platform eq "android" && cgi.app_version >=1807105270) && (cgi.app_id eq "com.yandex.browser.alpha") || (cgi.app_id eq "com.yandex.browser.beta"))',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                                'MordaX::Experiment::AB::Tree::Relational::NUM',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_version',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Number',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => '1807105270',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_id',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'com.yandex.browser.alpha',
                                'right' => undef
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_id',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'com.yandex.browser.beta',
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '( (cgi.app_platform eq "android" && cgi.app_version >=7080500 && cgi.app_version <=7090000) && (cgi.app_id eq "ru.yandex.searchplugin.beta") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_id',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'ru.yandex.searchplugin.beta',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                                'MordaX::Experiment::AB::Tree::Relational::NUM',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_version',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Number',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 7080500,
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::LE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::NUM::LE',
                                'MordaX::Experiment::AB::Tree::Relational::NUM',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_version',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Number',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 7090000,
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!((cgi.app_platform eq "android" && cgi.app_version >=7070000) && (cgi.app_id eq "ru.yandex.searchplugin.beta"))',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'MordaX::Experiment::AB::Tree::Primary',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                                'MordaX::Experiment::AB::Tree::Relational::NUM',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_version',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Number',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 7070000,
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_id',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'ru.yandex.searchplugin.beta',
                                'right' => undef
                              }
                          }
                      }
                },
                'right' => undef
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=4000000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 4000000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '( ! (device.isTouch || device.isTablet) ) && ( (device.BrowserName eq "Chrome"&& device.BrowserVersion ge "24") || (device.BrowserName eq "Edge") || (device.BrowserName eq "Opera" && device.BrowserVersion ge "15") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "10") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "54") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTouch',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Chrome',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 24,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Firefox',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 54,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MSIE',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 10,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Edge',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Opera',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 15,
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!(device.isMobile || device.isTablet) && ( (device.BrowserEngine eq "Gecko") || (device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "10") && !(device.BrowserName eq "UCBrowser") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserEngine',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'Gecko',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Safari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 10,
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'UCBrowser',
                                            'right' => undef
                                          }
                                    },
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MSIE',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 11,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserBase',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Chromium',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserBaseVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 42,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'YandexBrowser',
                                        'right' => undef
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=1810100190 && cgi.app_id eq "com.yandex.browser.broteam")',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => '1810100190',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_id',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'com.yandex.browser.broteam',
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >= 1806006830 && (cgi.app_id eq "com.yandex.browser" || cgi.app_id eq "com.yandex.browser.beta" || cgi.app_id eq "com.yandex.browser.alpha" || cgi.app_id eq "com.yandex.browser.broteam"))',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => '1806006830',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_id',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'com.yandex.browser',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'app_id',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'com.yandex.browser.broteam',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'app_id',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'com.yandex.browser.beta',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'app_id',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'com.yandex.browser.alpha',
                                        'right' => undef
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && ( ( device.OSFamily eq "Android" && device.OSVersion ge "5" || device.OSFamily eq "iOS" && device.OSVersion ge "8" ) && !( (device.BrowserName eq "MobileFirefox") || (device.BrowserName eq "AndroidBrowser") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 8,
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::NOT',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MobileFirefox',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'AndroidBrowser',
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isBrowser) && ( !(device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") )',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isBrowser',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserName',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'MSIE',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 11,
                                'right' => undef
                              }
                          }
                    },
                    'right' => undef
                  }
              }
        },
        {
            'condition' => '( cgi.app_platform eq "android" && cgi.app_version >=7080000 ) || ( cgi.app_platform eq "iphone" && cgi.app_version >=4030000)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7080000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 4030000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=4040000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 4040000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '!(device.isTouch || device.isTablet) && !( (device.BrowserEngine eq "Presto") || (device.BrowserName eq "MSIE" && device.BrowserVersion le "10") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTouch',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserEngine',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Presto',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MSIE',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::LE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 10,
                                    'right' => undef
                                  }
                              }
                          }
                    },
                    'right' => undef
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=7090000) || ((cgi.app_platform eq "apad" && cgi.app_version >=7090000))',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7090000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'apad',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7090000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=7090001)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 7090001,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch || device.isTablet) && ( ( device.OSFamily eq "Android" && device.OSVersion ge "5") || ( device.OSFamily eq "iOS" && device.OSVersion ge "8") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTouch',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Android',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 5,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSFamily',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'iOS',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 8,
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( device.OSFamily eq "Android" && device.OSVersion ge "5") || ( device.OSFamily eq "iOS" && device.OSVersion ge "8")',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSFamily',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'Android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'MordaX::Experiment::AB::Tree::Relational::VER',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSVersion',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 5,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSFamily',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iOS',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'MordaX::Experiment::AB::Tree::Relational::VER',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'OSVersion',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 8,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => 'device.BrowserEngine ne "Presto" && device.BrowserEngine ne "Edge" && device.BrowserEngine ne "Trident"',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'BrowserEngine',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'Presto',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserEngine',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'Edge',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserEngine',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'Trident',
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => 'device.BrowserEngine ne "Presto" && (device.BrowserName ne "MSIE" || device.BrowserVersion gt "10")',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'BrowserEngine',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'Presto',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserName',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'MSIE',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::VER::GT',
                            'MordaX::Experiment::AB::Tree::Relational::VER',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'BrowserVersion',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 10,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && ( ( device.OSFamily eq "Android" && device.OSVersion ge "5" || device.OSFamily eq "iOS" && device.OSVersion ge "8" ) && ( (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "YandexBrowserLite") || (device.BrowserName eq "OperaMobile") || (device.BrowserName eq "ChromeMobile") || (device.BrowserName eq "MobileFirefox") || (device.BrowserName eq "MIUI") || (device.BrowserName eq "MobileSafari") || (device.BrowserName eq "Samsung Internet") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 8,
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'YandexBrowser',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Samsung Internet',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MobileSafari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MIUI',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'MobileFirefox',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'ChromeMobile',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'YandexBrowserLite',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'OperaMobile',
                                                            'right' => undef
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( ! (device.isTouch || device.isTablet) ) &&( ( device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Edge") || (device.BrowserName eq "MSIE"&& device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "50") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTouch',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBase',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Chromium',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBaseVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 42,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Safari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 9,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Firefox',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 50,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Edge',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MSIE',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 11,
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( !(device.isMobile || device.isTablet) ) && ( ( device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Edge"&& device.BrowserVersion ge "12") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "45") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::OR',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBase',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Chromium',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserBaseVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 42,
                                'right' => undef
                              }
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Safari',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 9,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Firefox',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 45,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Edge',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 12,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MSIE',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 11,
                                            'right' => undef
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( cgi.app_platform eq "android" && cgi.app_version >=7040000 ) || ( cgi.app_platform eq "iphone" && cgi.app_version >=3080000)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7040000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 3080000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >= 1806006830) || ( cgi.app_platform eq "iphone" && cgi.app_version >= 18060068300)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => '1806006830',
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => '18060068300',
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( !device.isMobile && !( (device.BrowserName eq "MSIE")|| (device.BrowserName eq "Edge")|| (device.BrowserName eq "Chrome" && device.BrowserVersion lt "36")|| (device.BrowserName eq "Firefox" && device.BrowserVersion lt "42")|| (device.BrowserName eq "Opera" && device.BrowserVersion lt "32")|| (device.BrowserName eq "YandexBrowser" && device.BrowserVersion lt "16")|| (device.BrowserName eq "Safari" && device.BrowserVersion lt "10") ) ) || ( device.isMobile && ( (device.OSFamily eq "Android" && device.OSVersion ge "5") && ( (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "18.4")|| (device.BrowserName eq "AndroidBrowser" )|| (device.BrowserName eq "YandexSearch")|| (device.BrowserName eq "ChromeMobile") )|| (device.OSFamily eq "iOS" && device.OSVersion ge "11.3") && ( (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "18.3")|| (device.BrowserName eq "YandexSearch")|| (device.BrowserName eq "MobileSafari") ) ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MSIE',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Safari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 10,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 16,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Opera',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 32,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'Firefox',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 42,
                                                        'right' => undef
                                                      }
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'Edge',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'Chrome',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                                            'MordaX::Experiment::AB::Tree::Relational',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserVersion',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 36,
                                                            'right' => undef
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                        },
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isMobile',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Android',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => '18.4',
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'ChromeMobile',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'AndroidBrowser',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'YandexSearch',
                                                    'right' => undef
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'OSFamily',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'iOS',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => '11.3',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => '18.3',
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexSearch',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MobileSafari',
                                                'right' => undef
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(device.OSFamily eq "Android" && device.OSVersion ge "5") && (cgi.app_version <= 1901011143) && (cgi.app_id eq "com.yandex.browser")',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'OSFamily',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'Android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_id',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'com.yandex.browser',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'OSVersion',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 5,
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::LE',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Relational::NUM::LE',
                                'MordaX::Experiment::AB::Tree::Relational::NUM',
                                'MordaX::Experiment::AB::Tree::Relational',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'app_version',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Number',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => '1901011143',
                                'right' => undef
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >= 1901200000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => '1901200000',
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => 'device.BrowserEngine ne "Presto"',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Equality::STR::NE',
                    'MordaX::Experiment::AB::Tree::Equality::STR',
                    'MordaX::Experiment::AB::Tree::Equality',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'BrowserEngine',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::String',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'Presto',
                    'right' => undef
                  }
              }
        },
        {
            'condition' => '( cgi.app_platform eq "android" && cgi.app_version >=7060000 ) || ( cgi.app_platform eq "iphone" && cgi.app_version >=3070000)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 7060000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 3070000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=4020000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 4020000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >= 1901000000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => '1901000000',
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '( !(device.isMobile || device.isTablet) && ( (device.BrowserBase eq "Chromium" && device.BrowserBaseVersion ge "42") || (device.BrowserName eq "Edge"&& device.BrowserVersion ge "12") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "45") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "9") ) ) || ( device.isTablet && ( (device.OSFamily eq "Android" && device.OSVersion ge "5") || (device.OSFamily eq "iOS" && device.OSVersion ge "9") ) && ( (device.BrowserName eq "ChromeMobile" && device.BrowserVersion ge "42") || (device.BrowserName eq "MobileFirefox" && device.BrowserVersion ge "45") || (device.BrowserName eq "MobileSafari") || (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "17") || (device.BrowserName eq "OperaMobile" && device.BrowserVersion ge "40") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isMobile',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserBase',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Chromium',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserBaseVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 42,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Safari',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 9,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Firefox',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 45,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'Edge',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 12,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MSIE',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 11,
                                                'right' => undef
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Device',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'isTablet',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'iOS',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 9,
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'ChromeMobile',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 42,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OperaMobile',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 40,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 17,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'MobileFirefox',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 45,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MobileSafari',
                                                'right' => undef
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "android" && cgi.app_version >=7030000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'android',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 7030000,
                        'right' => undef
                      }
                  }
              }
        },
        {
            'condition' => '(device.isTouch && !device.isTablet) && ( (device.OSFamily eq "Android" && device.OSVersion ge "5" || device.OSFamily eq "iOS" && device.OSVersion ge "8" || device.OSFamily eq "WindowsPhone") && ( (device.BrowserName eq "YandexBrowser") || (device.BrowserName eq "YandexBrowserLite") || (device.BrowserName eq "OperaMobile") || (device.BrowserName eq "ChromeMobile") || (device.BrowserName eq "MobileFirefox") || (device.BrowserName eq "MIUI") || (device.BrowserName eq "IEMobile" && device.BrowserVersion ge "11") || (device.BrowserName eq "MobileSafari") || (device.BrowserName eq "Samsung Internet") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::Device',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left'  => 'isTouch',
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::AND',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Android',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 5,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSFamily',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'iOS',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OSVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 8,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'OSFamily',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'WindowsPhone',
                                        'right' => undef
                                      }
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'YandexBrowser',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Samsung Internet',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'MobileSafari',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'IEMobile',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 11,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'MIUI',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'MobileFirefox',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'MordaX::Experiment::AB::Tree::Logical',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                                            'MordaX::Experiment::AB::Tree::Equality',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'BrowserName',
                                                            'right' => undef
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'MordaX::Experiment::AB::Tree::Primary',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left'  => 'ChromeMobile',
                                                            'right' => undef
                                                          }
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                                            'MordaX::Experiment::AB::Tree::Logical',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserName',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'YandexBrowserLite',
                                                                'right' => undef
                                                              }
                                                        },
                                                        'right' => {
                                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                            'isa'   => [
                                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                                'MordaX::Experiment::AB::Tree::Equality',
                                                                'MordaX::Experiment::AB::Tree::Node'
                                                            ],
                                                            'left' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'BrowserName',
                                                                'right' => undef
                                                            },
                                                            'right' => {
                                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                                'isa'   => [
                                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                                    'MordaX::Experiment::AB::Tree::Node'
                                                                ],
                                                                'left'  => 'OperaMobile',
                                                                'right' => undef
                                                              }
                                                          }
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( !(device.isMobile || device.isTablet) ) && ( (device.BrowserName eq "Chrome" && device.BrowserVersion ge "72") || (device.BrowserName eq "MSIE" && device.BrowserVersion ge "11") || (device.BrowserName eq "Firefox" && device.BrowserVersion ge "65") || (device.BrowserName eq "Safari" && device.BrowserVersion ge "11") || (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "19") || (device.BrowserName eq "Opera" && device.BrowserVersion ge "57") || (device.BrowserName eq "Edge" && device.BrowserVersion ge "16") ) || ( (device.isMobile || device.isTablet) && ( (device.BrowserName eq "ChromeMobile" && device.BrowserVersion ge "72") || (device.BrowserName eq "YandexBrowser" && device.BrowserVersion ge "19") || (device.BrowserName eq "MobileFirefox" && device.BrowserVersion ge "65") || (device.BrowserName eq "OperaMobile" && device.BrowserVersion ge "50") || (device.BrowserName eq "MobileSafari" && device.BrowserVersion ge "11") ) )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::NOT',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isMobile',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'isTablet',
                                'right' => undef
                              }
                        },
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'Chrome',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 72,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'Edge',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 16,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'Opera',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 57,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 19,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                                    'MordaX::Experiment::AB::Tree::Equality',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserName',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'Safari',
                                                    'right' => undef
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                                    'MordaX::Experiment::AB::Tree::Relational',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 'BrowserVersion',
                                                    'right' => undef
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'MordaX::Experiment::AB::Tree::Primary',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left'  => 11,
                                                    'right' => undef
                                                  }
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                                'MordaX::Experiment::AB::Tree::Logical',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'MSIE',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 11,
                                                        'right' => undef
                                                      }
                                                  }
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                                    'MordaX::Experiment::AB::Tree::Logical',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                                        'MordaX::Experiment::AB::Tree::Equality',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserName',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'Firefox',
                                                        'right' => undef
                                                      }
                                                },
                                                'right' => {
                                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                    'isa'   => [
                                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                                        'MordaX::Experiment::AB::Tree::Relational',
                                                        'MordaX::Experiment::AB::Tree::Node'
                                                    ],
                                                    'left' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 'BrowserVersion',
                                                        'right' => undef
                                                    },
                                                    'right' => {
                                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                        'isa'   => [
                                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                                            'MordaX::Experiment::AB::Tree::Primary',
                                                            'MordaX::Experiment::AB::Tree::Node'
                                                        ],
                                                        'left'  => 65,
                                                        'right' => undef
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'ChromeMobile',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 72,
                                    'right' => undef
                                  }
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::OR',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'MordaX::Experiment::AB::Tree::Equality::STR',
                                        'MordaX::Experiment::AB::Tree::Equality',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserName',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'MobileSafari',
                                        'right' => undef
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'MordaX::Experiment::AB::Tree::Relational::VER',
                                        'MordaX::Experiment::AB::Tree::Relational',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 'BrowserVersion',
                                        'right' => undef
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Primary::String',
                                            'MordaX::Experiment::AB::Tree::Primary',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left'  => 11,
                                        'right' => undef
                                      }
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'MordaX::Experiment::AB::Tree::Logical',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'MordaX::Experiment::AB::Tree::Equality::STR',
                                            'MordaX::Experiment::AB::Tree::Equality',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserName',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'OperaMobile',
                                            'right' => undef
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'MordaX::Experiment::AB::Tree::Relational::VER',
                                            'MordaX::Experiment::AB::Tree::Relational',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 'BrowserVersion',
                                            'right' => undef
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Primary::String',
                                                'MordaX::Experiment::AB::Tree::Primary',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left'  => 50,
                                            'right' => undef
                                          }
                                      }
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Logical::OR',
                                        'MordaX::Experiment::AB::Tree::Logical',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'YandexBrowser',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 19,
                                                'right' => undef
                                              }
                                          }
                                    },
                                    'right' => {
                                        'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                                        'isa'   => [
                                            'MordaX::Experiment::AB::Tree::Logical::AND',
                                            'MordaX::Experiment::AB::Tree::Logical',
                                            'MordaX::Experiment::AB::Tree::Node'
                                        ],
                                        'left' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                                'MordaX::Experiment::AB::Tree::Equality',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserName',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'MobileFirefox',
                                                'right' => undef
                                              }
                                        },
                                        'right' => {
                                            'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                            'isa'   => [
                                                'MordaX::Experiment::AB::Tree::Relational::VER::GE',
                                                'MordaX::Experiment::AB::Tree::Relational::VER',
                                                'MordaX::Experiment::AB::Tree::Relational',
                                                'MordaX::Experiment::AB::Tree::Node'
                                            ],
                                            'left' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 'BrowserVersion',
                                                'right' => undef
                                            },
                                            'right' => {
                                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                                'isa'   => [
                                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                                    'MordaX::Experiment::AB::Tree::Primary',
                                                    'MordaX::Experiment::AB::Tree::Node'
                                                ],
                                                'left'  => 65,
                                                'right' => undef
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              }
        },
        {
            'condition' => '( cgi.app_platform eq "android" && cgi.app_version >=6060000 ) || ( cgi.app_platform eq "iphone" && cgi.app_version >=3080000)',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::OR',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'android',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 6060000,
                            'right' => undef
                          }
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Logical::AND',
                        'MordaX::Experiment::AB::Tree::Logical',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'MordaX::Experiment::AB::Tree::Equality::STR',
                            'MordaX::Experiment::AB::Tree::Equality',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_platform',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::String',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'iphone',
                            'right' => undef
                          }
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                            'MordaX::Experiment::AB::Tree::Relational::NUM',
                            'MordaX::Experiment::AB::Tree::Relational',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Cgi',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'app_version',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Number',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 3080000,
                            'right' => undef
                          }
                      }
                  }
              }
        },
        {
            'condition' => '!(device.isMobile || device.isTablet) && !( (device.BrowserEngine eq "Presto") || (device.BrowserName eq "MSIE" && device.BrowserVersion lt "11") )',
            'expected' => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isMobile',
                            'right' => undef
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Primary::Device',
                                'MordaX::Experiment::AB::Tree::Primary',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left'  => 'isTablet',
                            'right' => undef
                          }
                    },
                    'right' => undef
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Primary::NOT',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Primary::NOT',
                        'MordaX::Experiment::AB::Tree::Primary',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Logical::OR',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Logical::OR',
                            'MordaX::Experiment::AB::Tree::Logical',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'MordaX::Experiment::AB::Tree::Equality::STR',
                                'MordaX::Experiment::AB::Tree::Equality',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'BrowserEngine',
                                'right' => undef
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Primary::String',
                                    'MordaX::Experiment::AB::Tree::Primary',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left'  => 'Presto',
                                'right' => undef
                              }
                        },
                        'right' => {
                            'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                            'isa'   => [
                                'MordaX::Experiment::AB::Tree::Logical::AND',
                                'MordaX::Experiment::AB::Tree::Logical',
                                'MordaX::Experiment::AB::Tree::Node'
                            ],
                            'left' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                                    'MordaX::Experiment::AB::Tree::Equality::STR',
                                    'MordaX::Experiment::AB::Tree::Equality',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserName',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'MSIE',
                                    'right' => undef
                                  }
                            },
                            'right' => {
                                'class' => 'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                'isa'   => [
                                    'MordaX::Experiment::AB::Tree::Relational::VER::LT',
                                    'MordaX::Experiment::AB::Tree::Relational::VER',
                                    'MordaX::Experiment::AB::Tree::Relational',
                                    'MordaX::Experiment::AB::Tree::Node'
                                ],
                                'left' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::Device',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::Device',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 'BrowserVersion',
                                    'right' => undef
                                },
                                'right' => {
                                    'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                                    'isa'   => [
                                        'MordaX::Experiment::AB::Tree::Primary::String',
                                        'MordaX::Experiment::AB::Tree::Primary',
                                        'MordaX::Experiment::AB::Tree::Node'
                                    ],
                                    'left'  => 11,
                                    'right' => undef
                                  }
                              }
                          }
                    },
                    'right' => undef
                  }
              }
        },
        {
            'condition' => '(cgi.app_platform eq "iphone" && cgi.app_version >=4050000)',
            'expected'  => {
                'class' => 'MordaX::Experiment::AB::Tree::Logical::AND',
                'isa'   => [
                    'MordaX::Experiment::AB::Tree::Logical::AND',
                    'MordaX::Experiment::AB::Tree::Logical',
                    'MordaX::Experiment::AB::Tree::Node'
                ],
                'left' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Equality::STR::EQ',
                        'MordaX::Experiment::AB::Tree::Equality::STR',
                        'MordaX::Experiment::AB::Tree::Equality',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_platform',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::String',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::String',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'iphone',
                        'right' => undef
                      }
                },
                'right' => {
                    'class' => 'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                    'isa'   => [
                        'MordaX::Experiment::AB::Tree::Relational::NUM::GE',
                        'MordaX::Experiment::AB::Tree::Relational::NUM',
                        'MordaX::Experiment::AB::Tree::Relational',
                        'MordaX::Experiment::AB::Tree::Node'
                    ],
                    'left' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Cgi',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Cgi',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 'app_version',
                        'right' => undef
                    },
                    'right' => {
                        'class' => 'MordaX::Experiment::AB::Tree::Primary::Number',
                        'isa'   => [
                            'MordaX::Experiment::AB::Tree::Primary::Number',
                            'MordaX::Experiment::AB::Tree::Primary',
                            'MordaX::Experiment::AB::Tree::Node'
                        ],
                        'left'  => 4050000,
                        'right' => undef
                      }
                  }
              }
        }
    );
    for my $test (@tests) {
        my $tree = MordaX::Experiment::AB::Parser->parse($test->{condition});
        is_deeply($tree->dump_as_hash, $test->{expected});
    }
    return $self;
}

1;
