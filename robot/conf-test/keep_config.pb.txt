Policy {
    Type: KEEP
    Common {
        Id: 1
        Name: "keep-always"
        FilterLine: "Expr(1)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 2
        Name: "keep-mordas"
        FilterLine: "IsMorda && !HostHasOnlyMorda"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 3
        Name: "keep-turbo-rss"
        FilterLine: "Expr(TurboRssData.IsRss)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 6
        Name: "keep-ppl"
        FilterLine: "Expr(PPLSerpShowsNum:DEFINED) && Expr(!CrawlResult:DEFINED | CrawlResult.LastAccess:ASAGE < 1212400)" # 1212400 = 14 days
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 8
        Name: "keep-music-host-mordas"
        FilterLine: "IsMorda && Expr(HOST.MusicState.MusicHost:DEFINED) && Expr(HOST.MusicState.MusicHost)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 9
        Name: "alisa-chats"
        FilterLine: "Expr(AlisaChatsState:DEFINED) && Expr(AlisaChatsState.IsChat)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 10
        Name: "alisa-skills"
        FilterLine: "Expr(AlisaSkillsState:DEFINED) && Expr(AlisaSkillsState.IsSkill)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 11
        Name: "keep-recrawl-by-list"
        FilterLine: "Expr(RecrawlByListState:DEFINED)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 13
        Name: "turbo-images"
        FilterLine: "FeedLastSignalAgeLessThan(images-turbo,172800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 19
        Name: "keep-news-rss"
        FilterLine: "Expr(NewsRssData.IsRss)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 22
        Name: "keep-yandex-music"
        FilterLine: "FeedLastSignalAgeLessThan(yandex-music,172800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 23
        Name: "zen-rss"
        FilterLine: "IsZenRss"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 24
        Name: "image-with-clicks"
        FilterLine: "HasUserVisitsSince(ImageSearchImageClicksState,86400)"
    }
}


Policy {
    Type: KEEP
    Common {
        Id: 25
        Name: "image-doc-with-clicks"
        FilterLine: "HasUserVisitsSince(ImageSearchDocClicksState,86400)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 26
        Name: "turbo-top-new"
        FilterLine: "FeedLastSignalAgeLessThan(turbo_top_new,604800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 27
        Name: "yandex-tv"
        FilterLine: "HasAnyFeed(yandex-tv) && Expr(AddTime:ASAGE < 604800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 28
        Name: "market-images"
        FilterLine: "FeedLastSignalAgeLessThan(market-images,172800)"
    }
}

# Id 29 can be reused

Policy {
    Type: KEEP
    Common {
        Id: 30
        Name: "zen-publish"
        FilterLine: "HasAnyFeed(zen-publish) && Expr(AddTime:ASAGE < 604800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 31
        Name: "feeds-ext-404-urls"
        FilterLine: "FeedLastSignalAgeLessThan(feeds-ext-404-urls,172800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 32
        Name: "verifying-samples"
        FilterLine: "Expr(VerifyingSampleData.IsVerifyingSample)"
    }
}

# Id 33 can be reused

Policy {
    Type: KEEP
    Common {
        Id: 34
        Name: "health"
        FilterLine: "Expr(HealthState:DEFINED) && Expr(HealthState.IsHealth)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 36
        Name: "turbo-images-rss"
        FilterLine: "FeedLastSignalAgeLessThan(images-turbo-rss,172800) || FeedLastSignalAgeLessThan(images-turbo-api,172800) || FeedLastSignalAgeLessThan(images-turbo-api-fast,172800) || FeedLastSignalAgeLessThan(images-turbo-rss-fast,172800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 37
        Name: "turbo-yml"
        FilterLine: "Expr(YmlCatalogData.IsYml)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 38
        Name: "turbo-images-fresh"
        FilterLine: "FeedLastSignalAgeLessThan(images-turbo-fresh,172800)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 39
        Name: "webmaster-ssl-errors"
        FilterLine: "IsMorda && HostHasSslCertError && Expr(HOST.IsWebmasterHost)"
    }
}

Policy {
    # For case when:
    # CurrentHost.GetHost() != GetHost(CurrentHost.SitemapsState.Sitemaps[*].Url)
    Type: KEEP
    Common {
        Id: 40
        Name: "keep-sitemap-owner-host"
        FilterLine: "IsMorda && HostRecordHasCustomOrWebMasterSitemaps"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 41
        Name: "keep-custom-and-webmaster-sitemaps"
        FilterLine: "IsWebMasterSitemap || IsCustomSitemap"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 42
        Name: "keep-robots-txt-sitemaps"
        FilterLine: "IsRobotsTxtSitemap && !HostHasOnlyMordaAndSitemaps"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 43
        Name: "forced-ovs"
        FilterLine: "HasAnyFeed(forced-ovs)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 44
        Name: "video-with-clicks"
        FilterLine: "HasUserVisitsSince(VideoSearchClicksState,259200)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 45
        Name: "izolenta-image"
        FilterLine: "FeedLastSignalAgeLessThan(izolenta-image,14400)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 46
        Name: "from_custom_sitemap"
        FilterLine: "HasAnyFeed(from_custom_sitemap)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 47
        Name: "vdp"
        FilterLine: "IsNotCrawledFeed(vdp:VIDEO)"
    }
}

# 48 for video-pirates

Policy {
    Type: KEEP
    Common {
        Id: 49
        Name: "image-face-click"
        FilterLine: "FeedLastSignalAgeLessThan(image-face-click,86400)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 50
        Name: "image-face-click-page"
        FilterLine: "FeedLastSignalAgeLessThan(image-face-click-page,86400)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 51
        Name: "news-url-from-rss"
        FilterLine: "FeedLastSignalAgeLessThan(news-url-from-rss,5184000)"
        FilterLine: "FeedLastSignalAgeLessThan(news-url-recrawl-top,5184000)"
        FilterLine: "FeedLastSignalAgeLessThan(news-url-recrawl-dead,5184000)"
        FilterLine: "Expr(NewsDocData.LastUpdateTime:ASAGE < 5184000)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 52
        Name: "patent-search"
        FilterLine: "HasAnyFeed(patent-search)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 54
        Name: "wikidata-updates"
        FilterLine: "HasAnyFeed(wikidata-updates)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 55
        Name: "wiki-snippets"
        FilterLine: "FeedLastSignalAgeLessThan(wiki_snippets,1209600)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 57
        Name: "watch-log"
        FilterLine: "HasWatchLogSignalSince(259200)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 64
        Name: "fifa"
        FilterLine: "FeedLastSignalAgeLessThan(fifa-day,604800) || FeedLastSignalAgeLessThan(fifa-hour,604800) || FeedLastSignalAgeLessThan(fifa-minute,604800)"
    }
}

# 65

Policy {
    Type: KEEP
    Common {
        Id: 68
        Name: "zen-pages"
        FilterLine: "IsUrlInterestingForZen"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 73
        Name: "metrika-amp"
        FilterLine: "FeedLastSignalAgeLessThan(metrika-amp,1209600)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 78
        Name: "wikipedia-updates"
        FilterLine: "FeedLastSignalAgeLessThan(wikipedia-updates,1209600)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 79
        Name: "zen-url-from-rss"
        FilterLine: "FeedLastSignalAgeLessThan(zen-url-from-rss,2592000)"  # 30 days
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 85
        Name: "crawl-by-request"
        FilterLine: "FeedLastSignalAgeLessThan(crawl-by-request-video,5184000) || FeedLastSignalAgeLessThan(crawl-by-request-video-valid,5184000) || FeedLastSignalAgeLessThan(crawl-by-request-valid,5184000) || FeedLastSignalAgeLessThan(crawl-by-request,5184000) || FeedLastSignalAgeLessThan(crawl-by-request-video-thumbs,5184000) || FeedLastSignalAgeLessThan(crawl-by-request-video-thumbs-valid,5184000)"
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 91
        Name: "youtube-channels"
        FilterLine: "Expr(!CrawlResult:DEFINED | CrawlResult.HTTPCode == 200) && UrlRegexp(%5Ehttps%3A%2F%2Fwww%5C.youtube%5C.com%2Fchannel%2F%5B0-9a-zA-Z_%5C-%5D%7B24%7D%24) && !IsSpam && !IsFiltered && Valid"
        RankLine: "ProbabilityOfNewOutLinksRank + Random * 0.01"
        Quota: 5000000
    }
}
Policy {
    Type: KEEP
    Common {
        Id: 92
        Name: "urls-with-bar-visits"
        FilterLine: "!IsSpam && !IsFiltered"
        RankLine: "-AgeSinceLastBarVisitRank - Random * 0.1"
        Quota: 1000000
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 93
        Name: "vk-profiles"
        FilterLine: "Expr(!CrawlResult:DEFINED | CrawlResult.HTTPCode == 200) && UrlRegexp(%5Ehttps%3A%2F%2Fvk%5C.com%2F%28id%7Cclub%7Cevent%7Cpublic%29%5B0-9%5D%7B1%2C%7D%5B%5E%5C-%2F%5C%3F%40%26%25%5D%2A%24) && !IsSpam && !IsFiltered && Valid || Expr(!CrawlResult:DEFINED | CrawlResult.HTTPCode == 200) && UrlRegexp(%5Ehttps%3A%2F%2Fvk%5C.com%2F%5B%5E%5C-%2F%5C%3F%40%26%25%5D%2B%24) && !UrlRegexp(%5Ehttps%3A%2F%2Fvk%5C.com%2F.%2A%5B0-9%5D%7B5%2C%7D.%2A%24) && !IsSpam && !IsFiltered && Valid"
        RankLine: "ProbabilityOfNewOutLinksRank + Random * 0.01"
        Quota: 5000000
    }
}


Policy {
    Type: KEEP
    Common {
        Id: 105
        Name: "mercury-url"
        FilterLine: "RecentlyPublishedByMercury(3d)"
    }
}

Policy {
    Type: KEEP
    Common {
        Id: 112
        Name: "top-videochannels"
        FilterLine: "Expr(VideoChannelState.IsActive)"
    }
}
