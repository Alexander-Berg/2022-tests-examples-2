$ sudo -n -- git rev-parse --abbrev-ref HEAD
stdout: master

$ sudo -n -- git status --untracked-files=all --porcelain
stdout:  M frr/frr.conf

$ sudo -n -- dpkg -S /etc/frr/frr.conf
stdout: frr: /etc/frr/frr.conf

$ sudo -n -- dpkg -L frr
stdout: /.
/etc
/etc/frr
/etc/frr/daemons
/etc/frr/frr.conf
/etc/frr/vtysh.conf
/etc/init.d
/etc/init.d/frr
/etc/iproute2
/etc/iproute2/rt_protos.d
/etc/iproute2/rt_protos.d/frr.conf
/etc/logrotate.d
/etc/logrotate.d/frr
/etc/pam.d
/etc/pam.d/frr
/etc/rsyslog.d
/etc/rsyslog.d/45-frr.conf
/lib
/lib/systemd
/lib/systemd/system
/lib/systemd/system/frr.service
/usr
/usr/bin
/usr/bin/mtracebis
/usr/bin/vtysh
/usr/lib
/usr/lib/frr
/usr/lib/frr/babeld
/usr/lib/frr/bgpd
/usr/lib/frr/eigrpd
/usr/lib/frr/fabricd
/usr/lib/frr/frr-reload
/usr/lib/frr/frrcommon.sh
/usr/lib/frr/frrinit.sh
/usr/lib/frr/isisd
/usr/lib/frr/ldpd
/usr/lib/frr/nhrpd
/usr/lib/frr/ospf6d
/usr/lib/frr/ospfd
/usr/lib/frr/pbrd
/usr/lib/frr/pimd
/usr/lib/frr/ripd
/usr/lib/frr/ripngd
/usr/lib/frr/sharpd
/usr/lib/frr/staticd
/usr/lib/frr/vrrpd
/usr/lib/frr/watchfrr
/usr/lib/frr/watchfrr.sh
/usr/lib/frr/zebra
/usr/lib/tmpfiles.d
/usr/lib/tmpfiles.d/frr.conf
/usr/lib/x86_64-linux-gnu
/usr/lib/x86_64-linux-gnu/frr
/usr/lib/x86_64-linux-gnu/frr/libfrr.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrr_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrcares.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrfpm_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrospfapiclient.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libmlag_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/modules
/usr/lib/x86_64-linux-gnu/frr/modules/zebra_fpm.so
/usr/lib/x86_64-linux-gnu/frr/modules/zebra_irdp.so
/usr/share
/usr/share/cumulus
/usr/share/cumulus/support
/usr/share/cumulus/support/frr
/usr/share/doc
/usr/share/doc/frr
/usr/share/doc/frr/README.Debian.gz
/usr/share/doc/frr/changelog.gz
/usr/share/doc/frr/copyright
/usr/share/doc/frr/examples
/usr/share/doc/frr/examples/babeld.conf.sample
/usr/share/doc/frr/examples/bgpd.conf.sample
/usr/share/doc/frr/examples/bgpd.conf.sample2
/usr/share/doc/frr/examples/bgpd.conf.vnc.sample
/usr/share/doc/frr/examples/eigrpd.conf.sample
/usr/share/doc/frr/examples/fabricd.conf.sample
/usr/share/doc/frr/examples/isisd.conf.sample
/usr/share/doc/frr/examples/ldpd.conf.sample
/usr/share/doc/frr/examples/ospf6d.conf.sample
/usr/share/doc/frr/examples/ospfd.conf.sample
/usr/share/doc/frr/examples/pbrd.conf.sample
/usr/share/doc/frr/examples/pimd.conf.sample
/usr/share/doc/frr/examples/ripd.conf.sample
/usr/share/doc/frr/examples/ripngd.conf.sample
/usr/share/doc/frr/examples/sharpd.conf.sample
/usr/share/doc/frr/examples/staticd.conf.sample
/usr/share/doc/frr/examples/vtysh.conf.sample
/usr/share/doc/frr/examples/zebra.conf.sample
/usr/share/doc/frr/zebra.el
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/frr
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/frr.1.gz
/usr/share/man/man1/vtysh.1.gz
/usr/share/man/man8
/usr/share/man/man8/bgpd.8.gz
/usr/share/man/man8/eigrpd.8.gz
/usr/share/man/man8/fabricd.8.gz
/usr/share/man/man8/isisd.8.gz
/usr/share/man/man8/ldpd.8.gz
/usr/share/man/man8/mtracebis.8.gz
/usr/share/man/man8/nhrpd.8.gz
/usr/share/man/man8/ospf6d.8.gz
/usr/share/man/man8/ospfclient.8.gz
/usr/share/man/man8/ospfd.8.gz
/usr/share/man/man8/pbrd.8.gz
/usr/share/man/man8/pimd.8.gz
/usr/share/man/man8/ripd.8.gz
/usr/share/man/man8/ripngd.8.gz
/usr/share/man/man8/sharpd.8.gz
/usr/share/man/man8/staticd.8.gz
/usr/share/man/man8/vrrpd.8.gz
/usr/share/man/man8/watchfrr.8.gz
/usr/share/man/man8/zebra.8.gz
/usr/share/yang
/usr/share/yang/frr-interface.yang
/usr/share/yang/frr-isisd.yang
/usr/share/yang/frr-module-translator.yang
/usr/share/yang/frr-ripd.yang
/usr/share/yang/frr-ripngd.yang
/usr/share/yang/frr-route-types.yang
/usr/share/yang/frr-test-module.yang
/var
/var/log
/var/log/frr
/usr/lib/x86_64-linux-gnu/frr/libfrr.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrr_pb.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrcares.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrfpm_pb.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrospfapiclient.so.0
/usr/lib/x86_64-linux-gnu/frr/libmlag_pb.so.0

$ sudo -n -- systemd-analyze --no-pager dump
stdout: Timestamp firmware: 22.783521s
-> Unit frr.service:
        Fragment Path: /lib/systemd/system/frr.service
        Unit Active State: active

$ sudo -n -- systemctl show frr.service
stdout: ActiveState=active

$ sudo -n -- git rev-parse HEAD
stdout: 0000001000000000000000000000000000000000

$ sudo -n -- git add .

$ sudo -n --preserve-env -- git commit --author 'test-user <test-user@yandex-team.ru>' -m update /etc/frr/frr.conf
stdout: [master 0000002] update
 Author: test-user <test-user@yandex-team.ru
 1 files changed, 1 insertions(+), 1 deletions(-)

$ sudo -n -- git rev-list --all --count
stdout: 2

$ sudo -n -- ip vrf pids mgmt

$ sudo -n -- ip vrf exec mgmt snmptrap -v 2c -c TzVZ8 noc-myt.yndx.net '' 1.3.6.1.4.1.13238.2 1.3.6.1.4.1.13238.2.1 s root 1.3.6.1.4.1.13238.2.2 i 2

$ sudo -n -- ip vrf pids mgmt

$ sudo -n -- ip vrf exec mgmt snmptrap -v 2c -c TzVZ8 noc-sas.yndx.net '' 1.3.6.1.4.1.13238.2 1.3.6.1.4.1.13238.2.1 s root 1.3.6.1.4.1.13238.2.2 i 2

$ sudo -n -- git rev-parse HEAD
stdout: 0000002000000000000000000000000000000000

$ sudo -n -- git diff-tree --no-commit-id --name-status -r 0000001000000000000000000000000000000000..0000002000000000000000000000000000000000
stdout:  M frr/frr.conf

$ sudo -n -- dpkg -S /etc/frr/frr.conf
stdout: frr: /etc/frr/frr.conf

$ sudo -n -- dpkg -L frr
stdout: /.
/etc
/etc/frr
/etc/frr/daemons
/etc/frr/frr.conf
/etc/frr/vtysh.conf
/etc/init.d
/etc/init.d/frr
/etc/iproute2
/etc/iproute2/rt_protos.d
/etc/iproute2/rt_protos.d/frr.conf
/etc/logrotate.d
/etc/logrotate.d/frr
/etc/pam.d
/etc/pam.d/frr
/etc/rsyslog.d
/etc/rsyslog.d/45-frr.conf
/lib
/lib/systemd
/lib/systemd/system
/lib/systemd/system/frr.service
/usr
/usr/bin
/usr/bin/mtracebis
/usr/bin/vtysh
/usr/lib
/usr/lib/frr
/usr/lib/frr/babeld
/usr/lib/frr/bgpd
/usr/lib/frr/eigrpd
/usr/lib/frr/fabricd
/usr/lib/frr/frr-reload
/usr/lib/frr/frrcommon.sh
/usr/lib/frr/frrinit.sh
/usr/lib/frr/isisd
/usr/lib/frr/ldpd
/usr/lib/frr/nhrpd
/usr/lib/frr/ospf6d
/usr/lib/frr/ospfd
/usr/lib/frr/pbrd
/usr/lib/frr/pimd
/usr/lib/frr/ripd
/usr/lib/frr/ripngd
/usr/lib/frr/sharpd
/usr/lib/frr/staticd
/usr/lib/frr/vrrpd
/usr/lib/frr/watchfrr
/usr/lib/frr/watchfrr.sh
/usr/lib/frr/zebra
/usr/lib/tmpfiles.d
/usr/lib/tmpfiles.d/frr.conf
/usr/lib/x86_64-linux-gnu
/usr/lib/x86_64-linux-gnu/frr
/usr/lib/x86_64-linux-gnu/frr/libfrr.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrr_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrcares.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrfpm_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libfrrospfapiclient.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/libmlag_pb.so.0.0.0
/usr/lib/x86_64-linux-gnu/frr/modules
/usr/lib/x86_64-linux-gnu/frr/modules/zebra_fpm.so
/usr/lib/x86_64-linux-gnu/frr/modules/zebra_irdp.so
/usr/share
/usr/share/cumulus
/usr/share/cumulus/support
/usr/share/cumulus/support/frr
/usr/share/doc
/usr/share/doc/frr
/usr/share/doc/frr/README.Debian.gz
/usr/share/doc/frr/changelog.gz
/usr/share/doc/frr/copyright
/usr/share/doc/frr/examples
/usr/share/doc/frr/examples/babeld.conf.sample
/usr/share/doc/frr/examples/bgpd.conf.sample
/usr/share/doc/frr/examples/bgpd.conf.sample2
/usr/share/doc/frr/examples/bgpd.conf.vnc.sample
/usr/share/doc/frr/examples/eigrpd.conf.sample
/usr/share/doc/frr/examples/fabricd.conf.sample
/usr/share/doc/frr/examples/isisd.conf.sample
/usr/share/doc/frr/examples/ldpd.conf.sample
/usr/share/doc/frr/examples/ospf6d.conf.sample
/usr/share/doc/frr/examples/ospfd.conf.sample
/usr/share/doc/frr/examples/pbrd.conf.sample
/usr/share/doc/frr/examples/pimd.conf.sample
/usr/share/doc/frr/examples/ripd.conf.sample
/usr/share/doc/frr/examples/ripngd.conf.sample
/usr/share/doc/frr/examples/sharpd.conf.sample
/usr/share/doc/frr/examples/staticd.conf.sample
/usr/share/doc/frr/examples/vtysh.conf.sample
/usr/share/doc/frr/examples/zebra.conf.sample
/usr/share/doc/frr/zebra.el
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/frr
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/frr.1.gz
/usr/share/man/man1/vtysh.1.gz
/usr/share/man/man8
/usr/share/man/man8/bgpd.8.gz
/usr/share/man/man8/eigrpd.8.gz
/usr/share/man/man8/fabricd.8.gz
/usr/share/man/man8/isisd.8.gz
/usr/share/man/man8/ldpd.8.gz
/usr/share/man/man8/mtracebis.8.gz
/usr/share/man/man8/nhrpd.8.gz
/usr/share/man/man8/ospf6d.8.gz
/usr/share/man/man8/ospfclient.8.gz
/usr/share/man/man8/ospfd.8.gz
/usr/share/man/man8/pbrd.8.gz
/usr/share/man/man8/pimd.8.gz
/usr/share/man/man8/ripd.8.gz
/usr/share/man/man8/ripngd.8.gz
/usr/share/man/man8/sharpd.8.gz
/usr/share/man/man8/staticd.8.gz
/usr/share/man/man8/vrrpd.8.gz
/usr/share/man/man8/watchfrr.8.gz
/usr/share/man/man8/zebra.8.gz
/usr/share/yang
/usr/share/yang/frr-interface.yang
/usr/share/yang/frr-isisd.yang
/usr/share/yang/frr-module-translator.yang
/usr/share/yang/frr-ripd.yang
/usr/share/yang/frr-ripngd.yang
/usr/share/yang/frr-route-types.yang
/usr/share/yang/frr-test-module.yang
/var
/var/log
/var/log/frr
/usr/lib/x86_64-linux-gnu/frr/libfrr.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrr_pb.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrcares.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrfpm_pb.so.0
/usr/lib/x86_64-linux-gnu/frr/libfrrospfapiclient.so.0
/usr/lib/x86_64-linux-gnu/frr/libmlag_pb.so.0


$ sudo -n -- systemctl is-active frr.service
stdout: active

$ sudo -n -- systemctl try-reload-or-restart frr.service

$ sudo -n -- systemctl is-active frr.service
stdout: active
